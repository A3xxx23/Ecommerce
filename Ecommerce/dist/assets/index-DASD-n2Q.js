var u_=n=>{throw TypeError(n)};var f0=(n,e,t)=>e.has(n)||u_("Cannot "+t);var j=(n,e,t)=>(f0(n,e,"read from private field"),t?t.call(n):e.get(n)),_e=(n,e,t)=>e.has(n)?u_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),le=(n,e,t,r)=>(f0(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),Ie=(n,e,t)=>(f0(n,e,"access private method"),t);var gp=(n,e,t,r)=>({set _(s){le(n,e,s,t)},get _(){return j(n,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();function Jb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function hP(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}),t}var h0={exports:{}},xd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function pP(){if(d_)return xd;d_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,i){var o=null;if(i!==void 0&&(o=""+i),s.key!==void 0&&(o=""+s.key),"key"in s){i={};for(var c in s)c!=="key"&&(i[c]=s[c])}else i=s;return s=i.ref,{$$typeof:n,type:r,key:o,ref:s!==void 0?s:null,props:i}}return xd.Fragment=e,xd.jsx=t,xd.jsxs=t,xd}var f_;function mP(){return f_||(f_=1,h0.exports=pP()),h0.exports}var v=mP(),p0={exports:{}},We={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function gP(){if(h_)return We;h_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(D){return D===null||typeof D!="object"?null:(D=m&&D[m]||D["@@iterator"],typeof D=="function"?D:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function k(D,W,ke){this.props=D,this.context=W,this.refs=S,this.updater=ke||b}k.prototype.isReactComponent={},k.prototype.setState=function(D,W){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,W,"setState")},k.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function E(){}E.prototype=k.prototype;function T(D,W,ke){this.props=D,this.context=W,this.refs=S,this.updater=ke||b}var N=T.prototype=new E;N.constructor=T,w(N,k.prototype),N.isPureReactComponent=!0;var U=Array.isArray,A={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function I(D,W,ke,Te,pe,Ze){return ke=Ze.ref,{$$typeof:n,type:D,key:W,ref:ke!==void 0?ke:null,props:Ze}}function F(D,W){return I(D.type,W,void 0,void 0,void 0,D.props)}function z(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function te(D){var W={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ke){return W[ke]})}var Ce=/\/+/g;function Oe(D,W){return typeof D=="object"&&D!==null&&D.key!=null?te(""+D.key):W.toString(36)}function De(){}function st(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(De,De):(D.status="pending",D.then(function(W){D.status==="pending"&&(D.status="fulfilled",D.value=W)},function(W){D.status==="pending"&&(D.status="rejected",D.reason=W)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Fe(D,W,ke,Te,pe){var Ze=typeof D;(Ze==="undefined"||Ze==="boolean")&&(D=null);var Je=!1;if(D===null)Je=!0;else switch(Ze){case"bigint":case"string":case"number":Je=!0;break;case"object":switch(D.$$typeof){case n:case e:Je=!0;break;case p:return Je=D._init,Fe(Je(D._payload),W,ke,Te,pe)}}if(Je)return pe=pe(D),Je=Te===""?"."+Oe(D,0):Te,U(pe)?(ke="",Je!=null&&(ke=Je.replace(Ce,"$&/")+"/"),Fe(pe,W,ke,"",function(nt){return nt})):pe!=null&&(z(pe)&&(pe=F(pe,ke+(pe.key==null||D&&D.key===pe.key?"":(""+pe.key).replace(Ce,"$&/")+"/")+Je)),W.push(pe)),1;Je=0;var ln=Te===""?".":Te+":";if(U(D))for(var pt=0;pt<D.length;pt++)Te=D[pt],Ze=ln+Oe(Te,pt),Je+=Fe(Te,W,ke,Ze,pe);else if(pt=y(D),typeof pt=="function")for(D=pt.call(D),pt=0;!(Te=D.next()).done;)Te=Te.value,Ze=ln+Oe(Te,pt++),Je+=Fe(Te,W,ke,Ze,pe);else if(Ze==="object"){if(typeof D.then=="function")return Fe(st(D),W,ke,Te,pe);throw W=String(D),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Je}function ie(D,W,ke){if(D==null)return D;var Te=[],pe=0;return Fe(D,Te,"","",function(Ze){return W.call(ke,Ze,pe++)}),Te}function ue(D){if(D._status===-1){var W=D._result;W=W(),W.then(function(ke){(D._status===0||D._status===-1)&&(D._status=1,D._result=ke)},function(ke){(D._status===0||D._status===-1)&&(D._status=2,D._result=ke)}),D._status===-1&&(D._status=0,D._result=W)}if(D._status===1)return D._result.default;throw D._result}var fe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Ge(){}return We.Children={map:ie,forEach:function(D,W,ke){ie(D,function(){W.apply(this,arguments)},ke)},count:function(D){var W=0;return ie(D,function(){W++}),W},toArray:function(D){return ie(D,function(W){return W})||[]},only:function(D){if(!z(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},We.Component=k,We.Fragment=t,We.Profiler=s,We.PureComponent=T,We.StrictMode=r,We.Suspense=u,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,We.act=function(){throw Error("act(...) is not supported in production builds of React.")},We.cache=function(D){return function(){return D.apply(null,arguments)}},We.cloneElement=function(D,W,ke){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var Te=w({},D.props),pe=D.key,Ze=void 0;if(W!=null)for(Je in W.ref!==void 0&&(Ze=void 0),W.key!==void 0&&(pe=""+W.key),W)!L.call(W,Je)||Je==="key"||Je==="__self"||Je==="__source"||Je==="ref"&&W.ref===void 0||(Te[Je]=W[Je]);var Je=arguments.length-2;if(Je===1)Te.children=ke;else if(1<Je){for(var ln=Array(Je),pt=0;pt<Je;pt++)ln[pt]=arguments[pt+2];Te.children=ln}return I(D.type,pe,void 0,void 0,Ze,Te)},We.createContext=function(D){return D={$$typeof:o,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:i,_context:D},D},We.createElement=function(D,W,ke){var Te,pe={},Ze=null;if(W!=null)for(Te in W.key!==void 0&&(Ze=""+W.key),W)L.call(W,Te)&&Te!=="key"&&Te!=="__self"&&Te!=="__source"&&(pe[Te]=W[Te]);var Je=arguments.length-2;if(Je===1)pe.children=ke;else if(1<Je){for(var ln=Array(Je),pt=0;pt<Je;pt++)ln[pt]=arguments[pt+2];pe.children=ln}if(D&&D.defaultProps)for(Te in Je=D.defaultProps,Je)pe[Te]===void 0&&(pe[Te]=Je[Te]);return I(D,Ze,void 0,void 0,null,pe)},We.createRef=function(){return{current:null}},We.forwardRef=function(D){return{$$typeof:c,render:D}},We.isValidElement=z,We.lazy=function(D){return{$$typeof:p,_payload:{_status:-1,_result:D},_init:ue}},We.memo=function(D,W){return{$$typeof:f,type:D,compare:W===void 0?null:W}},We.startTransition=function(D){var W=A.T,ke={};A.T=ke;try{var Te=D(),pe=A.S;pe!==null&&pe(ke,Te),typeof Te=="object"&&Te!==null&&typeof Te.then=="function"&&Te.then(Ge,fe)}catch(Ze){fe(Ze)}finally{A.T=W}},We.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},We.use=function(D){return A.H.use(D)},We.useActionState=function(D,W,ke){return A.H.useActionState(D,W,ke)},We.useCallback=function(D,W){return A.H.useCallback(D,W)},We.useContext=function(D){return A.H.useContext(D)},We.useDebugValue=function(){},We.useDeferredValue=function(D,W){return A.H.useDeferredValue(D,W)},We.useEffect=function(D,W){return A.H.useEffect(D,W)},We.useId=function(){return A.H.useId()},We.useImperativeHandle=function(D,W,ke){return A.H.useImperativeHandle(D,W,ke)},We.useInsertionEffect=function(D,W){return A.H.useInsertionEffect(D,W)},We.useLayoutEffect=function(D,W){return A.H.useLayoutEffect(D,W)},We.useMemo=function(D,W){return A.H.useMemo(D,W)},We.useOptimistic=function(D,W){return A.H.useOptimistic(D,W)},We.useReducer=function(D,W,ke){return A.H.useReducer(D,W,ke)},We.useRef=function(D){return A.H.useRef(D)},We.useState=function(D){return A.H.useState(D)},We.useSyncExternalStore=function(D,W,ke){return A.H.useSyncExternalStore(D,W,ke)},We.useTransition=function(){return A.H.useTransition()},We.version="19.0.0",We}var p_;function Xb(){return p_||(p_=1,p0.exports=gP()),p0.exports}var M=Xb();const ze=Jb(M);var m0={exports:{}},wd={},g0={exports:{}},y0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function yP(){return m_||(m_=1,function(n){function e(ie,ue){var fe=ie.length;ie.push(ue);e:for(;0<fe;){var Ge=fe-1>>>1,D=ie[Ge];if(0<s(D,ue))ie[Ge]=ue,ie[fe]=D,fe=Ge;else break e}}function t(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var ue=ie[0],fe=ie.pop();if(fe!==ue){ie[0]=fe;e:for(var Ge=0,D=ie.length,W=D>>>1;Ge<W;){var ke=2*(Ge+1)-1,Te=ie[ke],pe=ke+1,Ze=ie[pe];if(0>s(Te,fe))pe<D&&0>s(Ze,Te)?(ie[Ge]=Ze,ie[pe]=fe,Ge=pe):(ie[Ge]=Te,ie[ke]=fe,Ge=ke);else if(pe<D&&0>s(Ze,fe))ie[Ge]=Ze,ie[pe]=fe,Ge=pe;else break e}}return ue}function s(ie,ue){var fe=ie.sortIndex-ue.sortIndex;return fe!==0?fe:ie.id-ue.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();n.unstable_now=function(){return o.now()-c}}var u=[],f=[],p=1,m=null,y=3,b=!1,w=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function N(ie){for(var ue=t(f);ue!==null;){if(ue.callback===null)r(f);else if(ue.startTime<=ie)r(f),ue.sortIndex=ue.expirationTime,e(u,ue);else break;ue=t(f)}}function U(ie){if(S=!1,N(ie),!w)if(t(u)!==null)w=!0,st();else{var ue=t(f);ue!==null&&Fe(U,ue.startTime-ie)}}var A=!1,L=-1,I=5,F=-1;function z(){return!(n.unstable_now()-F<I)}function te(){if(A){var ie=n.unstable_now();F=ie;var ue=!0;try{e:{w=!1,S&&(S=!1,E(L),L=-1),b=!0;var fe=y;try{t:{for(N(ie),m=t(u);m!==null&&!(m.expirationTime>ie&&z());){var Ge=m.callback;if(typeof Ge=="function"){m.callback=null,y=m.priorityLevel;var D=Ge(m.expirationTime<=ie);if(ie=n.unstable_now(),typeof D=="function"){m.callback=D,N(ie),ue=!0;break t}m===t(u)&&r(u),N(ie)}else r(u);m=t(u)}if(m!==null)ue=!0;else{var W=t(f);W!==null&&Fe(U,W.startTime-ie),ue=!1}}break e}finally{m=null,y=fe,b=!1}ue=void 0}}finally{ue?Ce():A=!1}}}var Ce;if(typeof T=="function")Ce=function(){T(te)};else if(typeof MessageChannel<"u"){var Oe=new MessageChannel,De=Oe.port2;Oe.port1.onmessage=te,Ce=function(){De.postMessage(null)}}else Ce=function(){k(te,0)};function st(){A||(A=!0,Ce())}function Fe(ie,ue){L=k(function(){ie(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){w||b||(w=!0,st())},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(ie){switch(y){case 1:case 2:case 3:var ue=3;break;default:ue=y}var fe=y;y=ue;try{return ie()}finally{y=fe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,ue){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var fe=y;y=ie;try{return ue()}finally{y=fe}},n.unstable_scheduleCallback=function(ie,ue,fe){var Ge=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ge+fe:Ge):fe=Ge,ie){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=fe+D,ie={id:p++,callback:ue,priorityLevel:ie,startTime:fe,expirationTime:D,sortIndex:-1},fe>Ge?(ie.sortIndex=fe,e(f,ie),t(u)===null&&ie===t(f)&&(S?(E(L),L=-1):S=!0,Fe(U,fe-Ge))):(ie.sortIndex=D,e(u,ie),w||b||(w=!0,st())),ie},n.unstable_shouldYield=z,n.unstable_wrapCallback=function(ie){var ue=y;return function(){var fe=y;y=ue;try{return ie.apply(this,arguments)}finally{y=fe}}}}(y0)),y0}var g_;function vP(){return g_||(g_=1,g0.exports=yP()),g0.exports}var v0={exports:{}},Zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_;function bP(){if(y_)return Zn;y_=1;var n=Xb();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(u,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:m==null?null:""+m,children:u,containerInfo:f,implementation:p}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Zn.createPortal=function(u,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return i(u,f,null,p)},Zn.flushSync=function(u){var f=o.T,p=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=f,r.p=p,r.d.f()}},Zn.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(u,f))},Zn.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Zn.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var p=f.as,m=c(p,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:b}):p==="script"&&r.d.X(u,{crossOrigin:m,integrity:y,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Zn.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);r.d.M(u,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(u)},Zn.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=c(p,f.crossOrigin);r.d.L(u,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Zn.preloadModule=function(u,f){if(typeof u=="string")if(f){var p=c(f.as,f.crossOrigin);r.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(u)},Zn.requestFormReset=function(u){r.d.r(u)},Zn.unstable_batchedUpdates=function(u,f){return u(f)},Zn.useFormState=function(u,f,p){return o.H.useFormState(u,f,p)},Zn.useFormStatus=function(){return o.H.useHostTransitionStatus()},Zn.version="19.0.0",Zn}var v_;function DA(){if(v_)return v0.exports;v_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),v0.exports=bP(),v0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function xP(){if(b_)return wd;b_=1;var n=vP(),e=Xb(),t=DA();function r(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}var i=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),y=Symbol.for("react.consumer"),b=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),N=Symbol.for("react.offscreen"),U=Symbol.for("react.memo_cache_sentinel"),A=Symbol.iterator;function L(a){return a===null||typeof a!="object"?null:(a=A&&a[A]||a["@@iterator"],typeof a=="function"?a:null)}var I=Symbol.for("react.client.reference");function F(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===I?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case u:return"Fragment";case c:return"Portal";case p:return"Profiler";case f:return"StrictMode";case S:return"Suspense";case k:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case b:return(a.displayName||"Context")+".Provider";case y:return(a._context.displayName||"Context")+".Consumer";case w:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case E:return l=a.displayName||null,l!==null?l:F(a.type)||"Memo";case T:l=a._payload,a=a._init;try{return F(a(l))}catch{}}return null}var z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=Object.assign,Ce,Oe;function De(a){if(Ce===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);Ce=l&&l[1]||"",Oe=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ce+a+Oe}var st=!1;function Fe(a,l){if(!a||st)return"";st=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(l){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var G=Q}Reflect.construct(a,[],ee)}else{try{ee.call()}catch(Q){G=Q}a.call(ee.prototype)}}else{try{throw Error()}catch(Q){G=Q}(ee=a())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=h.DetermineComponentFrameRoot(),_=x[0],C=x[1];if(_&&C){var O=_.split(`
`),B=C.split(`
`);for(g=h=0;h<O.length&&!O[h].includes("DetermineComponentFrameRoot");)h++;for(;g<B.length&&!B[g].includes("DetermineComponentFrameRoot");)g++;if(h===O.length||g===B.length)for(h=O.length-1,g=B.length-1;1<=h&&0<=g&&O[h]!==B[g];)g--;for(;1<=h&&0<=g;h--,g--)if(O[h]!==B[g]){if(h!==1||g!==1)do if(h--,g--,0>g||O[h]!==B[g]){var J=`
`+O[h].replace(" at new "," at ");return a.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",a.displayName)),J}while(1<=h&&0<=g);break}}}finally{st=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?De(d):""}function ie(a){switch(a.tag){case 26:case 27:case 5:return De(a.type);case 16:return De("Lazy");case 13:return De("Suspense");case 19:return De("SuspenseList");case 0:case 15:return a=Fe(a.type,!1),a;case 11:return a=Fe(a.type.render,!1),a;case 1:return a=Fe(a.type,!0),a;default:return""}}function ue(a){try{var l="";do l+=ie(a),a=a.return;while(a);return l}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function fe(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function Ge(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function D(a){if(fe(a)!==a)throw Error(r(188))}function W(a){var l=a.alternate;if(!l){if(l=fe(a),l===null)throw Error(r(188));return l!==a?null:a}for(var d=a,h=l;;){var g=d.return;if(g===null)break;var x=g.alternate;if(x===null){if(h=g.return,h!==null){d=h;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===d)return D(g),a;if(x===h)return D(g),l;x=x.sibling}throw Error(r(188))}if(d.return!==h.return)d=g,h=x;else{for(var _=!1,C=g.child;C;){if(C===d){_=!0,d=g,h=x;break}if(C===h){_=!0,h=g,d=x;break}C=C.sibling}if(!_){for(C=x.child;C;){if(C===d){_=!0,d=x,h=g;break}if(C===h){_=!0,h=x,d=g;break}C=C.sibling}if(!_)throw Error(r(189))}}if(d.alternate!==h)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?a:l}function ke(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=ke(a),l!==null)return l;a=a.sibling}return null}var Te=Array.isArray,pe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ze={pending:!1,data:null,method:null,action:null},Je=[],ln=-1;function pt(a){return{current:a}}function nt(a){0>ln||(a.current=Je[ln],Je[ln]=null,ln--)}function mt(a,l){ln++,Je[ln]=a.current,a.current=l}var Rn=pt(null),Ps=pt(null),xn=pt(null),oi=pt(null);function Yi(a,l){switch(mt(xn,l),mt(Ps,a),mt(Rn,null),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)&&(l=l.namespaceURI)?Bk(l):0;break;default:if(a=a===8?l.parentNode:l,l=a.tagName,a=a.namespaceURI)a=Bk(a),l=Ik(a,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}nt(Rn),mt(Rn,l)}function Br(){nt(Rn),nt(Ps),nt(xn)}function Qi(a){a.memoizedState!==null&&mt(oi,a);var l=Rn.current,d=Ik(l,a.type);l!==d&&(mt(Ps,a),mt(Rn,d))}function Ji(a){Ps.current===a&&(nt(Rn),nt(Ps)),oi.current===a&&(nt(oi),md._currentValue=Ze)}var go=Object.prototype.hasOwnProperty,Dl=n.unstable_scheduleCallback,mr=n.unstable_cancelCallback,R=n.unstable_shouldYield,K=n.unstable_requestPaint,Y=n.unstable_now,ce=n.unstable_getCurrentPriorityLevel,oe=n.unstable_ImmediatePriority,ae=n.unstable_UserBlockingPriority,me=n.unstable_NormalPriority,ct=n.unstable_LowPriority,xt=n.unstable_IdlePriority,rn=n.log,Pl=n.unstable_setDisableYieldValue,Ir=null,mn=null;function Ll(a){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(Ir,a,void 0,(a.current.flags&128)===128)}catch{}}function Kn(a){if(typeof rn=="function"&&Pl(a),mn&&typeof mn.setStrictMode=="function")try{mn.setStrictMode(Ir,a)}catch{}}var wn=Math.clz32?Math.clz32:lh,Xi=Math.log,lg=Math.LN2;function lh(a){return a>>>=0,a===0?32:31-(Xi(a)/lg|0)|0}var zl=128,yo=4194304;function Ur(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function li(a,l){var d=a.pendingLanes;if(d===0)return 0;var h=0,g=a.suspendedLanes,x=a.pingedLanes,_=a.warmLanes;a=a.finishedLanes!==0;var C=d&134217727;return C!==0?(d=C&~g,d!==0?h=Ur(d):(x&=C,x!==0?h=Ur(x):a||(_=C&~_,_!==0&&(h=Ur(_))))):(C=d&~g,C!==0?h=Ur(C):x!==0?h=Ur(x):a||(_=d&~_,_!==0&&(h=Ur(_)))),h===0?0:l!==0&&l!==h&&(l&g)===0&&(g=h&-h,_=l&-l,g>=_||g===32&&(_&4194176)!==0)?l:h}function vo(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function cg(a,l){switch(a){case 1:case 2:case 4:case 8:return l+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P(){var a=zl;return zl<<=1,(zl&4194176)===0&&(zl=128),a}function q(){var a=yo;return yo<<=1,(yo&62914560)===0&&(yo=4194304),a}function Z(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function re(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function he(a,l,d,h,g,x){var _=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var C=a.entanglements,O=a.expirationTimes,B=a.hiddenUpdates;for(d=_&~d;0<d;){var J=31-wn(d),ee=1<<J;C[J]=0,O[J]=-1;var G=B[J];if(G!==null)for(B[J]=null,J=0;J<G.length;J++){var Q=G[J];Q!==null&&(Q.lane&=-536870913)}d&=~ee}h!==0&&Ve(a,h,0),x!==0&&g===0&&a.tag!==0&&(a.suspendedLanes|=x&~(_&~l))}function Ve(a,l,d){a.pendingLanes|=l,a.suspendedLanes&=~l;var h=31-wn(l);a.entangledLanes|=l,a.entanglements[h]=a.entanglements[h]|1073741824|d&4194218}function Le(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var h=31-wn(d),g=1<<h;g&l|a[h]&l&&(a[h]|=l),d&=~g}}function Me(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function je(){var a=pe.p;return a!==0?a:(a=window.event,a===void 0?32:s_(a.type))}function be(a,l){var d=pe.p;try{return pe.p=a,l()}finally{pe.p=d}}var xe=Math.random().toString(36).slice(2),we="__reactFiber$"+xe,Ke="__reactProps$"+xe,Ct="__reactContainer$"+xe,cn="__reactEvents$"+xe,Gt="__reactListeners$"+xe,zt="__reactHandles$"+xe,Zt="__reactResources$"+xe,Fr="__reactMarker$"+xe;function ci(a){delete a[we],delete a[Ke],delete a[cn],delete a[Gt],delete a[zt]}function Dn(a){var l=a[we];if(l)return l;for(var d=a.parentNode;d;){if(l=d[Ct]||d[we]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(a=$k(a);a!==null;){if(d=a[we])return d;a=$k(a)}return l}a=d,d=a.parentNode}return null}function Pn(a){if(a=a[we]||a[Ct]){var l=a.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return a}return null}function ui(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(r(33))}function $r(a){var l=a[Zt];return l||(l=a[Zt]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function jt(a){a[Fr]=!0}var bo=new Set,xo={};function gt(a,l){Bt(a,l),Bt(a+"Capture",l)}function Bt(a,l){for(xo[a]=l,a=0;a<l.length;a++)bo.add(l[a])}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),It={},di={};function ch(a){return go.call(di,a)?!0:go.call(It,a)?!1:wo.test(a)?di[a]=!0:(It[a]=!0,!1)}function Vl(a,l,d){if(ch(l))if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var h=l.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+d)}}function uh(a,l,d){if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+d)}}function fi(a,l,d,h){if(h===null)a.removeAttribute(d);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(l,d,""+h)}}function qr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Fw(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function lD(a){var l=Fw(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),h=""+a[l];if(!a.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var g=d.get,x=d.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return g.call(this)},set:function(_){h=""+_,x.call(this,_)}}),Object.defineProperty(a,l,{enumerable:d.enumerable}),{getValue:function(){return h},setValue:function(_){h=""+_},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function dh(a){a._valueTracker||(a._valueTracker=lD(a))}function $w(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var d=l.getValue(),h="";return a&&(h=Fw(a)?a.checked?"true":"false":a.value),a=h,a!==d?(l.setValue(a),!0):!1}function fh(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var cD=/[\n"\\]/g;function Hr(a){return a.replace(cD,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function ug(a,l,d,h,g,x,_,C){a.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?a.type=_:a.removeAttribute("type"),l!=null?_==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+qr(l)):a.value!==""+qr(l)&&(a.value=""+qr(l)):_!=="submit"&&_!=="reset"||a.removeAttribute("value"),l!=null?dg(a,_,qr(l)):d!=null?dg(a,_,qr(d)):h!=null&&a.removeAttribute("value"),g==null&&x!=null&&(a.defaultChecked=!!x),g!=null&&(a.checked=g&&typeof g!="function"&&typeof g!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?a.name=""+qr(C):a.removeAttribute("name")}function qw(a,l,d,h,g,x,_,C){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.type=x),l!=null||d!=null){if(!(x!=="submit"&&x!=="reset"||l!=null))return;d=d!=null?""+qr(d):"",l=l!=null?""+qr(l):d,C||l===a.value||(a.value=l),a.defaultValue=l}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=C?a.checked:!!h,a.defaultChecked=!!h,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.name=_)}function dg(a,l,d){l==="number"&&fh(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function Bl(a,l,d,h){if(a=a.options,l){l={};for(var g=0;g<d.length;g++)l["$"+d[g]]=!0;for(d=0;d<a.length;d++)g=l.hasOwnProperty("$"+a[d].value),a[d].selected!==g&&(a[d].selected=g),g&&h&&(a[d].defaultSelected=!0)}else{for(d=""+qr(d),l=null,g=0;g<a.length;g++){if(a[g].value===d){a[g].selected=!0,h&&(a[g].defaultSelected=!0);return}l!==null||a[g].disabled||(l=a[g])}l!==null&&(l.selected=!0)}}function Hw(a,l,d){if(l!=null&&(l=""+qr(l),l!==a.value&&(a.value=l),d==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=d!=null?""+qr(d):""}function Kw(a,l,d,h){if(l==null){if(h!=null){if(d!=null)throw Error(r(92));if(Te(h)){if(1<h.length)throw Error(r(93));h=h[0]}d=h}d==null&&(d=""),l=d}d=qr(l),a.defaultValue=d,h=a.textContent,h===d&&h!==""&&h!==null&&(a.value=h)}function Il(a,l){if(l){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=l;return}}a.textContent=l}var uD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gw(a,l,d){var h=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?h?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":h?a.setProperty(l,d):typeof d!="number"||d===0||uD.has(l)?l==="float"?a.cssFloat=d:a[l]=(""+d).trim():a[l]=d+"px"}function Zw(a,l,d){if(l!=null&&typeof l!="object")throw Error(r(62));if(a=a.style,d!=null){for(var h in d)!d.hasOwnProperty(h)||l!=null&&l.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var g in l)h=l[g],l.hasOwnProperty(g)&&d[g]!==h&&Gw(a,g,h)}else for(var x in l)l.hasOwnProperty(x)&&Gw(a,x,l[x])}function fg(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hh(a){return fD.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var hg=null;function pg(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ul=null,Fl=null;function Yw(a){var l=Pn(a);if(l&&(a=l.stateNode)){var d=a[Ke]||null;e:switch(a=l.stateNode,l.type){case"input":if(ug(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Hr(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var h=d[l];if(h!==a&&h.form===a.form){var g=h[Ke]||null;if(!g)throw Error(r(90));ug(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(l=0;l<d.length;l++)h=d[l],h.form===a.form&&$w(h)}break e;case"textarea":Hw(a,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&Bl(a,!!d.multiple,l,!1)}}}var mg=!1;function Qw(a,l,d){if(mg)return a(l,d);mg=!0;try{var h=a(l);return h}finally{if(mg=!1,(Ul!==null||Fl!==null)&&(Qh(),Ul&&(l=Ul,a=Fl,Fl=Ul=null,Yw(l),a)))for(l=0;l<a.length;l++)Yw(a[l])}}function Mu(a,l){var d=a.stateNode;if(d===null)return null;var h=d[Ke]||null;if(h===null)return null;d=h[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var gg=!1;if(gr)try{var Nu={};Object.defineProperty(Nu,"passive",{get:function(){gg=!0}}),window.addEventListener("test",Nu,Nu),window.removeEventListener("test",Nu,Nu)}catch{gg=!1}var Wi=null,yg=null,ph=null;function Jw(){if(ph)return ph;var a,l=yg,d=l.length,h,g="value"in Wi?Wi.value:Wi.textContent,x=g.length;for(a=0;a<d&&l[a]===g[a];a++);var _=d-a;for(h=1;h<=_&&l[d-h]===g[x-h];h++);return ph=g.slice(a,1<h?1-h:void 0)}function mh(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function gh(){return!0}function Xw(){return!1}function yr(a){function l(d,h,g,x,_){this._reactName=d,this._targetInst=g,this.type=h,this.nativeEvent=x,this.target=_,this.currentTarget=null;for(var C in a)a.hasOwnProperty(C)&&(d=a[C],this[C]=d?d(x):x[C]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?gh:Xw,this.isPropagationStopped=Xw,this}return te(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=gh)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=gh)},persist:function(){},isPersistent:gh}),l}var So={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yh=yr(So),Ou=te({},So,{view:0,detail:0}),hD=yr(Ou),vg,bg,ju,vh=te({},Ou,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wg,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ju&&(ju&&a.type==="mousemove"?(vg=a.screenX-ju.screenX,bg=a.screenY-ju.screenY):bg=vg=0,ju=a),vg)},movementY:function(a){return"movementY"in a?a.movementY:bg}}),Ww=yr(vh),pD=te({},vh,{dataTransfer:0}),mD=yr(pD),gD=te({},Ou,{relatedTarget:0}),xg=yr(gD),yD=te({},So,{animationName:0,elapsedTime:0,pseudoElement:0}),vD=yr(yD),bD=te({},So,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),xD=yr(bD),wD=te({},So,{data:0}),e1=yr(wD),SD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_D={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ED(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=_D[a])?!!l[a]:!1}function wg(){return ED}var TD=te({},Ou,{key:function(a){if(a.key){var l=SD[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=mh(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?kD[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wg,charCode:function(a){return a.type==="keypress"?mh(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?mh(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),CD=yr(TD),AD=te({},vh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),t1=yr(AD),MD=te({},Ou,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wg}),ND=yr(MD),OD=te({},So,{propertyName:0,elapsedTime:0,pseudoElement:0}),jD=yr(OD),RD=te({},vh,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),DD=yr(RD),PD=te({},So,{newState:0,oldState:0}),LD=yr(PD),zD=[9,13,27,32],Sg=gr&&"CompositionEvent"in window,Ru=null;gr&&"documentMode"in document&&(Ru=document.documentMode);var VD=gr&&"TextEvent"in window&&!Ru,n1=gr&&(!Sg||Ru&&8<Ru&&11>=Ru),r1=" ",s1=!1;function i1(a,l){switch(a){case"keyup":return zD.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function a1(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var $l=!1;function BD(a,l){switch(a){case"compositionend":return a1(l);case"keypress":return l.which!==32?null:(s1=!0,r1);case"textInput":return a=l.data,a===r1&&s1?null:a;default:return null}}function ID(a,l){if($l)return a==="compositionend"||!Sg&&i1(a,l)?(a=Jw(),ph=yg=Wi=null,$l=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return n1&&l.locale!=="ko"?null:l.data;default:return null}}var UD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function o1(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!UD[a.type]:l==="textarea"}function l1(a,l,d,h){Ul?Fl?Fl.push(h):Fl=[h]:Ul=h,l=tp(l,"onChange"),0<l.length&&(d=new yh("onChange","change",null,d,h),a.push({event:d,listeners:l}))}var Du=null,Pu=null;function FD(a){Dk(a,0)}function bh(a){var l=ui(a);if($w(l))return a}function c1(a,l){if(a==="change")return l}var u1=!1;if(gr){var kg;if(gr){var _g="oninput"in document;if(!_g){var d1=document.createElement("div");d1.setAttribute("oninput","return;"),_g=typeof d1.oninput=="function"}kg=_g}else kg=!1;u1=kg&&(!document.documentMode||9<document.documentMode)}function f1(){Du&&(Du.detachEvent("onpropertychange",h1),Pu=Du=null)}function h1(a){if(a.propertyName==="value"&&bh(Pu)){var l=[];l1(l,Pu,a,pg(a)),Qw(FD,l)}}function $D(a,l,d){a==="focusin"?(f1(),Du=l,Pu=d,Du.attachEvent("onpropertychange",h1)):a==="focusout"&&f1()}function qD(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return bh(Pu)}function HD(a,l){if(a==="click")return bh(l)}function KD(a,l){if(a==="input"||a==="change")return bh(l)}function GD(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Ar=typeof Object.is=="function"?Object.is:GD;function Lu(a,l){if(Ar(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),h=Object.keys(l);if(d.length!==h.length)return!1;for(h=0;h<d.length;h++){var g=d[h];if(!go.call(l,g)||!Ar(a[g],l[g]))return!1}return!0}function p1(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function m1(a,l){var d=p1(a);a=0;for(var h;d;){if(d.nodeType===3){if(h=a+d.textContent.length,a<=l&&h>=l)return{node:d,offset:l-a};a=h}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=p1(d)}}function g1(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?g1(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function y1(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=fh(a.document);l instanceof a.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)a=l.contentWindow;else break;l=fh(a.document)}return l}function Eg(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function ZD(a,l){var d=y1(l);l=a.focusedElem;var h=a.selectionRange;if(d!==l&&l&&l.ownerDocument&&g1(l.ownerDocument.documentElement,l)){if(h!==null&&Eg(l)){if(a=h.start,d=h.end,d===void 0&&(d=a),"selectionStart"in l)l.selectionStart=a,l.selectionEnd=Math.min(d,l.value.length);else if(d=(a=l.ownerDocument||document)&&a.defaultView||window,d.getSelection){d=d.getSelection();var g=l.textContent.length,x=Math.min(h.start,g);h=h.end===void 0?x:Math.min(h.end,g),!d.extend&&x>h&&(g=h,h=x,x=g),g=m1(l,x);var _=m1(l,h);g&&_&&(d.rangeCount!==1||d.anchorNode!==g.node||d.anchorOffset!==g.offset||d.focusNode!==_.node||d.focusOffset!==_.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),d.removeAllRanges(),x>h?(d.addRange(a),d.extend(_.node,_.offset)):(a.setEnd(_.node,_.offset),d.addRange(a)))}}for(a=[],d=l;d=d.parentNode;)d.nodeType===1&&a.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<a.length;l++)d=a[l],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var YD=gr&&"documentMode"in document&&11>=document.documentMode,ql=null,Tg=null,zu=null,Cg=!1;function v1(a,l,d){var h=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Cg||ql==null||ql!==fh(h)||(h=ql,"selectionStart"in h&&Eg(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),zu&&Lu(zu,h)||(zu=h,h=tp(Tg,"onSelect"),0<h.length&&(l=new yh("onSelect","select",null,l,d),a.push({event:l,listeners:h}),l.target=ql)))}function ko(a,l){var d={};return d[a.toLowerCase()]=l.toLowerCase(),d["Webkit"+a]="webkit"+l,d["Moz"+a]="moz"+l,d}var Hl={animationend:ko("Animation","AnimationEnd"),animationiteration:ko("Animation","AnimationIteration"),animationstart:ko("Animation","AnimationStart"),transitionrun:ko("Transition","TransitionRun"),transitionstart:ko("Transition","TransitionStart"),transitioncancel:ko("Transition","TransitionCancel"),transitionend:ko("Transition","TransitionEnd")},Ag={},b1={};gr&&(b1=document.createElement("div").style,"AnimationEvent"in window||(delete Hl.animationend.animation,delete Hl.animationiteration.animation,delete Hl.animationstart.animation),"TransitionEvent"in window||delete Hl.transitionend.transition);function _o(a){if(Ag[a])return Ag[a];if(!Hl[a])return a;var l=Hl[a],d;for(d in l)if(l.hasOwnProperty(d)&&d in b1)return Ag[a]=l[d];return a}var x1=_o("animationend"),w1=_o("animationiteration"),S1=_o("animationstart"),QD=_o("transitionrun"),JD=_o("transitionstart"),XD=_o("transitioncancel"),k1=_o("transitionend"),_1=new Map,E1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function vs(a,l){_1.set(a,l),gt(l,[a])}var Kr=[],Kl=0,Mg=0;function xh(){for(var a=Kl,l=Mg=Kl=0;l<a;){var d=Kr[l];Kr[l++]=null;var h=Kr[l];Kr[l++]=null;var g=Kr[l];Kr[l++]=null;var x=Kr[l];if(Kr[l++]=null,h!==null&&g!==null){var _=h.pending;_===null?g.next=g:(g.next=_.next,_.next=g),h.pending=g}x!==0&&T1(d,g,x)}}function wh(a,l,d,h){Kr[Kl++]=a,Kr[Kl++]=l,Kr[Kl++]=d,Kr[Kl++]=h,Mg|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function Ng(a,l,d,h){return wh(a,l,d,h),Sh(a)}function ea(a,l){return wh(a,null,null,l),Sh(a)}function T1(a,l,d){a.lanes|=d;var h=a.alternate;h!==null&&(h.lanes|=d);for(var g=!1,x=a.return;x!==null;)x.childLanes|=d,h=x.alternate,h!==null&&(h.childLanes|=d),x.tag===22&&(a=x.stateNode,a===null||a._visibility&1||(g=!0)),a=x,x=x.return;g&&l!==null&&a.tag===3&&(x=a.stateNode,g=31-wn(d),x=x.hiddenUpdates,a=x[g],a===null?x[g]=[l]:a.push(l),l.lane=d|536870912)}function Sh(a){if(50<ld)throw ld=0,Ly=null,Error(r(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var Gl={},C1=new WeakMap;function Gr(a,l){if(typeof a=="object"&&a!==null){var d=C1.get(a);return d!==void 0?d:(l={value:a,source:l,stack:ue(l)},C1.set(a,l),l)}return{value:a,source:l,stack:ue(l)}}var Zl=[],Yl=0,kh=null,_h=0,Zr=[],Yr=0,Eo=null,hi=1,pi="";function To(a,l){Zl[Yl++]=_h,Zl[Yl++]=kh,kh=a,_h=l}function A1(a,l,d){Zr[Yr++]=hi,Zr[Yr++]=pi,Zr[Yr++]=Eo,Eo=a;var h=hi;a=pi;var g=32-wn(h)-1;h&=~(1<<g),d+=1;var x=32-wn(l)+g;if(30<x){var _=g-g%5;x=(h&(1<<_)-1).toString(32),h>>=_,g-=_,hi=1<<32-wn(l)+g|d<<g|h,pi=x+a}else hi=1<<x|d<<g|h,pi=a}function Og(a){a.return!==null&&(To(a,1),A1(a,1,0))}function jg(a){for(;a===kh;)kh=Zl[--Yl],Zl[Yl]=null,_h=Zl[--Yl],Zl[Yl]=null;for(;a===Eo;)Eo=Zr[--Yr],Zr[Yr]=null,pi=Zr[--Yr],Zr[Yr]=null,hi=Zr[--Yr],Zr[Yr]=null}var rr=null,Ln=null,wt=!1,bs=null,Ls=!1,Rg=Error(r(519));function Co(a){var l=Error(r(418,""));throw Iu(Gr(l,a)),Rg}function M1(a){var l=a.stateNode,d=a.type,h=a.memoizedProps;switch(l[we]=a,l[Ke]=h,d){case"dialog":ft("cancel",l),ft("close",l);break;case"iframe":case"object":case"embed":ft("load",l);break;case"video":case"audio":for(d=0;d<ud.length;d++)ft(ud[d],l);break;case"source":ft("error",l);break;case"img":case"image":case"link":ft("error",l),ft("load",l);break;case"details":ft("toggle",l);break;case"input":ft("invalid",l),qw(l,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),dh(l);break;case"select":ft("invalid",l);break;case"textarea":ft("invalid",l),Kw(l,h.value,h.defaultValue,h.children),dh(l)}d=h.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||h.suppressHydrationWarning===!0||Vk(l.textContent,d)?(h.popover!=null&&(ft("beforetoggle",l),ft("toggle",l)),h.onScroll!=null&&ft("scroll",l),h.onScrollEnd!=null&&ft("scrollend",l),h.onClick!=null&&(l.onclick=np),l=!0):l=!1,l||Co(a)}function N1(a){for(rr=a.return;rr;)switch(rr.tag){case 3:case 27:Ls=!0;return;case 5:case 13:Ls=!1;return;default:rr=rr.return}}function Vu(a){if(a!==rr)return!1;if(!wt)return N1(a),wt=!0,!1;var l=!1,d;if((d=a.tag!==3&&a.tag!==27)&&((d=a.tag===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||Wy(a.type,a.memoizedProps)),d=!d),d&&(l=!0),l&&Ln&&Co(a),N1(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8)if(d=a.data,d==="/$"){if(l===0){Ln=ws(a.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++;a=a.nextSibling}Ln=null}}else Ln=rr?ws(a.stateNode.nextSibling):null;return!0}function Bu(){Ln=rr=null,wt=!1}function Iu(a){bs===null?bs=[a]:bs.push(a)}var Uu=Error(r(460)),O1=Error(r(474)),Dg={then:function(){}};function j1(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Eh(){}function R1(a,l,d){switch(d=a[d],d===void 0?a.push(l):d!==l&&(l.then(Eh,Eh),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,a===Uu?Error(r(483)):a;default:if(typeof l.status=="string")l.then(Eh,Eh);else{if(a=Rt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=l,a.status="pending",a.then(function(h){if(l.status==="pending"){var g=l;g.status="fulfilled",g.value=h}},function(h){if(l.status==="pending"){var g=l;g.status="rejected",g.reason=h}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,a===Uu?Error(r(483)):a}throw Fu=l,Uu}}var Fu=null;function D1(){if(Fu===null)throw Error(r(459));var a=Fu;return Fu=null,a}var Ql=null,$u=0;function Th(a){var l=$u;return $u+=1,Ql===null&&(Ql=[]),R1(Ql,a,l)}function qu(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function Ch(a,l){throw l.$$typeof===i?Error(r(525)):(a=Object.prototype.toString.call(l),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function P1(a){var l=a._init;return l(a._payload)}function L1(a){function l($,V){if(a){var H=$.deletions;H===null?($.deletions=[V],$.flags|=16):H.push(V)}}function d($,V){if(!a)return null;for(;V!==null;)l($,V),V=V.sibling;return null}function h($){for(var V=new Map;$!==null;)$.key!==null?V.set($.key,$):V.set($.index,$),$=$.sibling;return V}function g($,V){return $=fa($,V),$.index=0,$.sibling=null,$}function x($,V,H){return $.index=H,a?(H=$.alternate,H!==null?(H=H.index,H<V?($.flags|=33554434,V):H):($.flags|=33554434,V)):($.flags|=1048576,V)}function _($){return a&&$.alternate===null&&($.flags|=33554434),$}function C($,V,H,X){return V===null||V.tag!==6?(V=Ay(H,$.mode,X),V.return=$,V):(V=g(V,H),V.return=$,V)}function O($,V,H,X){var Se=H.type;return Se===u?J($,V,H.props.children,X,H.key):V!==null&&(V.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===T&&P1(Se)===V.type)?(V=g(V,H.props),qu(V,H),V.return=$,V):(V=Hh(H.type,H.key,H.props,null,$.mode,X),qu(V,H),V.return=$,V)}function B($,V,H,X){return V===null||V.tag!==4||V.stateNode.containerInfo!==H.containerInfo||V.stateNode.implementation!==H.implementation?(V=My(H,$.mode,X),V.return=$,V):(V=g(V,H.children||[]),V.return=$,V)}function J($,V,H,X,Se){return V===null||V.tag!==7?(V=zo(H,$.mode,X,Se),V.return=$,V):(V=g(V,H),V.return=$,V)}function ee($,V,H){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Ay(""+V,$.mode,H),V.return=$,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case o:return H=Hh(V.type,V.key,V.props,null,$.mode,H),qu(H,V),H.return=$,H;case c:return V=My(V,$.mode,H),V.return=$,V;case T:var X=V._init;return V=X(V._payload),ee($,V,H)}if(Te(V)||L(V))return V=zo(V,$.mode,H,null),V.return=$,V;if(typeof V.then=="function")return ee($,Th(V),H);if(V.$$typeof===b)return ee($,Fh($,V),H);Ch($,V)}return null}function G($,V,H,X){var Se=V!==null?V.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Se!==null?null:C($,V,""+H,X);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case o:return H.key===Se?O($,V,H,X):null;case c:return H.key===Se?B($,V,H,X):null;case T:return Se=H._init,H=Se(H._payload),G($,V,H,X)}if(Te(H)||L(H))return Se!==null?null:J($,V,H,X,null);if(typeof H.then=="function")return G($,V,Th(H),X);if(H.$$typeof===b)return G($,V,Fh($,H),X);Ch($,H)}return null}function Q($,V,H,X,Se){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return $=$.get(H)||null,C(V,$,""+X,Se);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case o:return $=$.get(X.key===null?H:X.key)||null,O(V,$,X,Se);case c:return $=$.get(X.key===null?H:X.key)||null,B(V,$,X,Se);case T:var ot=X._init;return X=ot(X._payload),Q($,V,H,X,Se)}if(Te(X)||L(X))return $=$.get(H)||null,J(V,$,X,Se,null);if(typeof X.then=="function")return Q($,V,H,Th(X),Se);if(X.$$typeof===b)return Q($,V,H,Fh(V,X),Se);Ch(V,X)}return null}function Ne($,V,H,X){for(var Se=null,ot=null,Re=V,Be=V=0,_n=null;Re!==null&&Be<H.length;Be++){Re.index>Be?(_n=Re,Re=null):_n=Re.sibling;var St=G($,Re,H[Be],X);if(St===null){Re===null&&(Re=_n);break}a&&Re&&St.alternate===null&&l($,Re),V=x(St,V,Be),ot===null?Se=St:ot.sibling=St,ot=St,Re=_n}if(Be===H.length)return d($,Re),wt&&To($,Be),Se;if(Re===null){for(;Be<H.length;Be++)Re=ee($,H[Be],X),Re!==null&&(V=x(Re,V,Be),ot===null?Se=Re:ot.sibling=Re,ot=Re);return wt&&To($,Be),Se}for(Re=h(Re);Be<H.length;Be++)_n=Q(Re,$,Be,H[Be],X),_n!==null&&(a&&_n.alternate!==null&&Re.delete(_n.key===null?Be:_n.key),V=x(_n,V,Be),ot===null?Se=_n:ot.sibling=_n,ot=_n);return a&&Re.forEach(function(ba){return l($,ba)}),wt&&To($,Be),Se}function Qe($,V,H,X){if(H==null)throw Error(r(151));for(var Se=null,ot=null,Re=V,Be=V=0,_n=null,St=H.next();Re!==null&&!St.done;Be++,St=H.next()){Re.index>Be?(_n=Re,Re=null):_n=Re.sibling;var ba=G($,Re,St.value,X);if(ba===null){Re===null&&(Re=_n);break}a&&Re&&ba.alternate===null&&l($,Re),V=x(ba,V,Be),ot===null?Se=ba:ot.sibling=ba,ot=ba,Re=_n}if(St.done)return d($,Re),wt&&To($,Be),Se;if(Re===null){for(;!St.done;Be++,St=H.next())St=ee($,St.value,X),St!==null&&(V=x(St,V,Be),ot===null?Se=St:ot.sibling=St,ot=St);return wt&&To($,Be),Se}for(Re=h(Re);!St.done;Be++,St=H.next())St=Q(Re,$,Be,St.value,X),St!==null&&(a&&St.alternate!==null&&Re.delete(St.key===null?Be:St.key),V=x(St,V,Be),ot===null?Se=St:ot.sibling=St,ot=St);return a&&Re.forEach(function(fP){return l($,fP)}),wt&&To($,Be),Se}function Jt($,V,H,X){if(typeof H=="object"&&H!==null&&H.type===u&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case o:e:{for(var Se=H.key;V!==null;){if(V.key===Se){if(Se=H.type,Se===u){if(V.tag===7){d($,V.sibling),X=g(V,H.props.children),X.return=$,$=X;break e}}else if(V.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===T&&P1(Se)===V.type){d($,V.sibling),X=g(V,H.props),qu(X,H),X.return=$,$=X;break e}d($,V);break}else l($,V);V=V.sibling}H.type===u?(X=zo(H.props.children,$.mode,X,H.key),X.return=$,$=X):(X=Hh(H.type,H.key,H.props,null,$.mode,X),qu(X,H),X.return=$,$=X)}return _($);case c:e:{for(Se=H.key;V!==null;){if(V.key===Se)if(V.tag===4&&V.stateNode.containerInfo===H.containerInfo&&V.stateNode.implementation===H.implementation){d($,V.sibling),X=g(V,H.children||[]),X.return=$,$=X;break e}else{d($,V);break}else l($,V);V=V.sibling}X=My(H,$.mode,X),X.return=$,$=X}return _($);case T:return Se=H._init,H=Se(H._payload),Jt($,V,H,X)}if(Te(H))return Ne($,V,H,X);if(L(H)){if(Se=L(H),typeof Se!="function")throw Error(r(150));return H=Se.call(H),Qe($,V,H,X)}if(typeof H.then=="function")return Jt($,V,Th(H),X);if(H.$$typeof===b)return Jt($,V,Fh($,H),X);Ch($,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,V!==null&&V.tag===6?(d($,V.sibling),X=g(V,H),X.return=$,$=X):(d($,V),X=Ay(H,$.mode,X),X.return=$,$=X),_($)):d($,V)}return function($,V,H,X){try{$u=0;var Se=Jt($,V,H,X);return Ql=null,Se}catch(Re){if(Re===Uu)throw Re;var ot=Wr(29,Re,null,$.mode);return ot.lanes=X,ot.return=$,ot}finally{}}}var Ao=L1(!0),z1=L1(!1),Jl=pt(null),Ah=pt(0);function V1(a,l){a=Ei,mt(Ah,a),mt(Jl,l),Ei=a|l.baseLanes}function Pg(){mt(Ah,Ei),mt(Jl,Jl.current)}function Lg(){Ei=Ah.current,nt(Jl),nt(Ah)}var Qr=pt(null),zs=null;function ta(a){var l=a.alternate;mt(gn,gn.current&1),mt(Qr,a),zs===null&&(l===null||Jl.current!==null||l.memoizedState!==null)&&(zs=a)}function B1(a){if(a.tag===22){if(mt(gn,gn.current),mt(Qr,a),zs===null){var l=a.alternate;l!==null&&l.memoizedState!==null&&(zs=a)}}else na()}function na(){mt(gn,gn.current),mt(Qr,Qr.current)}function mi(a){nt(Qr),zs===a&&(zs=null),nt(gn)}var gn=pt(0);function Mh(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var WD=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(d,h){a.push(h)}};this.abort=function(){l.aborted=!0,a.forEach(function(d){return d()})}},e2=n.unstable_scheduleCallback,t2=n.unstable_NormalPriority,yn={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zg(){return{controller:new WD,data:new Map,refCount:0}}function Hu(a){a.refCount--,a.refCount===0&&e2(t2,function(){a.controller.abort()})}var Ku=null,Vg=0,Xl=0,Wl=null;function n2(a,l){if(Ku===null){var d=Ku=[];Vg=0,Xl=qy(),Wl={status:"pending",value:void 0,then:function(h){d.push(h)}}}return Vg++,l.then(I1,I1),l}function I1(){if(--Vg===0&&Ku!==null){Wl!==null&&(Wl.status="fulfilled");var a=Ku;Ku=null,Xl=0,Wl=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function r2(a,l){var d=[],h={status:"pending",value:null,reason:null,then:function(g){d.push(g)}};return a.then(function(){h.status="fulfilled",h.value=l;for(var g=0;g<d.length;g++)(0,d[g])(l)},function(g){for(h.status="rejected",h.reason=g,g=0;g<d.length;g++)(0,d[g])(void 0)}),h}var U1=z.S;z.S=function(a,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&n2(a,l),U1!==null&&U1(a,l)};var Mo=pt(null);function Bg(){var a=Mo.current;return a!==null?a:Rt.pooledCache}function Nh(a,l){l===null?mt(Mo,Mo.current):mt(Mo,l.pool)}function F1(){var a=Bg();return a===null?null:{parent:yn._currentValue,pool:a}}var ra=0,it=null,At=null,un=null,Oh=!1,ec=!1,No=!1,jh=0,Gu=0,tc=null,s2=0;function sn(){throw Error(r(321))}function Ig(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!Ar(a[d],l[d]))return!1;return!0}function Ug(a,l,d,h,g,x){return ra=x,it=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,z.H=a===null||a.memoizedState===null?Oo:sa,No=!1,x=d(h,g),No=!1,ec&&(x=q1(l,d,h,g)),$1(a),x}function $1(a){z.H=Vs;var l=At!==null&&At.next!==null;if(ra=0,un=At=it=null,Oh=!1,Gu=0,tc=null,l)throw Error(r(300));a===null||Sn||(a=a.dependencies,a!==null&&Uh(a)&&(Sn=!0))}function q1(a,l,d,h){it=a;var g=0;do{if(ec&&(tc=null),Gu=0,ec=!1,25<=g)throw Error(r(301));if(g+=1,un=At=null,a.updateQueue!=null){var x=a.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}z.H=jo,x=l(d,h)}while(ec);return x}function i2(){var a=z.H,l=a.useState()[0];return l=typeof l.then=="function"?Zu(l):l,a=a.useState()[0],(At!==null?At.memoizedState:null)!==a&&(it.flags|=1024),l}function Fg(){var a=jh!==0;return jh=0,a}function $g(a,l,d){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~d}function qg(a){if(Oh){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}Oh=!1}ra=0,un=At=it=null,ec=!1,Gu=jh=0,tc=null}function vr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?it.memoizedState=un=a:un=un.next=a,un}function dn(){if(At===null){var a=it.alternate;a=a!==null?a.memoizedState:null}else a=At.next;var l=un===null?it.memoizedState:un.next;if(l!==null)un=l,At=a;else{if(a===null)throw it.alternate===null?Error(r(467)):Error(r(310));At=a,a={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},un===null?it.memoizedState=un=a:un=un.next=a}return un}var Rh;Rh=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Zu(a){var l=Gu;return Gu+=1,tc===null&&(tc=[]),a=R1(tc,a,l),l=it,(un===null?l.memoizedState:un.next)===null&&(l=l.alternate,z.H=l===null||l.memoizedState===null?Oo:sa),a}function Dh(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Zu(a);if(a.$$typeof===b)return Gn(a)}throw Error(r(438,String(a)))}function Hg(a){var l=null,d=it.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var h=it.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(l={data:h.data.map(function(g){return g.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=Rh(),it.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(a),h=0;h<a;h++)d[h]=U;return l.index++,d}function gi(a,l){return typeof l=="function"?l(a):l}function Ph(a){var l=dn();return Kg(l,At,a)}function Kg(a,l,d){var h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=d;var g=a.baseQueue,x=h.pending;if(x!==null){if(g!==null){var _=g.next;g.next=x.next,x.next=_}l.baseQueue=g=x,h.pending=null}if(x=a.baseState,g===null)a.memoizedState=x;else{l=g.next;var C=_=null,O=null,B=l,J=!1;do{var ee=B.lane&-536870913;if(ee!==B.lane?(yt&ee)===ee:(ra&ee)===ee){var G=B.revertLane;if(G===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),ee===Xl&&(J=!0);else if((ra&G)===G){B=B.next,G===Xl&&(J=!0);continue}else ee={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(C=O=ee,_=x):O=O.next=ee,it.lanes|=G,ha|=G;ee=B.action,No&&d(x,ee),x=B.hasEagerState?B.eagerState:d(x,ee)}else G={lane:ee,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(C=O=G,_=x):O=O.next=G,it.lanes|=ee,ha|=ee;B=B.next}while(B!==null&&B!==l);if(O===null?_=x:O.next=C,!Ar(x,a.memoizedState)&&(Sn=!0,J&&(d=Wl,d!==null)))throw d;a.memoizedState=x,a.baseState=_,a.baseQueue=O,h.lastRenderedState=x}return g===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function Gg(a){var l=dn(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var h=d.dispatch,g=d.pending,x=l.memoizedState;if(g!==null){d.pending=null;var _=g=g.next;do x=a(x,_.action),_=_.next;while(_!==g);Ar(x,l.memoizedState)||(Sn=!0),l.memoizedState=x,l.baseQueue===null&&(l.baseState=x),d.lastRenderedState=x}return[x,h]}function H1(a,l,d){var h=it,g=dn(),x=wt;if(x){if(d===void 0)throw Error(r(407));d=d()}else d=l();var _=!Ar((At||g).memoizedState,d);if(_&&(g.memoizedState=d,Sn=!0),g=g.queue,Qg(Z1.bind(null,h,g,a),[a]),g.getSnapshot!==l||_||un!==null&&un.memoizedState.tag&1){if(h.flags|=2048,nc(9,G1.bind(null,h,g,d,l),{destroy:void 0},null),Rt===null)throw Error(r(349));x||(ra&60)!==0||K1(h,l,d)}return d}function K1(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=it.updateQueue,l===null?(l=Rh(),it.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function G1(a,l,d,h){l.value=d,l.getSnapshot=h,Y1(l)&&Q1(a)}function Z1(a,l,d){return d(function(){Y1(l)&&Q1(a)})}function Y1(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!Ar(a,d)}catch{return!0}}function Q1(a){var l=ea(a,2);l!==null&&sr(l,a,2)}function Zg(a){var l=vr();if(typeof a=="function"){var d=a;if(a=d(),No){Kn(!0);try{d()}finally{Kn(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:a},l}function J1(a,l,d,h){return a.baseState=d,Kg(a,At,typeof h=="function"?h:gi)}function a2(a,l,d,h,g){if(Vh(a))throw Error(r(485));if(a=l.action,a!==null){var x={payload:g,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){x.listeners.push(_)}};z.T!==null?d(!0):x.isTransition=!1,h(x),d=l.pending,d===null?(x.next=l.pending=x,X1(l,x)):(x.next=d.next,l.pending=d.next=x)}}function X1(a,l){var d=l.action,h=l.payload,g=a.state;if(l.isTransition){var x=z.T,_={};z.T=_;try{var C=d(g,h),O=z.S;O!==null&&O(_,C),W1(a,l,C)}catch(B){Yg(a,l,B)}finally{z.T=x}}else try{x=d(g,h),W1(a,l,x)}catch(B){Yg(a,l,B)}}function W1(a,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(h){eS(a,l,h)},function(h){return Yg(a,l,h)}):eS(a,l,d)}function eS(a,l,d){l.status="fulfilled",l.value=d,tS(l),a.state=d,l=a.pending,l!==null&&(d=l.next,d===l?a.pending=null:(d=d.next,l.next=d,X1(a,d)))}function Yg(a,l,d){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do l.status="rejected",l.reason=d,tS(l),l=l.next;while(l!==h)}a.action=null}function tS(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function nS(a,l){return l}function rS(a,l){if(wt){var d=Rt.formState;if(d!==null){e:{var h=it;if(wt){if(Ln){t:{for(var g=Ln,x=Ls;g.nodeType!==8;){if(!x){g=null;break t}if(g=ws(g.nextSibling),g===null){g=null;break t}}x=g.data,g=x==="F!"||x==="F"?g:null}if(g){Ln=ws(g.nextSibling),h=g.data==="F!";break e}}Co(h)}h=!1}h&&(l=d[0])}}return d=vr(),d.memoizedState=d.baseState=l,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nS,lastRenderedState:l},d.queue=h,d=wS.bind(null,it,h),h.dispatch=d,h=Zg(!1),x=ty.bind(null,it,!1,h.queue),h=vr(),g={state:l,dispatch:null,action:a,pending:null},h.queue=g,d=a2.bind(null,it,g,x,d),g.dispatch=d,h.memoizedState=a,[l,d,!1]}function sS(a){var l=dn();return iS(l,At,a)}function iS(a,l,d){l=Kg(a,l,nS)[0],a=Ph(gi)[0],l=typeof l=="object"&&l!==null&&typeof l.then=="function"?Zu(l):l;var h=dn(),g=h.queue,x=g.dispatch;return d!==h.memoizedState&&(it.flags|=2048,nc(9,o2.bind(null,g,d),{destroy:void 0},null)),[l,x,a]}function o2(a,l){a.action=l}function aS(a){var l=dn(),d=At;if(d!==null)return iS(l,d,a);dn(),l=l.memoizedState,d=dn();var h=d.queue.dispatch;return d.memoizedState=a,[l,h,!1]}function nc(a,l,d,h){return a={tag:a,create:l,inst:d,deps:h,next:null},l=it.updateQueue,l===null&&(l=Rh(),it.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=a.next=a:(h=d.next,d.next=a,a.next=h,l.lastEffect=a),a}function oS(){return dn().memoizedState}function Lh(a,l,d,h){var g=vr();it.flags|=a,g.memoizedState=nc(1|l,d,{destroy:void 0},h===void 0?null:h)}function zh(a,l,d,h){var g=dn();h=h===void 0?null:h;var x=g.memoizedState.inst;At!==null&&h!==null&&Ig(h,At.memoizedState.deps)?g.memoizedState=nc(l,d,x,h):(it.flags|=a,g.memoizedState=nc(1|l,d,x,h))}function lS(a,l){Lh(8390656,8,a,l)}function Qg(a,l){zh(2048,8,a,l)}function cS(a,l){return zh(4,2,a,l)}function uS(a,l){return zh(4,4,a,l)}function dS(a,l){if(typeof l=="function"){a=a();var d=l(a);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function fS(a,l,d){d=d!=null?d.concat([a]):null,zh(4,4,dS.bind(null,l,a),d)}function Jg(){}function hS(a,l){var d=dn();l=l===void 0?null:l;var h=d.memoizedState;return l!==null&&Ig(l,h[1])?h[0]:(d.memoizedState=[a,l],a)}function pS(a,l){var d=dn();l=l===void 0?null:l;var h=d.memoizedState;if(l!==null&&Ig(l,h[1]))return h[0];if(h=a(),No){Kn(!0);try{a()}finally{Kn(!1)}}return d.memoizedState=[h,l],h}function Xg(a,l,d){return d===void 0||(ra&1073741824)!==0?a.memoizedState=l:(a.memoizedState=d,a=gk(),it.lanes|=a,ha|=a,d)}function mS(a,l,d,h){return Ar(d,l)?d:Jl.current!==null?(a=Xg(a,d,h),Ar(a,l)||(Sn=!0),a):(ra&42)===0?(Sn=!0,a.memoizedState=d):(a=gk(),it.lanes|=a,ha|=a,l)}function gS(a,l,d,h,g){var x=pe.p;pe.p=x!==0&&8>x?x:8;var _=z.T,C={};z.T=C,ty(a,!1,l,d);try{var O=g(),B=z.S;if(B!==null&&B(C,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var J=r2(O,h);Yu(a,l,J,jr(a))}else Yu(a,l,h,jr(a))}catch(ee){Yu(a,l,{then:function(){},status:"rejected",reason:ee},jr())}finally{pe.p=x,z.T=_}}function l2(){}function Wg(a,l,d,h){if(a.tag!==5)throw Error(r(476));var g=yS(a).queue;gS(a,g,l,Ze,d===null?l2:function(){return vS(a),d(h)})}function yS(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:Ze,baseState:Ze,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:Ze},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:d},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function vS(a){var l=yS(a).next.queue;Yu(a,l,{},jr())}function ey(){return Gn(md)}function bS(){return dn().memoizedState}function xS(){return dn().memoizedState}function c2(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var d=jr();a=oa(d);var h=la(l,a,d);h!==null&&(sr(h,l,d),Xu(h,l,d)),l={cache:zg()},a.payload=l;return}l=l.return}}function u2(a,l,d){var h=jr();d={lane:h,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},Vh(a)?SS(l,d):(d=Ng(a,l,d,h),d!==null&&(sr(d,a,h),kS(d,l,h)))}function wS(a,l,d){var h=jr();Yu(a,l,d,h)}function Yu(a,l,d,h){var g={lane:h,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(Vh(a))SS(l,g);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=l.lastRenderedReducer,x!==null))try{var _=l.lastRenderedState,C=x(_,d);if(g.hasEagerState=!0,g.eagerState=C,Ar(C,_))return wh(a,l,g,0),Rt===null&&xh(),!1}catch{}finally{}if(d=Ng(a,l,g,h),d!==null)return sr(d,a,h),kS(d,l,h),!0}return!1}function ty(a,l,d,h){if(h={lane:2,revertLane:qy(),action:h,hasEagerState:!1,eagerState:null,next:null},Vh(a)){if(l)throw Error(r(479))}else l=Ng(a,d,h,2),l!==null&&sr(l,a,2)}function Vh(a){var l=a.alternate;return a===it||l!==null&&l===it}function SS(a,l){ec=Oh=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function kS(a,l,d){if((d&4194176)!==0){var h=l.lanes;h&=a.pendingLanes,d|=h,l.lanes=d,Le(a,d)}}var Vs={readContext:Gn,use:Dh,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useLayoutEffect:sn,useInsertionEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useSyncExternalStore:sn,useId:sn};Vs.useCacheRefresh=sn,Vs.useMemoCache=sn,Vs.useHostTransitionStatus=sn,Vs.useFormState=sn,Vs.useActionState=sn,Vs.useOptimistic=sn;var Oo={readContext:Gn,use:Dh,useCallback:function(a,l){return vr().memoizedState=[a,l===void 0?null:l],a},useContext:Gn,useEffect:lS,useImperativeHandle:function(a,l,d){d=d!=null?d.concat([a]):null,Lh(4194308,4,dS.bind(null,l,a),d)},useLayoutEffect:function(a,l){return Lh(4194308,4,a,l)},useInsertionEffect:function(a,l){Lh(4,2,a,l)},useMemo:function(a,l){var d=vr();l=l===void 0?null:l;var h=a();if(No){Kn(!0);try{a()}finally{Kn(!1)}}return d.memoizedState=[h,l],h},useReducer:function(a,l,d){var h=vr();if(d!==void 0){var g=d(l);if(No){Kn(!0);try{d(l)}finally{Kn(!1)}}}else g=l;return h.memoizedState=h.baseState=g,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:g},h.queue=a,a=a.dispatch=u2.bind(null,it,a),[h.memoizedState,a]},useRef:function(a){var l=vr();return a={current:a},l.memoizedState=a},useState:function(a){a=Zg(a);var l=a.queue,d=wS.bind(null,it,l);return l.dispatch=d,[a.memoizedState,d]},useDebugValue:Jg,useDeferredValue:function(a,l){var d=vr();return Xg(d,a,l)},useTransition:function(){var a=Zg(!1);return a=gS.bind(null,it,a.queue,!0,!1),vr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,d){var h=it,g=vr();if(wt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),Rt===null)throw Error(r(349));(yt&60)!==0||K1(h,l,d)}g.memoizedState=d;var x={value:d,getSnapshot:l};return g.queue=x,lS(Z1.bind(null,h,x,a),[a]),h.flags|=2048,nc(9,G1.bind(null,h,x,d,l),{destroy:void 0},null),d},useId:function(){var a=vr(),l=Rt.identifierPrefix;if(wt){var d=pi,h=hi;d=(h&~(1<<32-wn(h)-1)).toString(32)+d,l=":"+l+"R"+d,d=jh++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=s2++,l=":"+l+"r"+d.toString(32)+":";return a.memoizedState=l},useCacheRefresh:function(){return vr().memoizedState=c2.bind(null,it)}};Oo.useMemoCache=Hg,Oo.useHostTransitionStatus=ey,Oo.useFormState=rS,Oo.useActionState=rS,Oo.useOptimistic=function(a){var l=vr();l.memoizedState=l.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=ty.bind(null,it,!0,d),d.dispatch=l,[a,l]};var sa={readContext:Gn,use:Dh,useCallback:hS,useContext:Gn,useEffect:Qg,useImperativeHandle:fS,useInsertionEffect:cS,useLayoutEffect:uS,useMemo:pS,useReducer:Ph,useRef:oS,useState:function(){return Ph(gi)},useDebugValue:Jg,useDeferredValue:function(a,l){var d=dn();return mS(d,At.memoizedState,a,l)},useTransition:function(){var a=Ph(gi)[0],l=dn().memoizedState;return[typeof a=="boolean"?a:Zu(a),l]},useSyncExternalStore:H1,useId:bS};sa.useCacheRefresh=xS,sa.useMemoCache=Hg,sa.useHostTransitionStatus=ey,sa.useFormState=sS,sa.useActionState=sS,sa.useOptimistic=function(a,l){var d=dn();return J1(d,At,a,l)};var jo={readContext:Gn,use:Dh,useCallback:hS,useContext:Gn,useEffect:Qg,useImperativeHandle:fS,useInsertionEffect:cS,useLayoutEffect:uS,useMemo:pS,useReducer:Gg,useRef:oS,useState:function(){return Gg(gi)},useDebugValue:Jg,useDeferredValue:function(a,l){var d=dn();return At===null?Xg(d,a,l):mS(d,At.memoizedState,a,l)},useTransition:function(){var a=Gg(gi)[0],l=dn().memoizedState;return[typeof a=="boolean"?a:Zu(a),l]},useSyncExternalStore:H1,useId:bS};jo.useCacheRefresh=xS,jo.useMemoCache=Hg,jo.useHostTransitionStatus=ey,jo.useFormState=aS,jo.useActionState=aS,jo.useOptimistic=function(a,l){var d=dn();return At!==null?J1(d,At,a,l):(d.baseState=a,[a,d.queue.dispatch])};function ny(a,l,d,h){l=a.memoizedState,d=d(h,l),d=d==null?l:te({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var ry={isMounted:function(a){return(a=a._reactInternals)?fe(a)===a:!1},enqueueSetState:function(a,l,d){a=a._reactInternals;var h=jr(),g=oa(h);g.payload=l,d!=null&&(g.callback=d),l=la(a,g,h),l!==null&&(sr(l,a,h),Xu(l,a,h))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var h=jr(),g=oa(h);g.tag=1,g.payload=l,d!=null&&(g.callback=d),l=la(a,g,h),l!==null&&(sr(l,a,h),Xu(l,a,h))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=jr(),h=oa(d);h.tag=2,l!=null&&(h.callback=l),l=la(a,h,d),l!==null&&(sr(l,a,d),Xu(l,a,d))}};function _S(a,l,d,h,g,x,_){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,x,_):l.prototype&&l.prototype.isPureReactComponent?!Lu(d,h)||!Lu(g,x):!0}function ES(a,l,d,h){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,h),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,h),l.state!==a&&ry.enqueueReplaceState(l,l.state,null)}function Ro(a,l){var d=l;if("ref"in l){d={};for(var h in l)h!=="ref"&&(d[h]=l[h])}if(a=a.defaultProps){d===l&&(d=te({},d));for(var g in a)d[g]===void 0&&(d[g]=a[g])}return d}var Bh=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function TS(a){Bh(a)}function CS(a){console.error(a)}function AS(a){Bh(a)}function Ih(a,l){try{var d=a.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(h){setTimeout(function(){throw h})}}function MS(a,l,d){try{var h=a.onCaughtError;h(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function sy(a,l,d){return d=oa(d),d.tag=3,d.payload={element:null},d.callback=function(){Ih(a,l)},d}function NS(a){return a=oa(a),a.tag=3,a}function OS(a,l,d,h){var g=d.type.getDerivedStateFromError;if(typeof g=="function"){var x=h.value;a.payload=function(){return g(x)},a.callback=function(){MS(l,d,h)}}var _=d.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(a.callback=function(){MS(l,d,h),typeof g!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var C=h.stack;this.componentDidCatch(h.value,{componentStack:C!==null?C:""})})}function d2(a,l,d,h,g){if(d.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(l=d.alternate,l!==null&&Ju(l,d,g,!0),d=Qr.current,d!==null){switch(d.tag){case 13:return zs===null?By():d.alternate===null&&Qt===0&&(Qt=3),d.flags&=-257,d.flags|=65536,d.lanes=g,h===Dg?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([h]):l.add(h),Uy(a,h,g)),!1;case 22:return d.flags|=65536,h===Dg?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([h])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([h]):d.add(h)),Uy(a,h,g)),!1}throw Error(r(435,d.tag))}return Uy(a,h,g),By(),!1}if(wt)return l=Qr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=g,h!==Rg&&(a=Error(r(422),{cause:h}),Iu(Gr(a,d)))):(h!==Rg&&(l=Error(r(423),{cause:h}),Iu(Gr(l,d))),a=a.current.alternate,a.flags|=65536,g&=-g,a.lanes|=g,h=Gr(h,d),g=sy(a.stateNode,h,g),by(a,g),Qt!==4&&(Qt=2)),!1;var x=Error(r(520),{cause:h});if(x=Gr(x,d),ad===null?ad=[x]:ad.push(x),Qt!==4&&(Qt=2),l===null)return!0;h=Gr(h,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,a=g&-g,d.lanes|=a,a=sy(d.stateNode,h,a),by(d,a),!1;case 1:if(l=d.type,x=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(pa===null||!pa.has(x))))return d.flags|=65536,g&=-g,d.lanes|=g,g=NS(g),OS(g,a,d,h),by(d,g),!1}d=d.return}while(d!==null);return!1}var jS=Error(r(461)),Sn=!1;function zn(a,l,d,h){l.child=a===null?z1(l,null,d,h):Ao(l,a.child,d,h)}function RS(a,l,d,h,g){d=d.render;var x=l.ref;if("ref"in h){var _={};for(var C in h)C!=="ref"&&(_[C]=h[C])}else _=h;return Po(l),h=Ug(a,l,d,_,x,g),C=Fg(),a!==null&&!Sn?($g(a,l,g),yi(a,l,g)):(wt&&C&&Og(l),l.flags|=1,zn(a,l,h,g),l.child)}function DS(a,l,d,h,g){if(a===null){var x=d.type;return typeof x=="function"&&!Cy(x)&&x.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=x,PS(a,l,x,h,g)):(a=Hh(d.type,null,h,l,l.mode,g),a.ref=l.ref,a.return=l,l.child=a)}if(x=a.child,!hy(a,g)){var _=x.memoizedProps;if(d=d.compare,d=d!==null?d:Lu,d(_,h)&&a.ref===l.ref)return yi(a,l,g)}return l.flags|=1,a=fa(x,h),a.ref=l.ref,a.return=l,l.child=a}function PS(a,l,d,h,g){if(a!==null){var x=a.memoizedProps;if(Lu(x,h)&&a.ref===l.ref)if(Sn=!1,l.pendingProps=h=x,hy(a,g))(a.flags&131072)!==0&&(Sn=!0);else return l.lanes=a.lanes,yi(a,l,g)}return iy(a,l,d,h,g)}function LS(a,l,d){var h=l.pendingProps,g=h.children,x=(l.stateNode._pendingVisibility&2)!==0,_=a!==null?a.memoizedState:null;if(Qu(a,l),h.mode==="hidden"||x){if((l.flags&128)!==0){if(h=_!==null?_.baseLanes|d:d,a!==null){for(g=l.child=a.child,x=0;g!==null;)x=x|g.lanes|g.childLanes,g=g.sibling;l.childLanes=x&~h}else l.childLanes=0,l.child=null;return zS(a,l,h,d)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&Nh(l,_!==null?_.cachePool:null),_!==null?V1(l,_):Pg(),B1(l);else return l.lanes=l.childLanes=536870912,zS(a,l,_!==null?_.baseLanes|d:d,d)}else _!==null?(Nh(l,_.cachePool),V1(l,_),na(),l.memoizedState=null):(a!==null&&Nh(l,null),Pg(),na());return zn(a,l,g,d),l.child}function zS(a,l,d,h){var g=Bg();return g=g===null?null:{parent:yn._currentValue,pool:g},l.memoizedState={baseLanes:d,cachePool:g},a!==null&&Nh(l,null),Pg(),B1(l),a!==null&&Ju(a,l,h,!0),null}function Qu(a,l){var d=l.ref;if(d===null)a!==null&&a.ref!==null&&(l.flags|=2097664);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(a===null||a.ref!==d)&&(l.flags|=2097664)}}function iy(a,l,d,h,g){return Po(l),d=Ug(a,l,d,h,void 0,g),h=Fg(),a!==null&&!Sn?($g(a,l,g),yi(a,l,g)):(wt&&h&&Og(l),l.flags|=1,zn(a,l,d,g),l.child)}function VS(a,l,d,h,g,x){return Po(l),l.updateQueue=null,d=q1(l,h,d,g),$1(a),h=Fg(),a!==null&&!Sn?($g(a,l,x),yi(a,l,x)):(wt&&h&&Og(l),l.flags|=1,zn(a,l,d,x),l.child)}function BS(a,l,d,h,g){if(Po(l),l.stateNode===null){var x=Gl,_=d.contextType;typeof _=="object"&&_!==null&&(x=Gn(_)),x=new d(h,x),l.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=ry,l.stateNode=x,x._reactInternals=l,x=l.stateNode,x.props=h,x.state=l.memoizedState,x.refs={},yy(l),_=d.contextType,x.context=typeof _=="object"&&_!==null?Gn(_):Gl,x.state=l.memoizedState,_=d.getDerivedStateFromProps,typeof _=="function"&&(ny(l,d,_,h),x.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(_=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),_!==x.state&&ry.enqueueReplaceState(x,x.state,null),ed(l,h,x,g),Wu(),x.state=l.memoizedState),typeof x.componentDidMount=="function"&&(l.flags|=4194308),h=!0}else if(a===null){x=l.stateNode;var C=l.memoizedProps,O=Ro(d,C);x.props=O;var B=x.context,J=d.contextType;_=Gl,typeof J=="object"&&J!==null&&(_=Gn(J));var ee=d.getDerivedStateFromProps;J=typeof ee=="function"||typeof x.getSnapshotBeforeUpdate=="function",C=l.pendingProps!==C,J||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C||B!==_)&&ES(l,x,h,_),aa=!1;var G=l.memoizedState;x.state=G,ed(l,h,x,g),Wu(),B=l.memoizedState,C||G!==B||aa?(typeof ee=="function"&&(ny(l,d,ee,h),B=l.memoizedState),(O=aa||_S(l,d,O,h,G,B,_))?(J||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(l.flags|=4194308)):(typeof x.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=h,l.memoizedState=B),x.props=h,x.state=B,x.context=_,h=O):(typeof x.componentDidMount=="function"&&(l.flags|=4194308),h=!1)}else{x=l.stateNode,vy(a,l),_=l.memoizedProps,J=Ro(d,_),x.props=J,ee=l.pendingProps,G=x.context,B=d.contextType,O=Gl,typeof B=="object"&&B!==null&&(O=Gn(B)),C=d.getDerivedStateFromProps,(B=typeof C=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(_!==ee||G!==O)&&ES(l,x,h,O),aa=!1,G=l.memoizedState,x.state=G,ed(l,h,x,g),Wu();var Q=l.memoizedState;_!==ee||G!==Q||aa||a!==null&&a.dependencies!==null&&Uh(a.dependencies)?(typeof C=="function"&&(ny(l,d,C,h),Q=l.memoizedState),(J=aa||_S(l,d,J,h,G,Q,O)||a!==null&&a.dependencies!==null&&Uh(a.dependencies))?(B||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,Q,O),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,Q,O)),typeof x.componentDidUpdate=="function"&&(l.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof x.componentDidUpdate!="function"||_===a.memoizedProps&&G===a.memoizedState||(l.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||_===a.memoizedProps&&G===a.memoizedState||(l.flags|=1024),l.memoizedProps=h,l.memoizedState=Q),x.props=h,x.state=Q,x.context=O,h=J):(typeof x.componentDidUpdate!="function"||_===a.memoizedProps&&G===a.memoizedState||(l.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||_===a.memoizedProps&&G===a.memoizedState||(l.flags|=1024),h=!1)}return x=h,Qu(a,l),h=(l.flags&128)!==0,x||h?(x=l.stateNode,d=h&&typeof d.getDerivedStateFromError!="function"?null:x.render(),l.flags|=1,a!==null&&h?(l.child=Ao(l,a.child,null,g),l.child=Ao(l,null,d,g)):zn(a,l,d,g),l.memoizedState=x.state,a=l.child):a=yi(a,l,g),a}function IS(a,l,d,h){return Bu(),l.flags|=256,zn(a,l,d,h),l.child}var ay={dehydrated:null,treeContext:null,retryLane:0};function oy(a){return{baseLanes:a,cachePool:F1()}}function ly(a,l,d){return a=a!==null?a.childLanes&~d:0,l&&(a|=es),a}function US(a,l,d){var h=l.pendingProps,g=!1,x=(l.flags&128)!==0,_;if((_=x)||(_=a!==null&&a.memoizedState===null?!1:(gn.current&2)!==0),_&&(g=!0,l.flags&=-129),_=(l.flags&32)!==0,l.flags&=-33,a===null){if(wt){if(g?ta(l):na(),wt){var C=Ln,O;if(O=C){e:{for(O=C,C=Ls;O.nodeType!==8;){if(!C){C=null;break e}if(O=ws(O.nextSibling),O===null){C=null;break e}}C=O}C!==null?(l.memoizedState={dehydrated:C,treeContext:Eo!==null?{id:hi,overflow:pi}:null,retryLane:536870912},O=Wr(18,null,null,0),O.stateNode=C,O.return=l,l.child=O,rr=l,Ln=null,O=!0):O=!1}O||Co(l)}if(C=l.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return C.data==="$!"?l.lanes=16:l.lanes=536870912,null;mi(l)}return C=h.children,h=h.fallback,g?(na(),g=l.mode,C=uy({mode:"hidden",children:C},g),h=zo(h,g,d,null),C.return=l,h.return=l,C.sibling=h,l.child=C,g=l.child,g.memoizedState=oy(d),g.childLanes=ly(a,_,d),l.memoizedState=ay,h):(ta(l),cy(l,C))}if(O=a.memoizedState,O!==null&&(C=O.dehydrated,C!==null)){if(x)l.flags&256?(ta(l),l.flags&=-257,l=dy(a,l,d)):l.memoizedState!==null?(na(),l.child=a.child,l.flags|=128,l=null):(na(),g=h.fallback,C=l.mode,h=uy({mode:"visible",children:h.children},C),g=zo(g,C,d,null),g.flags|=2,h.return=l,g.return=l,h.sibling=g,l.child=h,Ao(l,a.child,null,d),h=l.child,h.memoizedState=oy(d),h.childLanes=ly(a,_,d),l.memoizedState=ay,l=g);else if(ta(l),C.data==="$!"){if(_=C.nextSibling&&C.nextSibling.dataset,_)var B=_.dgst;_=B,h=Error(r(419)),h.stack="",h.digest=_,Iu({value:h,source:null,stack:null}),l=dy(a,l,d)}else if(Sn||Ju(a,l,d,!1),_=(d&a.childLanes)!==0,Sn||_){if(_=Rt,_!==null){if(h=d&-d,(h&42)!==0)h=1;else switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=64;break;case 268435456:h=134217728;break;default:h=0}if(h=(h&(_.suspendedLanes|d))!==0?0:h,h!==0&&h!==O.retryLane)throw O.retryLane=h,ea(a,h),sr(_,a,h),jS}C.data==="$?"||By(),l=dy(a,l,d)}else C.data==="$?"?(l.flags|=128,l.child=a.child,l=T2.bind(null,a),C._reactRetry=l,l=null):(a=O.treeContext,Ln=ws(C.nextSibling),rr=l,wt=!0,bs=null,Ls=!1,a!==null&&(Zr[Yr++]=hi,Zr[Yr++]=pi,Zr[Yr++]=Eo,hi=a.id,pi=a.overflow,Eo=l),l=cy(l,h.children),l.flags|=4096);return l}return g?(na(),g=h.fallback,C=l.mode,O=a.child,B=O.sibling,h=fa(O,{mode:"hidden",children:h.children}),h.subtreeFlags=O.subtreeFlags&31457280,B!==null?g=fa(B,g):(g=zo(g,C,d,null),g.flags|=2),g.return=l,h.return=l,h.sibling=g,l.child=h,h=g,g=l.child,C=a.child.memoizedState,C===null?C=oy(d):(O=C.cachePool,O!==null?(B=yn._currentValue,O=O.parent!==B?{parent:B,pool:B}:O):O=F1(),C={baseLanes:C.baseLanes|d,cachePool:O}),g.memoizedState=C,g.childLanes=ly(a,_,d),l.memoizedState=ay,h):(ta(l),d=a.child,a=d.sibling,d=fa(d,{mode:"visible",children:h.children}),d.return=l,d.sibling=null,a!==null&&(_=l.deletions,_===null?(l.deletions=[a],l.flags|=16):_.push(a)),l.child=d,l.memoizedState=null,d)}function cy(a,l){return l=uy({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function uy(a,l){return hk(a,l,0,null)}function dy(a,l,d){return Ao(l,a.child,null,d),a=cy(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function FS(a,l,d){a.lanes|=l;var h=a.alternate;h!==null&&(h.lanes|=l),my(a.return,l,d)}function fy(a,l,d,h,g){var x=a.memoizedState;x===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:h,tail:d,tailMode:g}:(x.isBackwards=l,x.rendering=null,x.renderingStartTime=0,x.last=h,x.tail=d,x.tailMode=g)}function $S(a,l,d){var h=l.pendingProps,g=h.revealOrder,x=h.tail;if(zn(a,l,h.children,d),h=gn.current,(h&2)!==0)h=h&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&FS(a,d,l);else if(a.tag===19)FS(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}h&=1}switch(mt(gn,h),g){case"forwards":for(d=l.child,g=null;d!==null;)a=d.alternate,a!==null&&Mh(a)===null&&(g=d),d=d.sibling;d=g,d===null?(g=l.child,l.child=null):(g=d.sibling,d.sibling=null),fy(l,!1,g,d,x);break;case"backwards":for(d=null,g=l.child,l.child=null;g!==null;){if(a=g.alternate,a!==null&&Mh(a)===null){l.child=g;break}a=g.sibling,g.sibling=d,d=g,g=a}fy(l,!0,d,null,x);break;case"together":fy(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function yi(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),ha|=l.lanes,(d&l.childLanes)===0)if(a!==null){if(Ju(a,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(r(153));if(l.child!==null){for(a=l.child,d=fa(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=fa(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function hy(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&Uh(a)))}function f2(a,l,d){switch(l.tag){case 3:Yi(l,l.stateNode.containerInfo),ia(l,yn,a.memoizedState.cache),Bu();break;case 27:case 5:Qi(l);break;case 4:Yi(l,l.stateNode.containerInfo);break;case 10:ia(l,l.type,l.memoizedProps.value);break;case 13:var h=l.memoizedState;if(h!==null)return h.dehydrated!==null?(ta(l),l.flags|=128,null):(d&l.child.childLanes)!==0?US(a,l,d):(ta(l),a=yi(a,l,d),a!==null?a.sibling:null);ta(l);break;case 19:var g=(a.flags&128)!==0;if(h=(d&l.childLanes)!==0,h||(Ju(a,l,d,!1),h=(d&l.childLanes)!==0),g){if(h)return $S(a,l,d);l.flags|=128}if(g=l.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),mt(gn,gn.current),h)break;return null;case 22:case 23:return l.lanes=0,LS(a,l,d);case 24:ia(l,yn,a.memoizedState.cache)}return yi(a,l,d)}function qS(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps)Sn=!0;else{if(!hy(a,d)&&(l.flags&128)===0)return Sn=!1,f2(a,l,d);Sn=(a.flags&131072)!==0}else Sn=!1,wt&&(l.flags&1048576)!==0&&A1(l,_h,l.index);switch(l.lanes=0,l.tag){case 16:e:{a=l.pendingProps;var h=l.elementType,g=h._init;if(h=g(h._payload),l.type=h,typeof h=="function")Cy(h)?(a=Ro(h,a),l.tag=1,l=BS(null,l,h,a,d)):(l.tag=0,l=iy(null,l,h,a,d));else{if(h!=null){if(g=h.$$typeof,g===w){l.tag=11,l=RS(null,l,h,a,d);break e}else if(g===E){l.tag=14,l=DS(null,l,h,a,d);break e}}throw l=F(h)||h,Error(r(306,l,""))}}return l;case 0:return iy(a,l,l.type,l.pendingProps,d);case 1:return h=l.type,g=Ro(h,l.pendingProps),BS(a,l,h,g,d);case 3:e:{if(Yi(l,l.stateNode.containerInfo),a===null)throw Error(r(387));var x=l.pendingProps;g=l.memoizedState,h=g.element,vy(a,l),ed(l,x,null,d);var _=l.memoizedState;if(x=_.cache,ia(l,yn,x),x!==g.cache&&gy(l,[yn],d,!0),Wu(),x=_.element,g.isDehydrated)if(g={element:x,isDehydrated:!1,cache:_.cache},l.updateQueue.baseState=g,l.memoizedState=g,l.flags&256){l=IS(a,l,x,d);break e}else if(x!==h){h=Gr(Error(r(424)),l),Iu(h),l=IS(a,l,x,d);break e}else for(Ln=ws(l.stateNode.containerInfo.firstChild),rr=l,wt=!0,bs=null,Ls=!0,d=z1(l,null,x,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Bu(),x===h){l=yi(a,l,d);break e}zn(a,l,x,d)}l=l.child}return l;case 26:return Qu(a,l),a===null?(d=Gk(l.type,null,l.pendingProps,null))?l.memoizedState=d:wt||(d=l.type,a=l.pendingProps,h=rp(xn.current).createElement(d),h[we]=l,h[Ke]=a,Vn(h,d,a),jt(h),l.stateNode=h):l.memoizedState=Gk(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return Qi(l),a===null&&wt&&(h=l.stateNode=qk(l.type,l.pendingProps,xn.current),rr=l,Ls=!0,Ln=ws(h.firstChild)),h=l.pendingProps.children,a!==null||wt?zn(a,l,h,d):l.child=Ao(l,null,h,d),Qu(a,l),l.child;case 5:return a===null&&wt&&((g=h=Ln)&&(h=F2(h,l.type,l.pendingProps,Ls),h!==null?(l.stateNode=h,rr=l,Ln=ws(h.firstChild),Ls=!1,g=!0):g=!1),g||Co(l)),Qi(l),g=l.type,x=l.pendingProps,_=a!==null?a.memoizedProps:null,h=x.children,Wy(g,x)?h=null:_!==null&&Wy(g,_)&&(l.flags|=32),l.memoizedState!==null&&(g=Ug(a,l,i2,null,null,d),md._currentValue=g),Qu(a,l),zn(a,l,h,d),l.child;case 6:return a===null&&wt&&((a=d=Ln)&&(d=$2(d,l.pendingProps,Ls),d!==null?(l.stateNode=d,rr=l,Ln=null,a=!0):a=!1),a||Co(l)),null;case 13:return US(a,l,d);case 4:return Yi(l,l.stateNode.containerInfo),h=l.pendingProps,a===null?l.child=Ao(l,null,h,d):zn(a,l,h,d),l.child;case 11:return RS(a,l,l.type,l.pendingProps,d);case 7:return zn(a,l,l.pendingProps,d),l.child;case 8:return zn(a,l,l.pendingProps.children,d),l.child;case 12:return zn(a,l,l.pendingProps.children,d),l.child;case 10:return h=l.pendingProps,ia(l,l.type,h.value),zn(a,l,h.children,d),l.child;case 9:return g=l.type._context,h=l.pendingProps.children,Po(l),g=Gn(g),h=h(g),l.flags|=1,zn(a,l,h,d),l.child;case 14:return DS(a,l,l.type,l.pendingProps,d);case 15:return PS(a,l,l.type,l.pendingProps,d);case 19:return $S(a,l,d);case 22:return LS(a,l,d);case 24:return Po(l),h=Gn(yn),a===null?(g=Bg(),g===null&&(g=Rt,x=zg(),g.pooledCache=x,x.refCount++,x!==null&&(g.pooledCacheLanes|=d),g=x),l.memoizedState={parent:h,cache:g},yy(l),ia(l,yn,g)):((a.lanes&d)!==0&&(vy(a,l),ed(l,null,null,d),Wu()),g=a.memoizedState,x=l.memoizedState,g.parent!==h?(g={parent:h,cache:h},l.memoizedState=g,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=g),ia(l,yn,h)):(h=x.cache,ia(l,yn,h),h!==g.cache&&gy(l,[yn],d,!0))),zn(a,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}var py=pt(null),Do=null,vi=null;function ia(a,l,d){mt(py,l._currentValue),l._currentValue=d}function bi(a){a._currentValue=py.current,nt(py)}function my(a,l,d){for(;a!==null;){var h=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,h!==null&&(h.childLanes|=l)):h!==null&&(h.childLanes&l)!==l&&(h.childLanes|=l),a===d)break;a=a.return}}function gy(a,l,d,h){var g=a.child;for(g!==null&&(g.return=a);g!==null;){var x=g.dependencies;if(x!==null){var _=g.child;x=x.firstContext;e:for(;x!==null;){var C=x;x=g;for(var O=0;O<l.length;O++)if(C.context===l[O]){x.lanes|=d,C=x.alternate,C!==null&&(C.lanes|=d),my(x.return,d,a),h||(_=null);break e}x=C.next}}else if(g.tag===18){if(_=g.return,_===null)throw Error(r(341));_.lanes|=d,x=_.alternate,x!==null&&(x.lanes|=d),my(_,d,a),_=null}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===a){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}}function Ju(a,l,d,h){a=null;for(var g=l,x=!1;g!==null;){if(!x){if((g.flags&524288)!==0)x=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var _=g.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var C=g.type;Ar(g.pendingProps.value,_.value)||(a!==null?a.push(C):a=[C])}}else if(g===oi.current){if(_=g.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(a!==null?a.push(md):a=[md])}g=g.return}a!==null&&gy(l,a,d,h),l.flags|=262144}function Uh(a){for(a=a.firstContext;a!==null;){if(!Ar(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Po(a){Do=a,vi=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Gn(a){return HS(Do,a)}function Fh(a,l){return Do===null&&Po(a),HS(a,l)}function HS(a,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},vi===null){if(a===null)throw Error(r(308));vi=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else vi=vi.next=l;return d}var aa=!1;function yy(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vy(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function oa(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function la(a,l,d){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(Ft&2)!==0){var g=h.pending;return g===null?l.next=l:(l.next=g.next,g.next=l),h.pending=l,l=Sh(a),T1(a,null,d),l}return wh(a,h,l,d),Sh(a)}function Xu(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194176)!==0)){var h=l.lanes;h&=a.pendingLanes,d|=h,l.lanes=d,Le(a,d)}}function by(a,l){var d=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,d===h)){var g=null,x=null;if(d=d.firstBaseUpdate,d!==null){do{var _={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};x===null?g=x=_:x=x.next=_,d=d.next}while(d!==null);x===null?g=x=l:x=x.next=l}else g=x=l;d={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:h.shared,callbacks:h.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}var xy=!1;function Wu(){if(xy){var a=Wl;if(a!==null)throw a}}function ed(a,l,d,h){xy=!1;var g=a.updateQueue;aa=!1;var x=g.firstBaseUpdate,_=g.lastBaseUpdate,C=g.shared.pending;if(C!==null){g.shared.pending=null;var O=C,B=O.next;O.next=null,_===null?x=B:_.next=B,_=O;var J=a.alternate;J!==null&&(J=J.updateQueue,C=J.lastBaseUpdate,C!==_&&(C===null?J.firstBaseUpdate=B:C.next=B,J.lastBaseUpdate=O))}if(x!==null){var ee=g.baseState;_=0,J=B=O=null,C=x;do{var G=C.lane&-536870913,Q=G!==C.lane;if(Q?(yt&G)===G:(h&G)===G){G!==0&&G===Xl&&(xy=!0),J!==null&&(J=J.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Ne=a,Qe=C;G=l;var Jt=d;switch(Qe.tag){case 1:if(Ne=Qe.payload,typeof Ne=="function"){ee=Ne.call(Jt,ee,G);break e}ee=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Qe.payload,G=typeof Ne=="function"?Ne.call(Jt,ee,G):Ne,G==null)break e;ee=te({},ee,G);break e;case 2:aa=!0}}G=C.callback,G!==null&&(a.flags|=64,Q&&(a.flags|=8192),Q=g.callbacks,Q===null?g.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:C.tag,payload:C.payload,callback:C.callback,next:null},J===null?(B=J=Q,O=ee):J=J.next=Q,_|=G;if(C=C.next,C===null){if(C=g.shared.pending,C===null)break;Q=C,C=Q.next,Q.next=null,g.lastBaseUpdate=Q,g.shared.pending=null}}while(!0);J===null&&(O=ee),g.baseState=O,g.firstBaseUpdate=B,g.lastBaseUpdate=J,x===null&&(g.shared.lanes=0),ha|=_,a.lanes=_,a.memoizedState=ee}}function KS(a,l){if(typeof a!="function")throw Error(r(191,a));a.call(l)}function GS(a,l){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)KS(d[a],l)}function td(a,l){try{var d=l.updateQueue,h=d!==null?d.lastEffect:null;if(h!==null){var g=h.next;d=g;do{if((d.tag&a)===a){h=void 0;var x=d.create,_=d.inst;h=x(),_.destroy=h}d=d.next}while(d!==g)}}catch(C){Nt(l,l.return,C)}}function ca(a,l,d){try{var h=l.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var x=g.next;h=x;do{if((h.tag&a)===a){var _=h.inst,C=_.destroy;if(C!==void 0){_.destroy=void 0,g=l;var O=d;try{C()}catch(B){Nt(g,O,B)}}}h=h.next}while(h!==x)}}catch(B){Nt(l,l.return,B)}}function ZS(a){var l=a.updateQueue;if(l!==null){var d=a.stateNode;try{GS(l,d)}catch(h){Nt(a,a.return,h)}}}function YS(a,l,d){d.props=Ro(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(h){Nt(a,l,h)}}function Lo(a,l){try{var d=a.ref;if(d!==null){var h=a.stateNode;switch(a.tag){case 26:case 27:case 5:var g=h;break;default:g=h}typeof d=="function"?a.refCleanup=d(g):d.current=g}}catch(x){Nt(a,l,x)}}function Mr(a,l){var d=a.ref,h=a.refCleanup;if(d!==null)if(typeof h=="function")try{h()}catch(g){Nt(a,l,g)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(g){Nt(a,l,g)}else d.current=null}function QS(a){var l=a.type,d=a.memoizedProps,h=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&h.focus();break e;case"img":d.src?h.src=d.src:d.srcSet&&(h.srcset=d.srcSet)}}catch(g){Nt(a,a.return,g)}}function JS(a,l,d){try{var h=a.stateNode;z2(h,a.type,d,l),h[Ke]=l}catch(g){Nt(a,a.return,g)}}function XS(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27||a.tag===4}function wy(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||XS(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==27&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Sy(a,l,d){var h=a.tag;if(h===5||h===6)a=a.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(a,l):d.insertBefore(a,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(a,d)):(l=d,l.appendChild(a)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=np));else if(h!==4&&h!==27&&(a=a.child,a!==null))for(Sy(a,l,d),a=a.sibling;a!==null;)Sy(a,l,d),a=a.sibling}function $h(a,l,d){var h=a.tag;if(h===5||h===6)a=a.stateNode,l?d.insertBefore(a,l):d.appendChild(a);else if(h!==4&&h!==27&&(a=a.child,a!==null))for($h(a,l,d),a=a.sibling;a!==null;)$h(a,l,d),a=a.sibling}var xi=!1,Yt=!1,ky=!1,WS=typeof WeakSet=="function"?WeakSet:Set,kn=null,ek=!1;function h2(a,l){if(a=a.containerInfo,Jy=cp,a=y1(a),Eg(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var h=d.getSelection&&d.getSelection();if(h&&h.rangeCount!==0){d=h.anchorNode;var g=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{d.nodeType,x.nodeType}catch{d=null;break e}var _=0,C=-1,O=-1,B=0,J=0,ee=a,G=null;t:for(;;){for(var Q;ee!==d||g!==0&&ee.nodeType!==3||(C=_+g),ee!==x||h!==0&&ee.nodeType!==3||(O=_+h),ee.nodeType===3&&(_+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)G=ee,ee=Q;for(;;){if(ee===a)break t;if(G===d&&++B===g&&(C=_),G===x&&++J===h&&(O=_),(Q=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=Q}d=C===-1||O===-1?null:{start:C,end:O}}else d=null}d=d||{start:0,end:0}}else d=null;for(Xy={focusedElem:a,selectionRange:d},cp=!1,kn=l;kn!==null;)if(l=kn,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,kn=a;else for(;kn!==null;){switch(l=kn,x=l.alternate,a=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&x!==null){a=void 0,d=l,g=x.memoizedProps,x=x.memoizedState,h=d.stateNode;try{var Ne=Ro(d.type,g,d.elementType===d.type);a=h.getSnapshotBeforeUpdate(Ne,x),h.__reactInternalSnapshotBeforeUpdate=a}catch(Qe){Nt(d,d.return,Qe)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,d=a.nodeType,d===9)n0(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":n0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=l.sibling,a!==null){a.return=l.return,kn=a;break}kn=l.return}return Ne=ek,ek=!1,Ne}function tk(a,l,d){var h=d.flags;switch(d.tag){case 0:case 11:case 15:Si(a,d),h&4&&td(5,d);break;case 1:if(Si(a,d),h&4)if(a=d.stateNode,l===null)try{a.componentDidMount()}catch(C){Nt(d,d.return,C)}else{var g=Ro(d.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(g,l,a.__reactInternalSnapshotBeforeUpdate)}catch(C){Nt(d,d.return,C)}}h&64&&ZS(d),h&512&&Lo(d,d.return);break;case 3:if(Si(a,d),h&64&&(h=d.updateQueue,h!==null)){if(a=null,d.child!==null)switch(d.child.tag){case 27:case 5:a=d.child.stateNode;break;case 1:a=d.child.stateNode}try{GS(h,a)}catch(C){Nt(d,d.return,C)}}break;case 26:Si(a,d),h&512&&Lo(d,d.return);break;case 27:case 5:Si(a,d),l===null&&h&4&&QS(d),h&512&&Lo(d,d.return);break;case 12:Si(a,d);break;case 13:Si(a,d),h&4&&sk(a,d);break;case 22:if(g=d.memoizedState!==null||xi,!g){l=l!==null&&l.memoizedState!==null||Yt;var x=xi,_=Yt;xi=g,(Yt=l)&&!_?ua(a,d,(d.subtreeFlags&8772)!==0):Si(a,d),xi=x,Yt=_}h&512&&(d.memoizedProps.mode==="manual"?Lo(d,d.return):Mr(d,d.return));break;default:Si(a,d)}}function nk(a){var l=a.alternate;l!==null&&(a.alternate=null,nk(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&ci(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var fn=null,Nr=!1;function wi(a,l,d){for(d=d.child;d!==null;)rk(a,l,d),d=d.sibling}function rk(a,l,d){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(Ir,d)}catch{}switch(d.tag){case 26:Yt||Mr(d,l),wi(a,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Yt||Mr(d,l);var h=fn,g=Nr;for(fn=d.stateNode,wi(a,l,d),d=d.stateNode,l=d.attributes;l.length;)d.removeAttributeNode(l[0]);ci(d),fn=h,Nr=g;break;case 5:Yt||Mr(d,l);case 6:g=fn;var x=Nr;if(fn=null,wi(a,l,d),fn=g,Nr=x,fn!==null)if(Nr)try{a=fn,h=d.stateNode,a.nodeType===8?a.parentNode.removeChild(h):a.removeChild(h)}catch(_){Nt(d,l,_)}else try{fn.removeChild(d.stateNode)}catch(_){Nt(d,l,_)}break;case 18:fn!==null&&(Nr?(l=fn,d=d.stateNode,l.nodeType===8?t0(l.parentNode,d):l.nodeType===1&&t0(l,d),bd(l)):t0(fn,d.stateNode));break;case 4:h=fn,g=Nr,fn=d.stateNode.containerInfo,Nr=!0,wi(a,l,d),fn=h,Nr=g;break;case 0:case 11:case 14:case 15:Yt||ca(2,d,l),Yt||ca(4,d,l),wi(a,l,d);break;case 1:Yt||(Mr(d,l),h=d.stateNode,typeof h.componentWillUnmount=="function"&&YS(d,l,h)),wi(a,l,d);break;case 21:wi(a,l,d);break;case 22:Yt||Mr(d,l),Yt=(h=Yt)||d.memoizedState!==null,wi(a,l,d),Yt=h;break;default:wi(a,l,d)}}function sk(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{bd(a)}catch(d){Nt(l,l.return,d)}}function p2(a){switch(a.tag){case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new WS),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new WS),l;default:throw Error(r(435,a.tag))}}function _y(a,l){var d=p2(a);l.forEach(function(h){var g=C2.bind(null,a,h);d.has(h)||(d.add(h),h.then(g,g))})}function Jr(a,l){var d=l.deletions;if(d!==null)for(var h=0;h<d.length;h++){var g=d[h],x=a,_=l,C=_;e:for(;C!==null;){switch(C.tag){case 27:case 5:fn=C.stateNode,Nr=!1;break e;case 3:fn=C.stateNode.containerInfo,Nr=!0;break e;case 4:fn=C.stateNode.containerInfo,Nr=!0;break e}C=C.return}if(fn===null)throw Error(r(160));rk(x,_,g),fn=null,Nr=!1,x=g.alternate,x!==null&&(x.return=null),g.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)ik(l,a),l=l.sibling}var xs=null;function ik(a,l){var d=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Jr(l,a),Xr(a),h&4&&(ca(3,a,a.return),td(3,a),ca(5,a,a.return));break;case 1:Jr(l,a),Xr(a),h&512&&(Yt||d===null||Mr(d,d.return)),h&64&&xi&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?h:d.concat(h))));break;case 26:var g=xs;if(Jr(l,a),Xr(a),h&512&&(Yt||d===null||Mr(d,d.return)),h&4){var x=d!==null?d.memoizedState:null;if(h=a.memoizedState,d===null)if(h===null)if(a.stateNode===null){e:{h=a.type,d=a.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":x=g.getElementsByTagName("title")[0],(!x||x[Fr]||x[we]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=g.createElement(h),g.head.insertBefore(x,g.querySelector("head > title"))),Vn(x,h,d),x[we]=a,jt(x),h=x;break e;case"link":var _=Qk("link","href",g).get(h+(d.href||""));if(_){for(var C=0;C<_.length;C++)if(x=_[C],x.getAttribute("href")===(d.href==null?null:d.href)&&x.getAttribute("rel")===(d.rel==null?null:d.rel)&&x.getAttribute("title")===(d.title==null?null:d.title)&&x.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){_.splice(C,1);break t}}x=g.createElement(h),Vn(x,h,d),g.head.appendChild(x);break;case"meta":if(_=Qk("meta","content",g).get(h+(d.content||""))){for(C=0;C<_.length;C++)if(x=_[C],x.getAttribute("content")===(d.content==null?null:""+d.content)&&x.getAttribute("name")===(d.name==null?null:d.name)&&x.getAttribute("property")===(d.property==null?null:d.property)&&x.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&x.getAttribute("charset")===(d.charSet==null?null:d.charSet)){_.splice(C,1);break t}}x=g.createElement(h),Vn(x,h,d),g.head.appendChild(x);break;default:throw Error(r(468,h))}x[we]=a,jt(x),h=x}a.stateNode=h}else Jk(g,a.type,a.stateNode);else a.stateNode=Yk(g,h,a.memoizedProps);else x!==h?(x===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):x.count--,h===null?Jk(g,a.type,a.stateNode):Yk(g,h,a.memoizedProps)):h===null&&a.stateNode!==null&&JS(a,a.memoizedProps,d.memoizedProps)}break;case 27:if(h&4&&a.alternate===null){g=a.stateNode,x=a.memoizedProps;try{for(var O=g.firstChild;O;){var B=O.nextSibling,J=O.nodeName;O[Fr]||J==="HEAD"||J==="BODY"||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&O.rel.toLowerCase()==="stylesheet"||g.removeChild(O),O=B}for(var ee=a.type,G=g.attributes;G.length;)g.removeAttributeNode(G[0]);Vn(g,ee,x),g[we]=a,g[Ke]=x}catch(Ne){Nt(a,a.return,Ne)}}case 5:if(Jr(l,a),Xr(a),h&512&&(Yt||d===null||Mr(d,d.return)),a.flags&32){g=a.stateNode;try{Il(g,"")}catch(Ne){Nt(a,a.return,Ne)}}h&4&&a.stateNode!=null&&(g=a.memoizedProps,JS(a,g,d!==null?d.memoizedProps:g)),h&1024&&(ky=!0);break;case 6:if(Jr(l,a),Xr(a),h&4){if(a.stateNode===null)throw Error(r(162));h=a.memoizedProps,d=a.stateNode;try{d.nodeValue=h}catch(Ne){Nt(a,a.return,Ne)}}break;case 3:if(ap=null,g=xs,xs=sp(l.containerInfo),Jr(l,a),xs=g,Xr(a),h&4&&d!==null&&d.memoizedState.isDehydrated)try{bd(l.containerInfo)}catch(Ne){Nt(a,a.return,Ne)}ky&&(ky=!1,ak(a));break;case 4:h=xs,xs=sp(a.stateNode.containerInfo),Jr(l,a),Xr(a),xs=h;break;case 12:Jr(l,a),Xr(a);break;case 13:Jr(l,a),Xr(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Ry=Y()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,_y(a,h)));break;case 22:if(h&512&&(Yt||d===null||Mr(d,d.return)),O=a.memoizedState!==null,B=d!==null&&d.memoizedState!==null,J=xi,ee=Yt,xi=J||O,Yt=ee||B,Jr(l,a),Yt=ee,xi=J,Xr(a),l=a.stateNode,l._current=a,l._visibility&=-3,l._visibility|=l._pendingVisibility&2,h&8192&&(l._visibility=O?l._visibility&-2:l._visibility|1,O&&(l=xi||Yt,d===null||B||l||rc(a)),a.memoizedProps===null||a.memoizedProps.mode!=="manual"))e:for(d=null,l=a;;){if(l.tag===5||l.tag===26||l.tag===27){if(d===null){B=d=l;try{if(g=B.stateNode,O)x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{_=B.stateNode,C=B.memoizedProps.style;var Q=C!=null&&C.hasOwnProperty("display")?C.display:null;_.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(Ne){Nt(B,B.return,Ne)}}}else if(l.tag===6){if(d===null){B=l;try{B.stateNode.nodeValue=O?"":B.memoizedProps}catch(Ne){Nt(B,B.return,Ne)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}h&4&&(h=a.updateQueue,h!==null&&(d=h.retryQueue,d!==null&&(h.retryQueue=null,_y(a,d))));break;case 19:Jr(l,a),Xr(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,_y(a,h)));break;case 21:break;default:Jr(l,a),Xr(a)}}function Xr(a){var l=a.flags;if(l&2){try{if(a.tag!==27){e:{for(var d=a.return;d!==null;){if(XS(d)){var h=d;break e}d=d.return}throw Error(r(160))}switch(h.tag){case 27:var g=h.stateNode,x=wy(a);$h(a,x,g);break;case 5:var _=h.stateNode;h.flags&32&&(Il(_,""),h.flags&=-33);var C=wy(a);$h(a,C,_);break;case 3:case 4:var O=h.stateNode.containerInfo,B=wy(a);Sy(a,B,O);break;default:throw Error(r(161))}}}catch(J){Nt(a,a.return,J)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function ak(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;ak(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function Si(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)tk(a,l.alternate,l),l=l.sibling}function rc(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:ca(4,l,l.return),rc(l);break;case 1:Mr(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&YS(l,l.return,d),rc(l);break;case 26:case 27:case 5:Mr(l,l.return),rc(l);break;case 22:Mr(l,l.return),l.memoizedState===null&&rc(l);break;default:rc(l)}a=a.sibling}}function ua(a,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var h=l.alternate,g=a,x=l,_=x.flags;switch(x.tag){case 0:case 11:case 15:ua(g,x,d),td(4,x);break;case 1:if(ua(g,x,d),h=x,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(B){Nt(h,h.return,B)}if(h=x,g=h.updateQueue,g!==null){var C=h.stateNode;try{var O=g.shared.hiddenCallbacks;if(O!==null)for(g.shared.hiddenCallbacks=null,g=0;g<O.length;g++)KS(O[g],C)}catch(B){Nt(h,h.return,B)}}d&&_&64&&ZS(x),Lo(x,x.return);break;case 26:case 27:case 5:ua(g,x,d),d&&h===null&&_&4&&QS(x),Lo(x,x.return);break;case 12:ua(g,x,d);break;case 13:ua(g,x,d),d&&_&4&&sk(g,x);break;case 22:x.memoizedState===null&&ua(g,x,d),Lo(x,x.return);break;default:ua(g,x,d)}l=l.sibling}}function Ey(a,l){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&Hu(d))}function Ty(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Hu(a))}function da(a,l,d,h){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)ok(a,l,d,h),l=l.sibling}function ok(a,l,d,h){var g=l.flags;switch(l.tag){case 0:case 11:case 15:da(a,l,d,h),g&2048&&td(9,l);break;case 3:da(a,l,d,h),g&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Hu(a)));break;case 12:if(g&2048){da(a,l,d,h),a=l.stateNode;try{var x=l.memoizedProps,_=x.id,C=x.onPostCommit;typeof C=="function"&&C(_,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(O){Nt(l,l.return,O)}}else da(a,l,d,h);break;case 23:break;case 22:x=l.stateNode,l.memoizedState!==null?x._visibility&4?da(a,l,d,h):nd(a,l):x._visibility&4?da(a,l,d,h):(x._visibility|=4,sc(a,l,d,h,(l.subtreeFlags&10256)!==0)),g&2048&&Ey(l.alternate,l);break;case 24:da(a,l,d,h),g&2048&&Ty(l.alternate,l);break;default:da(a,l,d,h)}}function sc(a,l,d,h,g){for(g=g&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var x=a,_=l,C=d,O=h,B=_.flags;switch(_.tag){case 0:case 11:case 15:sc(x,_,C,O,g),td(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&4?sc(x,_,C,O,g):nd(x,_):(J._visibility|=4,sc(x,_,C,O,g)),g&&B&2048&&Ey(_.alternate,_);break;case 24:sc(x,_,C,O,g),g&&B&2048&&Ty(_.alternate,_);break;default:sc(x,_,C,O,g)}l=l.sibling}}function nd(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=a,h=l,g=h.flags;switch(h.tag){case 22:nd(d,h),g&2048&&Ey(h.alternate,h);break;case 24:nd(d,h),g&2048&&Ty(h.alternate,h);break;default:nd(d,h)}l=l.sibling}}var rd=8192;function ic(a){if(a.subtreeFlags&rd)for(a=a.child;a!==null;)lk(a),a=a.sibling}function lk(a){switch(a.tag){case 26:ic(a),a.flags&rd&&a.memoizedState!==null&&nP(xs,a.memoizedState,a.memoizedProps);break;case 5:ic(a);break;case 3:case 4:var l=xs;xs=sp(a.stateNode.containerInfo),ic(a),xs=l;break;case 22:a.memoizedState===null&&(l=a.alternate,l!==null&&l.memoizedState!==null?(l=rd,rd=16777216,ic(a),rd=l):ic(a));break;default:ic(a)}}function ck(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function sd(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var h=l[d];kn=h,dk(h,a)}ck(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)uk(a),a=a.sibling}function uk(a){switch(a.tag){case 0:case 11:case 15:sd(a),a.flags&2048&&ca(9,a,a.return);break;case 3:sd(a);break;case 12:sd(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&4&&(a.return===null||a.return.tag!==13)?(l._visibility&=-5,qh(a)):sd(a);break;default:sd(a)}}function qh(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var h=l[d];kn=h,dk(h,a)}ck(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:ca(8,l,l.return),qh(l);break;case 22:d=l.stateNode,d._visibility&4&&(d._visibility&=-5,qh(l));break;default:qh(l)}a=a.sibling}}function dk(a,l){for(;kn!==null;){var d=kn;switch(d.tag){case 0:case 11:case 15:ca(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var h=d.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Hu(d.memoizedState.cache)}if(h=d.child,h!==null)h.return=d,kn=h;else e:for(d=a;kn!==null;){h=kn;var g=h.sibling,x=h.return;if(nk(h),h===d){kn=null;break e}if(g!==null){g.return=x,kn=g;break e}kn=x}}}function m2(a,l,d,h){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(a,l,d,h){return new m2(a,l,d,h)}function Cy(a){return a=a.prototype,!(!a||!a.isReactComponent)}function fa(a,l){var d=a.alternate;return d===null?(d=Wr(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&31457280,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function fk(a,l){a.flags&=31457282;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,l=d.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function Hh(a,l,d,h,g,x){var _=0;if(h=a,typeof a=="function")Cy(a)&&(_=1);else if(typeof a=="string")_=eP(a,d,Rn.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case u:return zo(d.children,g,x,l);case f:_=8,g|=24;break;case p:return a=Wr(12,d,l,g|2),a.elementType=p,a.lanes=x,a;case S:return a=Wr(13,d,l,g),a.elementType=S,a.lanes=x,a;case k:return a=Wr(19,d,l,g),a.elementType=k,a.lanes=x,a;case N:return hk(d,g,x,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case m:case b:_=10;break e;case y:_=9;break e;case w:_=11;break e;case E:_=14;break e;case T:_=16,h=null;break e}_=29,d=Error(r(130,a===null?"null":typeof a,"")),h=null}return l=Wr(_,d,l,g),l.elementType=a,l.type=h,l.lanes=x,l}function zo(a,l,d,h){return a=Wr(7,a,h,l),a.lanes=d,a}function hk(a,l,d,h){a=Wr(22,a,h,l),a.elementType=N,a.lanes=d;var g={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var x=g._current;if(x===null)throw Error(r(456));if((g._pendingVisibility&2)===0){var _=ea(x,2);_!==null&&(g._pendingVisibility|=2,sr(_,x,2))}},attach:function(){var x=g._current;if(x===null)throw Error(r(456));if((g._pendingVisibility&2)!==0){var _=ea(x,2);_!==null&&(g._pendingVisibility&=-3,sr(_,x,2))}}};return a.stateNode=g,a}function Ay(a,l,d){return a=Wr(6,a,null,l),a.lanes=d,a}function My(a,l,d){return l=Wr(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function ki(a){a.flags|=4}function pk(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Xk(l)){if(l=Qr.current,l!==null&&((yt&4194176)===yt?zs!==null:(yt&62914560)!==yt&&(yt&536870912)===0||l!==zs))throw Fu=Dg,O1;a.flags|=8192}}function Kh(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?q():536870912,a.lanes|=l,oc|=l)}function id(a,l){if(!wt)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var h=null;d!==null;)d.alternate!==null&&(h=d),d=d.sibling;h===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function Ut(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,h=0;if(l)for(var g=a.child;g!==null;)d|=g.lanes|g.childLanes,h|=g.subtreeFlags&31457280,h|=g.flags&31457280,g.return=a,g=g.sibling;else for(g=a.child;g!==null;)d|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=a,g=g.sibling;return a.subtreeFlags|=h,a.childLanes=d,l}function g2(a,l,d){var h=l.pendingProps;switch(jg(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(l),null;case 1:return Ut(l),null;case 3:return d=l.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),bi(yn),Br(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(Vu(l)?ki(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,bs!==null&&(zy(bs),bs=null))),Ut(l),null;case 26:return d=l.memoizedState,a===null?(ki(l),d!==null?(Ut(l),pk(l,d)):(Ut(l),l.flags&=-16777217)):d?d!==a.memoizedState?(ki(l),Ut(l),pk(l,d)):(Ut(l),l.flags&=-16777217):(a.memoizedProps!==h&&ki(l),Ut(l),l.flags&=-16777217),null;case 27:Ji(l),d=xn.current;var g=l.type;if(a!==null&&l.stateNode!=null)a.memoizedProps!==h&&ki(l);else{if(!h){if(l.stateNode===null)throw Error(r(166));return Ut(l),null}a=Rn.current,Vu(l)?M1(l):(a=qk(g,h,d),l.stateNode=a,ki(l))}return Ut(l),null;case 5:if(Ji(l),d=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==h&&ki(l);else{if(!h){if(l.stateNode===null)throw Error(r(166));return Ut(l),null}if(a=Rn.current,Vu(l))M1(l);else{switch(g=rp(xn.current),a){case 1:a=g.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:a=g.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":a=g.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":a=g.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":a=g.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?a.multiple=!0:h.size&&(a.size=h.size);break;default:a=typeof h.is=="string"?g.createElement(d,{is:h.is}):g.createElement(d)}}a[we]=l,a[Ke]=h;e:for(g=l.child;g!==null;){if(g.tag===5||g.tag===6)a.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===l)break e;for(;g.sibling===null;){if(g.return===null||g.return===l)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}l.stateNode=a;e:switch(Vn(a,d,h),d){case"button":case"input":case"select":case"textarea":a=!!h.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ki(l)}}return Ut(l),l.flags&=-16777217,null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==h&&ki(l);else{if(typeof h!="string"&&l.stateNode===null)throw Error(r(166));if(a=xn.current,Vu(l)){if(a=l.stateNode,d=l.memoizedProps,h=null,g=rr,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}a[we]=l,a=!!(a.nodeValue===d||h!==null&&h.suppressHydrationWarning===!0||Vk(a.nodeValue,d)),a||Co(l)}else a=rp(a).createTextNode(h),a[we]=l,l.stateNode=a}return Ut(l),null;case 13:if(h=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(g=Vu(l),h!==null&&h.dehydrated!==null){if(a===null){if(!g)throw Error(r(318));if(g=l.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[we]=l}else Bu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ut(l),g=!1}else bs!==null&&(zy(bs),bs=null),g=!0;if(!g)return l.flags&256?(mi(l),l):(mi(l),null)}if(mi(l),(l.flags&128)!==0)return l.lanes=d,l;if(d=h!==null,a=a!==null&&a.memoizedState!==null,d){h=l.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var x=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),x!==g&&(h.flags|=2048)}return d!==a&&d&&(l.child.flags|=8192),Kh(l,l.updateQueue),Ut(l),null;case 4:return Br(),a===null&&Zy(l.stateNode.containerInfo),Ut(l),null;case 10:return bi(l.type),Ut(l),null;case 19:if(nt(gn),g=l.memoizedState,g===null)return Ut(l),null;if(h=(l.flags&128)!==0,x=g.rendering,x===null)if(h)id(g,!1);else{if(Qt!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(x=Mh(a),x!==null){for(l.flags|=128,id(g,!1),a=x.updateQueue,l.updateQueue=a,Kh(l,a),l.subtreeFlags=0,a=d,d=l.child;d!==null;)fk(d,a),d=d.sibling;return mt(gn,gn.current&1|2),l.child}a=a.sibling}g.tail!==null&&Y()>Gh&&(l.flags|=128,h=!0,id(g,!1),l.lanes=4194304)}else{if(!h)if(a=Mh(x),a!==null){if(l.flags|=128,h=!0,a=a.updateQueue,l.updateQueue=a,Kh(l,a),id(g,!0),g.tail===null&&g.tailMode==="hidden"&&!x.alternate&&!wt)return Ut(l),null}else 2*Y()-g.renderingStartTime>Gh&&d!==536870912&&(l.flags|=128,h=!0,id(g,!1),l.lanes=4194304);g.isBackwards?(x.sibling=l.child,l.child=x):(a=g.last,a!==null?a.sibling=x:l.child=x,g.last=x)}return g.tail!==null?(l=g.tail,g.rendering=l,g.tail=l.sibling,g.renderingStartTime=Y(),l.sibling=null,a=gn.current,mt(gn,h?a&1|2:a&1),l):(Ut(l),null);case 22:case 23:return mi(l),Lg(),h=l.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(l.flags|=8192):h&&(l.flags|=8192),h?(d&536870912)!==0&&(l.flags&128)===0&&(Ut(l),l.subtreeFlags&6&&(l.flags|=8192)):Ut(l),d=l.updateQueue,d!==null&&Kh(l,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==d&&(l.flags|=2048),a!==null&&nt(Mo),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),bi(yn),Ut(l),null;case 25:return null}throw Error(r(156,l.tag))}function y2(a,l){switch(jg(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return bi(yn),Br(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return Ji(l),null;case 13:if(mi(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Bu()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return nt(gn),null;case 4:return Br(),null;case 10:return bi(l.type),null;case 22:case 23:return mi(l),Lg(),a!==null&&nt(Mo),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return bi(yn),null;case 25:return null;default:return null}}function mk(a,l){switch(jg(l),l.tag){case 3:bi(yn),Br();break;case 26:case 27:case 5:Ji(l);break;case 4:Br();break;case 13:mi(l);break;case 19:nt(gn);break;case 10:bi(l.type);break;case 22:case 23:mi(l),Lg(),a!==null&&nt(Mo);break;case 24:bi(yn)}}var v2={getCacheForType:function(a){var l=Gn(yn),d=l.data.get(a);return d===void 0&&(d=a(),l.data.set(a,d)),d}},b2=typeof WeakMap=="function"?WeakMap:Map,Ft=0,Rt=null,lt=null,yt=0,Dt=0,Or=null,_i=!1,ac=!1,Ny=!1,Ei=0,Qt=0,ha=0,Vo=0,Oy=0,es=0,oc=0,ad=null,Bs=null,jy=!1,Ry=0,Gh=1/0,Zh=null,pa=null,Yh=!1,Bo=null,od=0,Dy=0,Py=null,ld=0,Ly=null;function jr(){if((Ft&2)!==0&&yt!==0)return yt&-yt;if(z.T!==null){var a=Xl;return a!==0?a:qy()}return je()}function gk(){es===0&&(es=(yt&536870912)===0||wt?P():536870912);var a=Qr.current;return a!==null&&(a.flags|=32),es}function sr(a,l,d){(a===Rt&&Dt===2||a.cancelPendingCommit!==null)&&(lc(a,0),Ti(a,yt,es,!1)),re(a,d),((Ft&2)===0||a!==Rt)&&(a===Rt&&((Ft&2)===0&&(Vo|=d),Qt===4&&Ti(a,yt,es,!1)),Is(a))}function yk(a,l,d){if((Ft&6)!==0)throw Error(r(327));var h=!d&&(l&60)===0&&(l&a.expiredLanes)===0||vo(a,l),g=h?S2(a,l):Iy(a,l,!0),x=h;do{if(g===0){ac&&!h&&Ti(a,l,0,!1);break}else if(g===6)Ti(a,l,0,!_i);else{if(d=a.current.alternate,x&&!x2(d)){g=Iy(a,l,!1),x=!1;continue}if(g===2){if(x=l,a.errorRecoveryDisabledLanes&x)var _=0;else _=a.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){l=_;e:{var C=a;g=ad;var O=C.current.memoizedState.isDehydrated;if(O&&(lc(C,_).flags|=256),_=Iy(C,_,!1),_!==2){if(Ny&&!O){C.errorRecoveryDisabledLanes|=x,Vo|=x,g=4;break e}x=Bs,Bs=g,x!==null&&zy(x)}g=_}if(x=!1,g!==2)continue}}if(g===1){lc(a,0),Ti(a,l,0,!0);break}e:{switch(h=a,g){case 0:case 1:throw Error(r(345));case 4:if((l&4194176)===l){Ti(h,l,es,!_i);break e}break;case 2:Bs=null;break;case 3:case 5:break;default:throw Error(r(329))}if(h.finishedWork=d,h.finishedLanes=l,(l&62914560)===l&&(x=Ry+300-Y(),10<x)){if(Ti(h,l,es,!_i),li(h,0)!==0)break e;h.timeoutHandle=Uk(vk.bind(null,h,d,Bs,Zh,jy,l,es,Vo,oc,_i,2,-0,0),x);break e}vk(h,d,Bs,Zh,jy,l,es,Vo,oc,_i,0,-0,0)}}break}while(!0);Is(a)}function zy(a){Bs===null?Bs=a:Bs.push.apply(Bs,a)}function vk(a,l,d,h,g,x,_,C,O,B,J,ee,G){var Q=l.subtreeFlags;if((Q&8192||(Q&16785408)===16785408)&&(pd={stylesheets:null,count:0,unsuspend:tP},lk(l),l=rP(),l!==null)){a.cancelPendingCommit=l(Ek.bind(null,a,d,h,g,_,C,O,1,ee,G)),Ti(a,x,_,!B);return}Ek(a,d,h,g,_,C,O,J,ee,G)}function x2(a){for(var l=a;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var h=0;h<d.length;h++){var g=d[h],x=g.getSnapshot;g=g.value;try{if(!Ar(x(),g))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ti(a,l,d,h){l&=~Oy,l&=~Vo,a.suspendedLanes|=l,a.pingedLanes&=~l,h&&(a.warmLanes|=l),h=a.expirationTimes;for(var g=l;0<g;){var x=31-wn(g),_=1<<x;h[x]=-1,g&=~_}d!==0&&Ve(a,d,l)}function Qh(){return(Ft&6)===0?(cd(0),!1):!0}function Vy(){if(lt!==null){if(Dt===0)var a=lt.return;else a=lt,vi=Do=null,qg(a),Ql=null,$u=0,a=lt;for(;a!==null;)mk(a.alternate,a),a=a.return;lt=null}}function lc(a,l){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,B2(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),Vy(),Rt=a,lt=d=fa(a.current,null),yt=l,Dt=0,Or=null,_i=!1,ac=vo(a,l),Ny=!1,oc=es=Oy=Vo=ha=Qt=0,Bs=ad=null,jy=!1,(l&8)!==0&&(l|=l&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=l;0<h;){var g=31-wn(h),x=1<<g;l|=a[g],h&=~x}return Ei=l,xh(),d}function bk(a,l){it=null,z.H=Vs,l===Uu?(l=D1(),Dt=3):l===O1?(l=D1(),Dt=4):Dt=l===jS?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Or=l,lt===null&&(Qt=1,Ih(a,Gr(l,a.current)))}function xk(){var a=z.H;return z.H=Vs,a===null?Vs:a}function wk(){var a=z.A;return z.A=v2,a}function By(){Qt=4,_i||(yt&4194176)!==yt&&Qr.current!==null||(ac=!0),(ha&134217727)===0&&(Vo&134217727)===0||Rt===null||Ti(Rt,yt,es,!1)}function Iy(a,l,d){var h=Ft;Ft|=2;var g=xk(),x=wk();(Rt!==a||yt!==l)&&(Zh=null,lc(a,l)),l=!1;var _=Qt;e:do try{if(Dt!==0&&lt!==null){var C=lt,O=Or;switch(Dt){case 8:Vy(),_=6;break e;case 3:case 2:case 6:Qr.current===null&&(l=!0);var B=Dt;if(Dt=0,Or=null,cc(a,C,O,B),d&&ac){_=0;break e}break;default:B=Dt,Dt=0,Or=null,cc(a,C,O,B)}}w2(),_=Qt;break}catch(J){bk(a,J)}while(!0);return l&&a.shellSuspendCounter++,vi=Do=null,Ft=h,z.H=g,z.A=x,lt===null&&(Rt=null,yt=0,xh()),_}function w2(){for(;lt!==null;)Sk(lt)}function S2(a,l){var d=Ft;Ft|=2;var h=xk(),g=wk();Rt!==a||yt!==l?(Zh=null,Gh=Y()+500,lc(a,l)):ac=vo(a,l);e:do try{if(Dt!==0&&lt!==null){l=lt;var x=Or;t:switch(Dt){case 1:Dt=0,Or=null,cc(a,l,x,1);break;case 2:if(j1(x)){Dt=0,Or=null,kk(l);break}l=function(){Dt===2&&Rt===a&&(Dt=7),Is(a)},x.then(l,l);break e;case 3:Dt=7;break e;case 4:Dt=5;break e;case 7:j1(x)?(Dt=0,Or=null,kk(l)):(Dt=0,Or=null,cc(a,l,x,7));break;case 5:var _=null;switch(lt.tag){case 26:_=lt.memoizedState;case 5:case 27:var C=lt;if(!_||Xk(_)){Dt=0,Or=null;var O=C.sibling;if(O!==null)lt=O;else{var B=C.return;B!==null?(lt=B,Jh(B)):lt=null}break t}}Dt=0,Or=null,cc(a,l,x,5);break;case 6:Dt=0,Or=null,cc(a,l,x,6);break;case 8:Vy(),Qt=6;break e;default:throw Error(r(462))}}k2();break}catch(J){bk(a,J)}while(!0);return vi=Do=null,z.H=h,z.A=g,Ft=d,lt!==null?0:(Rt=null,yt=0,xh(),Qt)}function k2(){for(;lt!==null&&!R();)Sk(lt)}function Sk(a){var l=qS(a.alternate,a,Ei);a.memoizedProps=a.pendingProps,l===null?Jh(a):lt=l}function kk(a){var l=a,d=l.alternate;switch(l.tag){case 15:case 0:l=VS(d,l,l.pendingProps,l.type,void 0,yt);break;case 11:l=VS(d,l,l.pendingProps,l.type.render,l.ref,yt);break;case 5:qg(l);default:mk(d,l),l=lt=fk(l,Ei),l=qS(d,l,Ei)}a.memoizedProps=a.pendingProps,l===null?Jh(a):lt=l}function cc(a,l,d,h){vi=Do=null,qg(l),Ql=null,$u=0;var g=l.return;try{if(d2(a,g,l,d,yt)){Qt=1,Ih(a,Gr(d,a.current)),lt=null;return}}catch(x){if(g!==null)throw lt=g,x;Qt=1,Ih(a,Gr(d,a.current)),lt=null;return}l.flags&32768?(wt||h===1?a=!0:ac||(yt&536870912)!==0?a=!1:(_i=a=!0,(h===2||h===3||h===6)&&(h=Qr.current,h!==null&&h.tag===13&&(h.flags|=16384))),_k(l,a)):Jh(l)}function Jh(a){var l=a;do{if((l.flags&32768)!==0){_k(l,_i);return}a=l.return;var d=g2(l.alternate,l,Ei);if(d!==null){lt=d;return}if(l=l.sibling,l!==null){lt=l;return}lt=l=a}while(l!==null);Qt===0&&(Qt=5)}function _k(a,l){do{var d=y2(a.alternate,a);if(d!==null){d.flags&=32767,lt=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(a=a.sibling,a!==null)){lt=a;return}lt=a=d}while(a!==null);Qt=6,lt=null}function Ek(a,l,d,h,g,x,_,C,O,B){var J=z.T,ee=pe.p;try{pe.p=2,z.T=null,_2(a,l,d,h,ee,g,x,_,C,O,B)}finally{z.T=J,pe.p=ee}}function _2(a,l,d,h,g,x,_,C){do uc();while(Bo!==null);if((Ft&6)!==0)throw Error(r(327));var O=a.finishedWork;if(h=a.finishedLanes,O===null)return null;if(a.finishedWork=null,a.finishedLanes=0,O===a.current)throw Error(r(177));a.callbackNode=null,a.callbackPriority=0,a.cancelPendingCommit=null;var B=O.lanes|O.childLanes;if(B|=Mg,he(a,h,B,x,_,C),a===Rt&&(lt=Rt=null,yt=0),(O.subtreeFlags&10256)===0&&(O.flags&10256)===0||Yh||(Yh=!0,Dy=B,Py=d,A2(me,function(){return uc(),null})),d=(O.flags&15990)!==0,(O.subtreeFlags&15990)!==0||d?(d=z.T,z.T=null,x=pe.p,pe.p=2,_=Ft,Ft|=4,h2(a,O),ik(O,a),ZD(Xy,a.containerInfo),cp=!!Jy,Xy=Jy=null,a.current=O,tk(a,O.alternate,O),K(),Ft=_,pe.p=x,z.T=d):a.current=O,Yh?(Yh=!1,Bo=a,od=h):Tk(a,B),B=a.pendingLanes,B===0&&(pa=null),Ll(O.stateNode),Is(a),l!==null)for(g=a.onRecoverableError,O=0;O<l.length;O++)B=l[O],g(B.value,{componentStack:B.stack});return(od&3)!==0&&uc(),B=a.pendingLanes,(h&4194218)!==0&&(B&42)!==0?a===Ly?ld++:(ld=0,Ly=a):ld=0,cd(0),null}function Tk(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,Hu(l)))}function uc(){if(Bo!==null){var a=Bo,l=Dy;Dy=0;var d=Me(od),h=z.T,g=pe.p;try{if(pe.p=32>d?32:d,z.T=null,Bo===null)var x=!1;else{d=Py,Py=null;var _=Bo,C=od;if(Bo=null,od=0,(Ft&6)!==0)throw Error(r(331));var O=Ft;if(Ft|=4,uk(_.current),ok(_,_.current,C,d),Ft=O,cd(0,!1),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(Ir,_)}catch{}x=!0}return x}finally{pe.p=g,z.T=h,Tk(a,l)}}return!1}function Ck(a,l,d){l=Gr(d,l),l=sy(a.stateNode,l,2),a=la(a,l,2),a!==null&&(re(a,2),Is(a))}function Nt(a,l,d){if(a.tag===3)Ck(a,a,d);else for(;l!==null;){if(l.tag===3){Ck(l,a,d);break}else if(l.tag===1){var h=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(pa===null||!pa.has(h))){a=Gr(d,a),d=NS(2),h=la(l,d,2),h!==null&&(OS(d,h,l,a),re(h,2),Is(h));break}}l=l.return}}function Uy(a,l,d){var h=a.pingCache;if(h===null){h=a.pingCache=new b2;var g=new Set;h.set(l,g)}else g=h.get(l),g===void 0&&(g=new Set,h.set(l,g));g.has(d)||(Ny=!0,g.add(d),a=E2.bind(null,a,l,d),l.then(a,a))}function E2(a,l,d){var h=a.pingCache;h!==null&&h.delete(l),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,Rt===a&&(yt&d)===d&&(Qt===4||Qt===3&&(yt&62914560)===yt&&300>Y()-Ry?(Ft&2)===0&&lc(a,0):Oy|=d,oc===yt&&(oc=0)),Is(a)}function Ak(a,l){l===0&&(l=q()),a=ea(a,l),a!==null&&(re(a,l),Is(a))}function T2(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),Ak(a,d)}function C2(a,l){var d=0;switch(a.tag){case 13:var h=a.stateNode,g=a.memoizedState;g!==null&&(d=g.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(l),Ak(a,d)}function A2(a,l){return Dl(a,l)}var Xh=null,dc=null,Fy=!1,Wh=!1,$y=!1,Io=0;function Is(a){a!==dc&&a.next===null&&(dc===null?Xh=dc=a:dc=dc.next=a),Wh=!0,Fy||(Fy=!0,N2(M2))}function cd(a,l){if(!$y&&Wh){$y=!0;do for(var d=!1,h=Xh;h!==null;){if(a!==0){var g=h.pendingLanes;if(g===0)var x=0;else{var _=h.suspendedLanes,C=h.pingedLanes;x=(1<<31-wn(42|a)+1)-1,x&=g&~(_&~C),x=x&201326677?x&201326677|1:x?x|2:0}x!==0&&(d=!0,Ok(h,x))}else x=yt,x=li(h,h===Rt?x:0),(x&3)===0||vo(h,x)||(d=!0,Ok(h,x));h=h.next}while(d);$y=!1}}function M2(){Wh=Fy=!1;var a=0;Io!==0&&(V2()&&(a=Io),Io=0);for(var l=Y(),d=null,h=Xh;h!==null;){var g=h.next,x=Mk(h,l);x===0?(h.next=null,d===null?Xh=g:d.next=g,g===null&&(dc=d)):(d=h,(a!==0||(x&3)!==0)&&(Wh=!0)),h=g}cd(a)}function Mk(a,l){for(var d=a.suspendedLanes,h=a.pingedLanes,g=a.expirationTimes,x=a.pendingLanes&-62914561;0<x;){var _=31-wn(x),C=1<<_,O=g[_];O===-1?((C&d)===0||(C&h)!==0)&&(g[_]=cg(C,l)):O<=l&&(a.expiredLanes|=C),x&=~C}if(l=Rt,d=yt,d=li(a,a===l?d:0),h=a.callbackNode,d===0||a===l&&Dt===2||a.cancelPendingCommit!==null)return h!==null&&h!==null&&mr(h),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||vo(a,d)){if(l=d&-d,l===a.callbackPriority)return l;switch(h!==null&&mr(h),Me(d)){case 2:case 8:d=ae;break;case 32:d=me;break;case 268435456:d=xt;break;default:d=me}return h=Nk.bind(null,a),d=Dl(d,h),a.callbackPriority=l,a.callbackNode=d,l}return h!==null&&h!==null&&mr(h),a.callbackPriority=2,a.callbackNode=null,2}function Nk(a,l){var d=a.callbackNode;if(uc()&&a.callbackNode!==d)return null;var h=yt;return h=li(a,a===Rt?h:0),h===0?null:(yk(a,h,l),Mk(a,Y()),a.callbackNode!=null&&a.callbackNode===d?Nk.bind(null,a):null)}function Ok(a,l){if(uc())return null;yk(a,l,!0)}function N2(a){I2(function(){(Ft&6)!==0?Dl(oe,a):a()})}function qy(){return Io===0&&(Io=P()),Io}function jk(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:hh(""+a)}function Rk(a,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,a.id&&d.setAttribute("form",a.id),l.parentNode.insertBefore(d,l),a=new FormData(a),d.parentNode.removeChild(d),a}function O2(a,l,d,h,g){if(l==="submit"&&d&&d.stateNode===g){var x=jk((g[Ke]||null).action),_=h.submitter;_&&(l=(l=_[Ke]||null)?jk(l.formAction):_.getAttribute("formAction"),l!==null&&(x=l,_=null));var C=new yh("action","action",null,h,g);a.push({event:C,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Io!==0){var O=_?Rk(g,_):new FormData(g);Wg(d,{pending:!0,data:O,method:g.method,action:x},null,O)}}else typeof x=="function"&&(C.preventDefault(),O=_?Rk(g,_):new FormData(g),Wg(d,{pending:!0,data:O,method:g.method,action:x},x,O))},currentTarget:g}]})}}for(var Hy=0;Hy<E1.length;Hy++){var Ky=E1[Hy],j2=Ky.toLowerCase(),R2=Ky[0].toUpperCase()+Ky.slice(1);vs(j2,"on"+R2)}vs(x1,"onAnimationEnd"),vs(w1,"onAnimationIteration"),vs(S1,"onAnimationStart"),vs("dblclick","onDoubleClick"),vs("focusin","onFocus"),vs("focusout","onBlur"),vs(QD,"onTransitionRun"),vs(JD,"onTransitionStart"),vs(XD,"onTransitionCancel"),vs(k1,"onTransitionEnd"),Bt("onMouseEnter",["mouseout","mouseover"]),Bt("onMouseLeave",["mouseout","mouseover"]),Bt("onPointerEnter",["pointerout","pointerover"]),Bt("onPointerLeave",["pointerout","pointerover"]),gt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gt("onBeforeInput",["compositionend","keypress","textInput","paste"]),gt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ud="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ud));function Dk(a,l){l=(l&4)!==0;for(var d=0;d<a.length;d++){var h=a[d],g=h.event;h=h.listeners;e:{var x=void 0;if(l)for(var _=h.length-1;0<=_;_--){var C=h[_],O=C.instance,B=C.currentTarget;if(C=C.listener,O!==x&&g.isPropagationStopped())break e;x=C,g.currentTarget=B;try{x(g)}catch(J){Bh(J)}g.currentTarget=null,x=O}else for(_=0;_<h.length;_++){if(C=h[_],O=C.instance,B=C.currentTarget,C=C.listener,O!==x&&g.isPropagationStopped())break e;x=C,g.currentTarget=B;try{x(g)}catch(J){Bh(J)}g.currentTarget=null,x=O}}}}function ft(a,l){var d=l[cn];d===void 0&&(d=l[cn]=new Set);var h=a+"__bubble";d.has(h)||(Pk(l,a,2,!1),d.add(h))}function Gy(a,l,d){var h=0;l&&(h|=4),Pk(d,a,h,l)}var ep="_reactListening"+Math.random().toString(36).slice(2);function Zy(a){if(!a[ep]){a[ep]=!0,bo.forEach(function(d){d!=="selectionchange"&&(D2.has(d)||Gy(d,!1,a),Gy(d,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[ep]||(l[ep]=!0,Gy("selectionchange",!1,l))}}function Pk(a,l,d,h){switch(s_(l)){case 2:var g=aP;break;case 8:g=oP;break;default:g=o0}d=g.bind(null,l,d,a),g=void 0,!gg||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(g=!0),h?g!==void 0?a.addEventListener(l,d,{capture:!0,passive:g}):a.addEventListener(l,d,!0):g!==void 0?a.addEventListener(l,d,{passive:g}):a.addEventListener(l,d,!1)}function Yy(a,l,d,h,g){var x=h;if((l&1)===0&&(l&2)===0&&h!==null)e:for(;;){if(h===null)return;var _=h.tag;if(_===3||_===4){var C=h.stateNode.containerInfo;if(C===g||C.nodeType===8&&C.parentNode===g)break;if(_===4)for(_=h.return;_!==null;){var O=_.tag;if((O===3||O===4)&&(O=_.stateNode.containerInfo,O===g||O.nodeType===8&&O.parentNode===g))return;_=_.return}for(;C!==null;){if(_=Dn(C),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){h=x=_;continue e}C=C.parentNode}}h=h.return}Qw(function(){var B=x,J=pg(d),ee=[];e:{var G=_1.get(a);if(G!==void 0){var Q=yh,Ne=a;switch(a){case"keypress":if(mh(d)===0)break e;case"keydown":case"keyup":Q=CD;break;case"focusin":Ne="focus",Q=xg;break;case"focusout":Ne="blur",Q=xg;break;case"beforeblur":case"afterblur":Q=xg;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Ww;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=mD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=ND;break;case x1:case w1:case S1:Q=vD;break;case k1:Q=jD;break;case"scroll":case"scrollend":Q=hD;break;case"wheel":Q=DD;break;case"copy":case"cut":case"paste":Q=xD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=t1;break;case"toggle":case"beforetoggle":Q=LD}var Qe=(l&4)!==0,Jt=!Qe&&(a==="scroll"||a==="scrollend"),$=Qe?G!==null?G+"Capture":null:G;Qe=[];for(var V=B,H;V!==null;){var X=V;if(H=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||H===null||$===null||(X=Mu(V,$),X!=null&&Qe.push(dd(V,X,H))),Jt)break;V=V.return}0<Qe.length&&(G=new Q(G,Ne,null,d,J),ee.push({event:G,listeners:Qe}))}}if((l&7)===0){e:{if(G=a==="mouseover"||a==="pointerover",Q=a==="mouseout"||a==="pointerout",G&&d!==hg&&(Ne=d.relatedTarget||d.fromElement)&&(Dn(Ne)||Ne[Ct]))break e;if((Q||G)&&(G=J.window===J?J:(G=J.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(Ne=d.relatedTarget||d.toElement,Q=B,Ne=Ne?Dn(Ne):null,Ne!==null&&(Jt=fe(Ne),Qe=Ne.tag,Ne!==Jt||Qe!==5&&Qe!==27&&Qe!==6)&&(Ne=null)):(Q=null,Ne=B),Q!==Ne)){if(Qe=Ww,X="onMouseLeave",$="onMouseEnter",V="mouse",(a==="pointerout"||a==="pointerover")&&(Qe=t1,X="onPointerLeave",$="onPointerEnter",V="pointer"),Jt=Q==null?G:ui(Q),H=Ne==null?G:ui(Ne),G=new Qe(X,V+"leave",Q,d,J),G.target=Jt,G.relatedTarget=H,X=null,Dn(J)===B&&(Qe=new Qe($,V+"enter",Ne,d,J),Qe.target=H,Qe.relatedTarget=Jt,X=Qe),Jt=X,Q&&Ne)t:{for(Qe=Q,$=Ne,V=0,H=Qe;H;H=fc(H))V++;for(H=0,X=$;X;X=fc(X))H++;for(;0<V-H;)Qe=fc(Qe),V--;for(;0<H-V;)$=fc($),H--;for(;V--;){if(Qe===$||$!==null&&Qe===$.alternate)break t;Qe=fc(Qe),$=fc($)}Qe=null}else Qe=null;Q!==null&&Lk(ee,G,Q,Qe,!1),Ne!==null&&Jt!==null&&Lk(ee,Jt,Ne,Qe,!0)}}e:{if(G=B?ui(B):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var Se=c1;else if(o1(G))if(u1)Se=KD;else{Se=qD;var ot=$D}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?B&&fg(B.elementType)&&(Se=c1):Se=HD;if(Se&&(Se=Se(a,B))){l1(ee,Se,d,J);break e}ot&&ot(a,G,B),a==="focusout"&&B&&G.type==="number"&&B.memoizedProps.value!=null&&dg(G,"number",G.value)}switch(ot=B?ui(B):window,a){case"focusin":(o1(ot)||ot.contentEditable==="true")&&(ql=ot,Tg=B,zu=null);break;case"focusout":zu=Tg=ql=null;break;case"mousedown":Cg=!0;break;case"contextmenu":case"mouseup":case"dragend":Cg=!1,v1(ee,d,J);break;case"selectionchange":if(YD)break;case"keydown":case"keyup":v1(ee,d,J)}var Re;if(Sg)e:{switch(a){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else $l?i1(a,d)&&(Be="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(Be="onCompositionStart");Be&&(n1&&d.locale!=="ko"&&($l||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&$l&&(Re=Jw()):(Wi=J,yg="value"in Wi?Wi.value:Wi.textContent,$l=!0)),ot=tp(B,Be),0<ot.length&&(Be=new e1(Be,a,null,d,J),ee.push({event:Be,listeners:ot}),Re?Be.data=Re:(Re=a1(d),Re!==null&&(Be.data=Re)))),(Re=VD?BD(a,d):ID(a,d))&&(Be=tp(B,"onBeforeInput"),0<Be.length&&(ot=new e1("onBeforeInput","beforeinput",null,d,J),ee.push({event:ot,listeners:Be}),ot.data=Re)),O2(ee,a,B,d,J)}Dk(ee,l)})}function dd(a,l,d){return{instance:a,listener:l,currentTarget:d}}function tp(a,l){for(var d=l+"Capture",h=[];a!==null;){var g=a,x=g.stateNode;g=g.tag,g!==5&&g!==26&&g!==27||x===null||(g=Mu(a,d),g!=null&&h.unshift(dd(a,g,x)),g=Mu(a,l),g!=null&&h.push(dd(a,g,x))),a=a.return}return h}function fc(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Lk(a,l,d,h,g){for(var x=l._reactName,_=[];d!==null&&d!==h;){var C=d,O=C.alternate,B=C.stateNode;if(C=C.tag,O!==null&&O===h)break;C!==5&&C!==26&&C!==27||B===null||(O=B,g?(B=Mu(d,x),B!=null&&_.unshift(dd(d,B,O))):g||(B=Mu(d,x),B!=null&&_.push(dd(d,B,O)))),d=d.return}_.length!==0&&a.push({event:l,listeners:_})}var P2=/\r\n?/g,L2=/\u0000|\uFFFD/g;function zk(a){return(typeof a=="string"?a:""+a).replace(P2,`
`).replace(L2,"")}function Vk(a,l){return l=zk(l),zk(a)===l}function np(){}function Mt(a,l,d,h,g,x){switch(d){case"children":typeof h=="string"?l==="body"||l==="textarea"&&h===""||Il(a,h):(typeof h=="number"||typeof h=="bigint")&&l!=="body"&&Il(a,""+h);break;case"className":uh(a,"class",h);break;case"tabIndex":uh(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":uh(a,d,h);break;case"style":Zw(a,h,x);break;case"data":if(l!=="object"){uh(a,"data",h);break}case"src":case"href":if(h===""&&(l!=="a"||d!=="href")){a.removeAttribute(d);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(d);break}h=hh(""+h),a.setAttribute(d,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(d==="formAction"?(l!=="input"&&Mt(a,l,"name",g.name,g,null),Mt(a,l,"formEncType",g.formEncType,g,null),Mt(a,l,"formMethod",g.formMethod,g,null),Mt(a,l,"formTarget",g.formTarget,g,null)):(Mt(a,l,"encType",g.encType,g,null),Mt(a,l,"method",g.method,g,null),Mt(a,l,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(d);break}h=hh(""+h),a.setAttribute(d,h);break;case"onClick":h!=null&&(a.onclick=np);break;case"onScroll":h!=null&&ft("scroll",a);break;case"onScrollEnd":h!=null&&ft("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(d=h.__html,d!=null){if(g.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}d=hh(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(d,""+h):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":h===!0?a.setAttribute(d,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(d,h):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(d,h):a.removeAttribute(d);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(d):a.setAttribute(d,h);break;case"popover":ft("beforetoggle",a),ft("toggle",a),Vl(a,"popover",h);break;case"xlinkActuate":fi(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":fi(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":fi(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":fi(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":fi(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":fi(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":fi(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":fi(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":fi(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Vl(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=dD.get(d)||d,Vl(a,d,h))}}function Qy(a,l,d,h,g,x){switch(d){case"style":Zw(a,h,x);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(d=h.__html,d!=null){if(g.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"children":typeof h=="string"?Il(a,h):(typeof h=="number"||typeof h=="bigint")&&Il(a,""+h);break;case"onScroll":h!=null&&ft("scroll",a);break;case"onScrollEnd":h!=null&&ft("scrollend",a);break;case"onClick":h!=null&&(a.onclick=np);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xo.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(g=d.endsWith("Capture"),l=d.slice(2,g?d.length-7:void 0),x=a[Ke]||null,x=x!=null?x[d]:null,typeof x=="function"&&a.removeEventListener(l,x,g),typeof h=="function")){typeof x!="function"&&x!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(l,h,g);break e}d in a?a[d]=h:h===!0?a.setAttribute(d,""):Vl(a,d,h)}}}function Vn(a,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",a),ft("load",a);var h=!1,g=!1,x;for(x in d)if(d.hasOwnProperty(x)){var _=d[x];if(_!=null)switch(x){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Mt(a,l,x,_,d,null)}}g&&Mt(a,l,"srcSet",d.srcSet,d,null),h&&Mt(a,l,"src",d.src,d,null);return;case"input":ft("invalid",a);var C=x=_=g=null,O=null,B=null;for(h in d)if(d.hasOwnProperty(h)){var J=d[h];if(J!=null)switch(h){case"name":g=J;break;case"type":_=J;break;case"checked":O=J;break;case"defaultChecked":B=J;break;case"value":x=J;break;case"defaultValue":C=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,l));break;default:Mt(a,l,h,J,d,null)}}qw(a,x,C,O,B,_,g,!1),dh(a);return;case"select":ft("invalid",a),h=_=x=null;for(g in d)if(d.hasOwnProperty(g)&&(C=d[g],C!=null))switch(g){case"value":x=C;break;case"defaultValue":_=C;break;case"multiple":h=C;default:Mt(a,l,g,C,d,null)}l=x,d=_,a.multiple=!!h,l!=null?Bl(a,!!h,l,!1):d!=null&&Bl(a,!!h,d,!0);return;case"textarea":ft("invalid",a),x=g=h=null;for(_ in d)if(d.hasOwnProperty(_)&&(C=d[_],C!=null))switch(_){case"value":h=C;break;case"defaultValue":g=C;break;case"children":x=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:Mt(a,l,_,C,d,null)}Kw(a,h,g,x),dh(a);return;case"option":for(O in d)if(d.hasOwnProperty(O)&&(h=d[O],h!=null))switch(O){case"selected":a.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Mt(a,l,O,h,d,null)}return;case"dialog":ft("cancel",a),ft("close",a);break;case"iframe":case"object":ft("load",a);break;case"video":case"audio":for(h=0;h<ud.length;h++)ft(ud[h],a);break;case"image":ft("error",a),ft("load",a);break;case"details":ft("toggle",a);break;case"embed":case"source":case"link":ft("error",a),ft("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in d)if(d.hasOwnProperty(B)&&(h=d[B],h!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Mt(a,l,B,h,d,null)}return;default:if(fg(l)){for(J in d)d.hasOwnProperty(J)&&(h=d[J],h!==void 0&&Qy(a,l,J,h,d,void 0));return}}for(C in d)d.hasOwnProperty(C)&&(h=d[C],h!=null&&Mt(a,l,C,h,d,null))}function z2(a,l,d,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,x=null,_=null,C=null,O=null,B=null,J=null;for(Q in d){var ee=d[Q];if(d.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":O=ee;default:h.hasOwnProperty(Q)||Mt(a,l,Q,null,h,ee)}}for(var G in h){var Q=h[G];if(ee=d[G],h.hasOwnProperty(G)&&(Q!=null||ee!=null))switch(G){case"type":x=Q;break;case"name":g=Q;break;case"checked":B=Q;break;case"defaultChecked":J=Q;break;case"value":_=Q;break;case"defaultValue":C=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,l));break;default:Q!==ee&&Mt(a,l,G,Q,h,ee)}}ug(a,_,C,O,B,J,x,g);return;case"select":Q=_=C=G=null;for(x in d)if(O=d[x],d.hasOwnProperty(x)&&O!=null)switch(x){case"value":break;case"multiple":Q=O;default:h.hasOwnProperty(x)||Mt(a,l,x,null,h,O)}for(g in h)if(x=h[g],O=d[g],h.hasOwnProperty(g)&&(x!=null||O!=null))switch(g){case"value":G=x;break;case"defaultValue":C=x;break;case"multiple":_=x;default:x!==O&&Mt(a,l,g,x,h,O)}l=C,d=_,h=Q,G!=null?Bl(a,!!d,G,!1):!!h!=!!d&&(l!=null?Bl(a,!!d,l,!0):Bl(a,!!d,d?[]:"",!1));return;case"textarea":Q=G=null;for(C in d)if(g=d[C],d.hasOwnProperty(C)&&g!=null&&!h.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Mt(a,l,C,null,h,g)}for(_ in h)if(g=h[_],x=d[_],h.hasOwnProperty(_)&&(g!=null||x!=null))switch(_){case"value":G=g;break;case"defaultValue":Q=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==x&&Mt(a,l,_,g,h,x)}Hw(a,G,Q);return;case"option":for(var Ne in d)if(G=d[Ne],d.hasOwnProperty(Ne)&&G!=null&&!h.hasOwnProperty(Ne))switch(Ne){case"selected":a.selected=!1;break;default:Mt(a,l,Ne,null,h,G)}for(O in h)if(G=h[O],Q=d[O],h.hasOwnProperty(O)&&G!==Q&&(G!=null||Q!=null))switch(O){case"selected":a.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Mt(a,l,O,G,h,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in d)G=d[Qe],d.hasOwnProperty(Qe)&&G!=null&&!h.hasOwnProperty(Qe)&&Mt(a,l,Qe,null,h,G);for(B in h)if(G=h[B],Q=d[B],h.hasOwnProperty(B)&&G!==Q&&(G!=null||Q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,l));break;default:Mt(a,l,B,G,h,Q)}return;default:if(fg(l)){for(var Jt in d)G=d[Jt],d.hasOwnProperty(Jt)&&G!==void 0&&!h.hasOwnProperty(Jt)&&Qy(a,l,Jt,void 0,h,G);for(J in h)G=h[J],Q=d[J],!h.hasOwnProperty(J)||G===Q||G===void 0&&Q===void 0||Qy(a,l,J,G,h,Q);return}}for(var $ in d)G=d[$],d.hasOwnProperty($)&&G!=null&&!h.hasOwnProperty($)&&Mt(a,l,$,null,h,G);for(ee in h)G=h[ee],Q=d[ee],!h.hasOwnProperty(ee)||G===Q||G==null&&Q==null||Mt(a,l,ee,G,h,Q)}var Jy=null,Xy=null;function rp(a){return a.nodeType===9?a:a.ownerDocument}function Bk(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ik(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function Wy(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var e0=null;function V2(){var a=window.event;return a&&a.type==="popstate"?a===e0?!1:(e0=a,!0):(e0=null,!1)}var Uk=typeof setTimeout=="function"?setTimeout:void 0,B2=typeof clearTimeout=="function"?clearTimeout:void 0,Fk=typeof Promise=="function"?Promise:void 0,I2=typeof queueMicrotask=="function"?queueMicrotask:typeof Fk<"u"?function(a){return Fk.resolve(null).then(a).catch(U2)}:Uk;function U2(a){setTimeout(function(){throw a})}function t0(a,l){var d=l,h=0;do{var g=d.nextSibling;if(a.removeChild(d),g&&g.nodeType===8)if(d=g.data,d==="/$"){if(h===0){a.removeChild(g),bd(l);return}h--}else d!=="$"&&d!=="$?"&&d!=="$!"||h++;d=g}while(d);bd(l)}function n0(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":n0(d),ci(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function F2(a,l,d,h){for(;a.nodeType===1;){var g=d;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[Fr])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(x=a.getAttribute("rel"),x==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(x!==g.rel||a.getAttribute("href")!==(g.href==null?null:g.href)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||a.getAttribute("title")!==(g.title==null?null:g.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(x=a.getAttribute("src"),(x!==(g.src==null?null:g.src)||a.getAttribute("type")!==(g.type==null?null:g.type)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&x&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var x=g.name==null?null:""+g.name;if(g.type==="hidden"&&a.getAttribute("name")===x)return a}else return a;if(a=ws(a.nextSibling),a===null)break}return null}function $2(a,l,d){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=ws(a.nextSibling),a===null))return null;return a}function ws(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return a}function $k(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return a;l--}else d==="/$"&&l++}a=a.previousSibling}return null}function qk(a,l,d){switch(l=rp(d),a){case"html":if(a=l.documentElement,!a)throw Error(r(452));return a;case"head":if(a=l.head,!a)throw Error(r(453));return a;case"body":if(a=l.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}var ts=new Map,Hk=new Set;function sp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.ownerDocument}var Ci=pe.d;pe.d={f:q2,r:H2,D:K2,C:G2,L:Z2,m:Y2,X:J2,S:Q2,M:X2};function q2(){var a=Ci.f(),l=Qh();return a||l}function H2(a){var l=Pn(a);l!==null&&l.tag===5&&l.type==="form"?vS(l):Ci.r(a)}var hc=typeof document>"u"?null:document;function Kk(a,l,d){var h=hc;if(h&&typeof l=="string"&&l){var g=Hr(l);g='link[rel="'+a+'"][href="'+g+'"]',typeof d=="string"&&(g+='[crossorigin="'+d+'"]'),Hk.has(g)||(Hk.add(g),a={rel:a,crossOrigin:d,href:l},h.querySelector(g)===null&&(l=h.createElement("link"),Vn(l,"link",a),jt(l),h.head.appendChild(l)))}}function K2(a){Ci.D(a),Kk("dns-prefetch",a,null)}function G2(a,l){Ci.C(a,l),Kk("preconnect",a,l)}function Z2(a,l,d){Ci.L(a,l,d);var h=hc;if(h&&a&&l){var g='link[rel="preload"][as="'+Hr(l)+'"]';l==="image"&&d&&d.imageSrcSet?(g+='[imagesrcset="'+Hr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(g+='[imagesizes="'+Hr(d.imageSizes)+'"]')):g+='[href="'+Hr(a)+'"]';var x=g;switch(l){case"style":x=pc(a);break;case"script":x=mc(a)}ts.has(x)||(a=te({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:a,as:l},d),ts.set(x,a),h.querySelector(g)!==null||l==="style"&&h.querySelector(fd(x))||l==="script"&&h.querySelector(hd(x))||(l=h.createElement("link"),Vn(l,"link",a),jt(l),h.head.appendChild(l)))}}function Y2(a,l){Ci.m(a,l);var d=hc;if(d&&a){var h=l&&typeof l.as=="string"?l.as:"script",g='link[rel="modulepreload"][as="'+Hr(h)+'"][href="'+Hr(a)+'"]',x=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=mc(a)}if(!ts.has(x)&&(a=te({rel:"modulepreload",href:a},l),ts.set(x,a),d.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(hd(x)))return}h=d.createElement("link"),Vn(h,"link",a),jt(h),d.head.appendChild(h)}}}function Q2(a,l,d){Ci.S(a,l,d);var h=hc;if(h&&a){var g=$r(h).hoistableStyles,x=pc(a);l=l||"default";var _=g.get(x);if(!_){var C={loading:0,preload:null};if(_=h.querySelector(fd(x)))C.loading=5;else{a=te({rel:"stylesheet",href:a,"data-precedence":l},d),(d=ts.get(x))&&r0(a,d);var O=_=h.createElement("link");jt(O),Vn(O,"link",a),O._p=new Promise(function(B,J){O.onload=B,O.onerror=J}),O.addEventListener("load",function(){C.loading|=1}),O.addEventListener("error",function(){C.loading|=2}),C.loading|=4,ip(_,l,h)}_={type:"stylesheet",instance:_,count:1,state:C},g.set(x,_)}}}function J2(a,l){Ci.X(a,l);var d=hc;if(d&&a){var h=$r(d).hoistableScripts,g=mc(a),x=h.get(g);x||(x=d.querySelector(hd(g)),x||(a=te({src:a,async:!0},l),(l=ts.get(g))&&s0(a,l),x=d.createElement("script"),jt(x),Vn(x,"link",a),d.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(g,x))}}function X2(a,l){Ci.M(a,l);var d=hc;if(d&&a){var h=$r(d).hoistableScripts,g=mc(a),x=h.get(g);x||(x=d.querySelector(hd(g)),x||(a=te({src:a,async:!0,type:"module"},l),(l=ts.get(g))&&s0(a,l),x=d.createElement("script"),jt(x),Vn(x,"link",a),d.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(g,x))}}function Gk(a,l,d,h){var g=(g=xn.current)?sp(g):null;if(!g)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=pc(d.href),d=$r(g).hoistableStyles,h=d.get(l),h||(h={type:"style",instance:null,count:0,state:null},d.set(l,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=pc(d.href);var x=$r(g).hoistableStyles,_=x.get(a);if(_||(g=g.ownerDocument||g,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(a,_),(x=g.querySelector(fd(a)))&&!x._p&&(_.instance=x,_.state.loading=5),ts.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},ts.set(a,d),x||W2(g,a,d,_.state))),l&&h===null)throw Error(r(528,""));return _}if(l&&h!==null)throw Error(r(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=mc(d),d=$r(g).hoistableScripts,h=d.get(l),h||(h={type:"script",instance:null,count:0,state:null},d.set(l,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function pc(a){return'href="'+Hr(a)+'"'}function fd(a){return'link[rel="stylesheet"]['+a+"]"}function Zk(a){return te({},a,{"data-precedence":a.precedence,precedence:null})}function W2(a,l,d,h){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?h.loading=1:(l=a.createElement("link"),h.preload=l,l.addEventListener("load",function(){return h.loading|=1}),l.addEventListener("error",function(){return h.loading|=2}),Vn(l,"link",d),jt(l),a.head.appendChild(l))}function mc(a){return'[src="'+Hr(a)+'"]'}function hd(a){return"script[async]"+a}function Yk(a,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var h=a.querySelector('style[data-href~="'+Hr(d.href)+'"]');if(h)return l.instance=h,jt(h),h;var g=te({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),jt(h),Vn(h,"style",g),ip(h,d.precedence,a),l.instance=h;case"stylesheet":g=pc(d.href);var x=a.querySelector(fd(g));if(x)return l.state.loading|=4,l.instance=x,jt(x),x;h=Zk(d),(g=ts.get(g))&&r0(h,g),x=(a.ownerDocument||a).createElement("link"),jt(x);var _=x;return _._p=new Promise(function(C,O){_.onload=C,_.onerror=O}),Vn(x,"link",h),l.state.loading|=4,ip(x,d.precedence,a),l.instance=x;case"script":return x=mc(d.src),(g=a.querySelector(hd(x)))?(l.instance=g,jt(g),g):(h=d,(g=ts.get(x))&&(h=te({},d),s0(h,g)),a=a.ownerDocument||a,g=a.createElement("script"),jt(g),Vn(g,"link",h),a.head.appendChild(g),l.instance=g);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(h=l.instance,l.state.loading|=4,ip(h,d.precedence,a));return l.instance}function ip(a,l,d){for(var h=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,x=g,_=0;_<h.length;_++){var C=h[_];if(C.dataset.precedence===l)x=C;else if(x!==g)break}x?x.parentNode.insertBefore(a,x.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(a,l.firstChild))}function r0(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function s0(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var ap=null;function Qk(a,l,d){if(ap===null){var h=new Map,g=ap=new Map;g.set(d,h)}else g=ap,h=g.get(d),h||(h=new Map,g.set(d,h));if(h.has(a))return h;for(h.set(a,null),d=d.getElementsByTagName(a),g=0;g<d.length;g++){var x=d[g];if(!(x[Fr]||x[we]||a==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var _=x.getAttribute(l)||"";_=a+_;var C=h.get(_);C?C.push(x):h.set(_,[x])}}return h}function Jk(a,l,d){a=a.ownerDocument||a,a.head.insertBefore(d,l==="title"?a.querySelector("head > title"):null)}function eP(a,l,d){if(d===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Xk(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var pd=null;function tP(){}function nP(a,l,d){if(pd===null)throw Error(r(475));var h=pd;if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=pc(d.href),x=a.querySelector(fd(g));if(x){a=x._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(h.count++,h=op.bind(h),a.then(h,h)),l.state.loading|=4,l.instance=x,jt(x);return}x=a.ownerDocument||a,d=Zk(d),(g=ts.get(g))&&r0(d,g),x=x.createElement("link"),jt(x);var _=x;_._p=new Promise(function(C,O){_.onload=C,_.onerror=O}),Vn(x,"link",d),l.instance=x}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(h.count++,l=op.bind(h),a.addEventListener("load",l),a.addEventListener("error",l))}}function rP(){if(pd===null)throw Error(r(475));var a=pd;return a.stylesheets&&a.count===0&&i0(a,a.stylesheets),0<a.count?function(l){var d=setTimeout(function(){if(a.stylesheets&&i0(a,a.stylesheets),a.unsuspend){var h=a.unsuspend;a.unsuspend=null,h()}},6e4);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(d)}}:null}function op(){if(this.count--,this.count===0){if(this.stylesheets)i0(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var lp=null;function i0(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,lp=new Map,l.forEach(sP,a),lp=null,op.call(a))}function sP(a,l){if(!(l.state.loading&4)){var d=lp.get(a);if(d)var h=d.get(null);else{d=new Map,lp.set(a,d);for(var g=a.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<g.length;x++){var _=g[x];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(d.set(_.dataset.precedence,_),h=_)}h&&d.set(null,h)}g=l.instance,_=g.getAttribute("data-precedence"),x=d.get(_)||h,x===h&&d.set(null,g),d.set(_,g),this.count++,h=op.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),x?x.parentNode.insertBefore(g,x.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(g,a.firstChild)),l.state.loading|=4}}var md={$$typeof:b,Provider:null,Consumer:null,_currentValue:Ze,_currentValue2:Ze,_threadCount:0};function iP(a,l,d,h,g,x,_,C){this.tag=1,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Z(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Z(0),this.hiddenUpdates=Z(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=x,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Wk(a,l,d,h,g,x,_,C,O,B,J,ee){return a=new iP(a,l,d,_,C,O,B,ee),l=1,x===!0&&(l|=24),x=Wr(3,null,null,l),a.current=x,x.stateNode=a,l=zg(),l.refCount++,a.pooledCache=l,l.refCount++,x.memoizedState={element:h,isDehydrated:d,cache:l},yy(x),a}function e_(a){return a?(a=Gl,a):Gl}function t_(a,l,d,h,g,x){g=e_(g),h.context===null?h.context=g:h.pendingContext=g,h=oa(l),h.payload={element:d},x=x===void 0?null:x,x!==null&&(h.callback=x),d=la(a,h,l),d!==null&&(sr(d,a,l),Xu(d,a,l))}function n_(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function a0(a,l){n_(a,l),(a=a.alternate)&&n_(a,l)}function r_(a){if(a.tag===13){var l=ea(a,67108864);l!==null&&sr(l,a,67108864),a0(a,67108864)}}var cp=!0;function aP(a,l,d,h){var g=z.T;z.T=null;var x=pe.p;try{pe.p=2,o0(a,l,d,h)}finally{pe.p=x,z.T=g}}function oP(a,l,d,h){var g=z.T;z.T=null;var x=pe.p;try{pe.p=8,o0(a,l,d,h)}finally{pe.p=x,z.T=g}}function o0(a,l,d,h){if(cp){var g=l0(h);if(g===null)Yy(a,l,h,up,d),i_(a,h);else if(cP(g,a,l,d,h))h.stopPropagation();else if(i_(a,h),l&4&&-1<lP.indexOf(a)){for(;g!==null;){var x=Pn(g);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var _=Ur(x.pendingLanes);if(_!==0){var C=x;for(C.pendingLanes|=2,C.entangledLanes|=2;_;){var O=1<<31-wn(_);C.entanglements[1]|=O,_&=~O}Is(x),(Ft&6)===0&&(Gh=Y()+500,cd(0))}}break;case 13:C=ea(x,2),C!==null&&sr(C,x,2),Qh(),a0(x,2)}if(x=l0(h),x===null&&Yy(a,l,h,up,d),x===g)break;g=x}g!==null&&h.stopPropagation()}else Yy(a,l,h,null,d)}}function l0(a){return a=pg(a),c0(a)}var up=null;function c0(a){if(up=null,a=Dn(a),a!==null){var l=fe(a);if(l===null)a=null;else{var d=l.tag;if(d===13){if(a=Ge(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return up=a,null}function s_(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case oe:return 2;case ae:return 8;case me:case ct:return 32;case xt:return 268435456;default:return 32}default:return 32}}var u0=!1,ma=null,ga=null,ya=null,gd=new Map,yd=new Map,va=[],lP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function i_(a,l){switch(a){case"focusin":case"focusout":ma=null;break;case"dragenter":case"dragleave":ga=null;break;case"mouseover":case"mouseout":ya=null;break;case"pointerover":case"pointerout":gd.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":yd.delete(l.pointerId)}}function vd(a,l,d,h,g,x){return a===null||a.nativeEvent!==x?(a={blockedOn:l,domEventName:d,eventSystemFlags:h,nativeEvent:x,targetContainers:[g]},l!==null&&(l=Pn(l),l!==null&&r_(l)),a):(a.eventSystemFlags|=h,l=a.targetContainers,g!==null&&l.indexOf(g)===-1&&l.push(g),a)}function cP(a,l,d,h,g){switch(l){case"focusin":return ma=vd(ma,a,l,d,h,g),!0;case"dragenter":return ga=vd(ga,a,l,d,h,g),!0;case"mouseover":return ya=vd(ya,a,l,d,h,g),!0;case"pointerover":var x=g.pointerId;return gd.set(x,vd(gd.get(x)||null,a,l,d,h,g)),!0;case"gotpointercapture":return x=g.pointerId,yd.set(x,vd(yd.get(x)||null,a,l,d,h,g)),!0}return!1}function a_(a){var l=Dn(a.target);if(l!==null){var d=fe(l);if(d!==null){if(l=d.tag,l===13){if(l=Ge(d),l!==null){a.blockedOn=l,be(a.priority,function(){if(d.tag===13){var h=jr(),g=ea(d,h);g!==null&&sr(g,d,h),a0(d,h)}});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function dp(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var d=l0(a.nativeEvent);if(d===null){d=a.nativeEvent;var h=new d.constructor(d.type,d);hg=h,d.target.dispatchEvent(h),hg=null}else return l=Pn(d),l!==null&&r_(l),a.blockedOn=d,!1;l.shift()}return!0}function o_(a,l,d){dp(a)&&d.delete(l)}function uP(){u0=!1,ma!==null&&dp(ma)&&(ma=null),ga!==null&&dp(ga)&&(ga=null),ya!==null&&dp(ya)&&(ya=null),gd.forEach(o_),yd.forEach(o_)}function fp(a,l){a.blockedOn===l&&(a.blockedOn=null,u0||(u0=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,uP)))}var hp=null;function l_(a){hp!==a&&(hp=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){hp===a&&(hp=null);for(var l=0;l<a.length;l+=3){var d=a[l],h=a[l+1],g=a[l+2];if(typeof h!="function"){if(c0(h||d)===null)continue;break}var x=Pn(d);x!==null&&(a.splice(l,3),l-=3,Wg(x,{pending:!0,data:g,method:d.method,action:h},h,g))}}))}function bd(a){function l(O){return fp(O,a)}ma!==null&&fp(ma,a),ga!==null&&fp(ga,a),ya!==null&&fp(ya,a),gd.forEach(l),yd.forEach(l);for(var d=0;d<va.length;d++){var h=va[d];h.blockedOn===a&&(h.blockedOn=null)}for(;0<va.length&&(d=va[0],d.blockedOn===null);)a_(d),d.blockedOn===null&&va.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(h=0;h<d.length;h+=3){var g=d[h],x=d[h+1],_=g[Ke]||null;if(typeof x=="function")_||l_(d);else if(_){var C=null;if(x&&x.hasAttribute("formAction")){if(g=x,_=x[Ke]||null)C=_.formAction;else if(c0(g)!==null)continue}else C=_.action;typeof C=="function"?d[h+1]=C:(d.splice(h,3),h-=3),l_(d)}}}function d0(a){this._internalRoot=a}pp.prototype.render=d0.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(r(409));var d=l.current,h=jr();t_(d,h,a,l,null,null)},pp.prototype.unmount=d0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;a.tag===0&&uc(),t_(a.current,2,null,a,null,null),Qh(),l[Ct]=null}};function pp(a){this._internalRoot=a}pp.prototype.unstable_scheduleHydration=function(a){if(a){var l=je();a={blockedOn:null,target:a,priority:l};for(var d=0;d<va.length&&l!==0&&l<va[d].priority;d++);va.splice(d,0,a),d===0&&a_(a)}};var c_=e.version;if(c_!=="19.0.0")throw Error(r(527,c_,"19.0.0"));pe.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=W(l),a=a!==null?ke(a):null,a=a===null?null:a.stateNode,a};var dP={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:z,findFiberByHostInstance:Dn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mp.isDisabled&&mp.supportsFiber)try{Ir=mp.inject(dP),mn=mp}catch{}}return wd.createRoot=function(a,l){if(!s(a))throw Error(r(299));var d=!1,h="",g=TS,x=CS,_=AS,C=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(_=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(C=l.unstable_transitionCallbacks)),l=Wk(a,1,!1,null,null,d,h,g,x,_,C,null),a[Ct]=l.current,Zy(a.nodeType===8?a.parentNode:a),new d0(l)},wd.hydrateRoot=function(a,l,d){if(!s(a))throw Error(r(299));var h=!1,g="",x=TS,_=CS,C=AS,O=null,B=null;return d!=null&&(d.unstable_strictMode===!0&&(h=!0),d.identifierPrefix!==void 0&&(g=d.identifierPrefix),d.onUncaughtError!==void 0&&(x=d.onUncaughtError),d.onCaughtError!==void 0&&(_=d.onCaughtError),d.onRecoverableError!==void 0&&(C=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(O=d.unstable_transitionCallbacks),d.formState!==void 0&&(B=d.formState)),l=Wk(a,1,!0,l,d??null,h,g,x,_,C,O,B),l.context=e_(null),d=l.current,h=jr(),g=oa(h),g.callback=null,la(d,g,h),l.current.lanes=h,re(l,h),Is(l),a[Ct]=l.current,Zy(a),new pp(l)},wd.version="19.0.0",wd}var x_;function wP(){if(x_)return m0.exports;x_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),m0.exports=xP(),m0.exports}var SP=wP(),Sd={},w_;function kP(){if(w_)return Sd;w_=1,Object.defineProperty(Sd,"__esModule",{value:!0}),Sd.parse=o,Sd.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,i=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function o(y,b){const w=new i,S=y.length;if(S<2)return w;const k=(b==null?void 0:b.decode)||p;let E=0;do{const T=y.indexOf("=",E);if(T===-1)break;const N=y.indexOf(";",E),U=N===-1?S:N;if(T>U){E=y.lastIndexOf(";",T-1)+1;continue}const A=c(y,E,T),L=u(y,T,A),I=y.slice(A,L);if(w[I]===void 0){let F=c(y,T+1,U),z=u(y,U,F);const te=k(y.slice(F,z));w[I]=te}E=U+1}while(E<S);return w}function c(y,b,w){do{const S=y.charCodeAt(b);if(S!==32&&S!==9)return b}while(++b<w);return w}function u(y,b,w){for(;b>w;){const S=y.charCodeAt(--b);if(S!==32&&S!==9)return b+1}return w}function f(y,b,w){const S=(w==null?void 0:w.encode)||encodeURIComponent;if(!n.test(y))throw new TypeError(`argument name is invalid: ${y}`);const k=S(b);if(!e.test(k))throw new TypeError(`argument val is invalid: ${b}`);let E=y+"="+k;if(!w)return E;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);E+="; Max-Age="+w.maxAge}if(w.domain){if(!t.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);E+="; Domain="+w.domain}if(w.path){if(!r.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);E+="; Path="+w.path}if(w.expires){if(!m(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);E+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(E+="; HttpOnly"),w.secure&&(E+="; Secure"),w.partitioned&&(E+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return E}function p(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function m(y){return s.call(y)==="[object Date]"}return Sd}kP();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PA=n=>{throw TypeError(n)},_P=(n,e,t)=>e.has(n)||PA("Cannot "+t),b0=(n,e,t)=>(_P(n,e,"read from private field"),t?t.call(n):e.get(n)),EP=(n,e,t)=>e.has(n)?PA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),S_="popstate";function TP(n={}){function e(r,s){let{pathname:i,search:o,hash:c}=r.location;return rf("",{pathname:i,search:o,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Wa(s)}return AP(e,t,null,n)}function dt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function An(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CP(){return Math.random().toString(36).substring(2,10)}function k_(n,e){return{usr:n.state,key:n.key,idx:e}}function rf(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?lo(e):e,state:t,key:e&&e.key||r||CP()}}function Wa({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function lo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function AP(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,c="POP",u=null,f=p();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function p(){return(o.state||{idx:null}).idx}function m(){c="POP";let k=p(),E=k==null?null:k-f;f=k,u&&u({action:c,location:S.location,delta:E})}function y(k,E){c="PUSH";let T=rf(S.location,k,E);f=p()+1;let N=k_(T,f),U=S.createHref(T);try{o.pushState(N,"",U)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;s.location.assign(U)}i&&u&&u({action:c,location:S.location,delta:1})}function b(k,E){c="REPLACE";let T=rf(S.location,k,E);f=p();let N=k_(T,f),U=S.createHref(T);o.replaceState(N,"",U),i&&u&&u({action:c,location:S.location,delta:0})}function w(k){let E=s.location.origin!=="null"?s.location.origin:s.location.href,T=typeof k=="string"?k:Wa(k);return T=T.replace(/ $/,"%20"),dt(E,`No window.location.(origin|href) available to create URL for href: ${T}`),new URL(T,E)}let S={get action(){return c},get location(){return n(s,o)},listen(k){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(S_,m),u=k,()=>{s.removeEventListener(S_,m),u=null}},createHref(k){return e(s,k)},createURL:w,encodeLocation(k){let E=w(k);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:y,replace:b,go(k){return o.go(k)}};return S}var Dd,__=class{constructor(n){if(EP(this,Dd,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(b0(this,Dd).has(n))return b0(this,Dd).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){b0(this,Dd).set(n,e)}};Dd=new WeakMap;var MP=new Set(["lazy","caseSensitive","path","id","index","children"]);function NP(n){return n.index===!0}function Wp(n,e,t=[],r={}){return n.map((s,i)=>{let o=[...t,String(i)],c=typeof s.id=="string"?s.id:o.join("-");if(dt(s.index!==!0||!s.children,"Cannot specify children on an index route"),dt(!r[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),NP(s)){let u={...s,...e(s),id:c};return r[c]=u,u}else{let u={...s,...e(s),id:c,children:void 0};return r[c]=u,s.children&&(u.children=Wp(s.children,e,o,r)),u}})}function Na(n,e,t="/"){return Bp(n,e,t,!1)}function Bp(n,e,t,r){let s=typeof e=="string"?lo(e):e,i=gs(s.pathname||"/",t);if(i==null)return null;let o=LA(n);jP(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let f=$P(i);c=UP(o[u],f,r)}return c}function OP(n,e){let{route:t,pathname:r,params:s}=n;return{id:t.id,pathname:r,params:s,data:e[t.id],handle:t.handle}}function LA(n,e=[],t=[],r=""){let s=(i,o,c)=>{let u={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(dt(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let f=Qs([r,u.relativePath]),p=t.concat(u);i.children&&i.children.length>0&&(dt(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),LA(i.children,e,p,f)),!(i.path==null&&!i.index)&&e.push({path:f,score:BP(f,i.index),routesMeta:p})};return n.forEach((i,o)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))s(i,o);else for(let u of zA(i.path))s(i,o,u)}),e}function zA(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),i=t.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=zA(r.join("/")),c=[];return c.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&c.push(...o),c.map(u=>n.startsWith("/")&&u===""?"/":u)}function jP(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:IP(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var RP=/^:[\w-]+$/,DP=3,PP=2,LP=1,zP=10,VP=-2,E_=n=>n==="*";function BP(n,e){let t=n.split("/"),r=t.length;return t.some(E_)&&(r+=VP),e&&(r+=PP),t.filter(s=>!E_(s)).reduce((s,i)=>s+(RP.test(i)?DP:i===""?LP:zP),r)}function IP(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function UP(n,e,t=!1){let{routesMeta:r}=n,s={},i="/",o=[];for(let c=0;c<r.length;++c){let u=r[c],f=c===r.length-1,p=i==="/"?e:e.slice(i.length)||"/",m=em({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},p),y=u.route;if(!m&&f&&t&&!r[r.length-1].route.index&&(m=em({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:Qs([i,m.pathname]),pathnameBase:KP(Qs([i,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(i=Qs([i,m.pathnameBase]))}return o}function em(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=FP(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:m},y)=>{if(p==="*"){let w=c[y]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const b=c[y];return m&&!b?f[p]=void 0:f[p]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:o,pattern:n}}function FP(n,e=!1,t=!0){An(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function $P(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return An(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function gs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function qP(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?lo(n):n;return{pathname:t?t.startsWith("/")?t:HP(t,e):e,search:GP(r),hash:ZP(s)}}function HP(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function x0(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function VA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Vm(n){let e=VA(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Bm(n,e,t,r=!1){let s;typeof n=="string"?s=lo(n):(s={...n},dt(!s.pathname||!s.pathname.includes("?"),x0("?","pathname","search",s)),dt(!s.pathname||!s.pathname.includes("#"),x0("#","pathname","hash",s)),dt(!s.search||!s.search.includes("#"),x0("#","search","hash",s)));let i=n===""||s.pathname==="",o=i?"/":s.pathname,c;if(o==null)c=t;else{let m=e.length-1;if(!r&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),m-=1;s.pathname=y.join("/")}c=m>=0?e[m]:"/"}let u=qP(s,c),f=o&&o!=="/"&&o.endsWith("/"),p=(i||o===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(f||p)&&(u.pathname+="/"),u}var Qs=n=>n.join("/").replace(/\/\/+/g,"/"),KP=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),GP=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ZP=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,tm=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function sf(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var BA=["POST","PUT","PATCH","DELETE"],YP=new Set(BA),QP=["GET",...BA],JP=new Set(QP),XP=new Set([301,302,303,307,308]),WP=new Set([307,308]),w0={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},eL={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},kd={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Wb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tL=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),IA="remix-router-transitions",UA=Symbol("ResetLoaderData");function nL(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";dt(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.mapRouteProperties||tL,s={},i=Wp(n.routes,r,void 0,s),o,c=n.basename||"/",u=n.dataStrategy||oL,f={unstable_middleware:!1,...n.future},p=null,m=new Set,y=null,b=null,w=null,S=n.hydrationData!=null,k=Na(i,n.history.location,c),E=!1,T=null;if(k==null&&!n.patchRoutesOnNavigation){let P=ls(404,{pathname:n.history.location.pathname}),{matches:q,route:Z}=z_(i);k=q,T={[Z.id]:P}}k&&!n.hydrationData&&Ur(k,i,n.history.location.pathname).active&&(k=null);let N;if(k)if(k.some(P=>P.route.lazy))N=!1;else if(!k.some(P=>P.route.loader))N=!0;else{let P=n.hydrationData?n.hydrationData.loaderData:null,q=n.hydrationData?n.hydrationData.errors:null;if(q){let Z=k.findIndex(re=>q[re.route.id]!==void 0);N=k.slice(0,Z+1).every(re=>!_v(re.route,P,q))}else N=k.every(Z=>!_v(Z.route,P,q))}else{N=!1,k=[];let P=Ur(null,i,n.history.location.pathname);P.active&&P.matches&&(E=!0,k=P.matches)}let U,A={historyAction:n.history.action,location:n.history.location,matches:k,initialized:N,navigation:w0,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||T,fetchers:new Map,blockers:new Map},L="POP",I=!1,F,z=!1,te=new Map,Ce=null,Oe=!1,De=!1,st=new Set,Fe=new Map,ie=0,ue=-1,fe=new Map,Ge=new Set,D=new Map,W=new Map,ke=new Set,Te=new Map,pe,Ze=null;function Je(){if(p=n.history.listen(({action:P,location:q,delta:Z})=>{if(pe){pe(),pe=void 0;return}An(Te.size===0||Z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let re=wn({currentLocation:A.location,nextLocation:q,historyAction:P});if(re&&Z!=null){let he=new Promise(Ve=>{pe=Ve});n.history.go(Z*-1),Kn(re,{state:"blocked",location:q,proceed(){Kn(re,{state:"proceeding",proceed:void 0,reset:void 0,location:q}),he.then(()=>n.history.go(Z))},reset(){let Ve=new Map(A.blockers);Ve.set(re,kd),nt({blockers:Ve})}});return}return xn(P,q)}),t){bL(e,te);let P=()=>xL(e,te);e.addEventListener("pagehide",P),Ce=()=>e.removeEventListener("pagehide",P)}return A.initialized||xn("POP",A.location,{initialHydration:!0}),U}function ln(){p&&p(),Ce&&Ce(),m.clear(),F&&F.abort(),A.fetchers.forEach((P,q)=>me(q)),A.blockers.forEach((P,q)=>Ll(q))}function pt(P){return m.add(P),()=>m.delete(P)}function nt(P,q={}){A={...A,...P};let Z=[],re=[];A.fetchers.forEach((he,Ve)=>{he.state==="idle"&&(ke.has(Ve)?Z.push(Ve):re.push(Ve))}),ke.forEach(he=>{!A.fetchers.has(he)&&!Fe.has(he)&&Z.push(he)}),[...m].forEach(he=>he(A,{deletedFetchers:Z,viewTransitionOpts:q.viewTransitionOpts,flushSync:q.flushSync===!0})),Z.forEach(he=>me(he)),re.forEach(he=>A.fetchers.delete(he))}function mt(P,q,{flushSync:Z}={}){var be,xe;let re=A.actionData!=null&&A.navigation.formMethod!=null&&Es(A.navigation.formMethod)&&A.navigation.state==="loading"&&((be=P.state)==null?void 0:be._isRedirect)!==!0,he;q.actionData?Object.keys(q.actionData).length>0?he=q.actionData:he=null:re?he=A.actionData:he=null;let Ve=q.loaderData?P_(A.loaderData,q.loaderData,q.matches||[],q.errors):A.loaderData,Le=A.blockers;Le.size>0&&(Le=new Map(Le),Le.forEach((we,Ke)=>Le.set(Ke,kd)));let Me=I===!0||A.navigation.formMethod!=null&&Es(A.navigation.formMethod)&&((xe=P.state)==null?void 0:xe._isRedirect)!==!0;o&&(i=o,o=void 0),Oe||L==="POP"||(L==="PUSH"?n.history.push(P,P.state):L==="REPLACE"&&n.history.replace(P,P.state));let je;if(L==="POP"){let we=te.get(A.location.pathname);we&&we.has(P.pathname)?je={currentLocation:A.location,nextLocation:P}:te.has(P.pathname)&&(je={currentLocation:P,nextLocation:A.location})}else if(z){let we=te.get(A.location.pathname);we?we.add(P.pathname):(we=new Set([P.pathname]),te.set(A.location.pathname,we)),je={currentLocation:A.location,nextLocation:P}}nt({...q,actionData:he,loaderData:Ve,historyAction:L,location:P,initialized:!0,navigation:w0,revalidation:"idle",restoreScrollPosition:yo(P,q.matches||A.matches),preventScrollReset:Me,blockers:Le},{viewTransitionOpts:je,flushSync:Z===!0}),L="POP",I=!1,z=!1,Oe=!1,De=!1,Ze==null||Ze.resolve(),Ze=null}async function Rn(P,q){if(typeof P=="number"){n.history.go(P);return}let Z=kv(A.location,A.matches,c,P,q==null?void 0:q.fromRouteId,q==null?void 0:q.relative),{path:re,submission:he,error:Ve}=T_(!1,Z,q),Le=A.location,Me=rf(A.location,re,q&&q.state);Me={...Me,...n.history.encodeLocation(Me)};let je=q&&q.replace!=null?q.replace:void 0,be="PUSH";je===!0?be="REPLACE":je===!1||he!=null&&Es(he.formMethod)&&he.formAction===A.location.pathname+A.location.search&&(be="REPLACE");let xe=q&&"preventScrollReset"in q?q.preventScrollReset===!0:void 0,we=(q&&q.flushSync)===!0,Ke=wn({currentLocation:Le,nextLocation:Me,historyAction:be});if(Ke){Kn(Ke,{state:"blocked",location:Me,proceed(){Kn(Ke,{state:"proceeding",proceed:void 0,reset:void 0,location:Me}),Rn(P,q)},reset(){let Ct=new Map(A.blockers);Ct.set(Ke,kd),nt({blockers:Ct})}});return}await xn(be,Me,{submission:he,pendingError:Ve,preventScrollReset:xe,replace:q&&q.replace,enableViewTransition:q&&q.viewTransition,flushSync:we})}function Ps(){Ze||(Ze=wL()),Y(),nt({revalidation:"loading"});let P=Ze.promise;return A.navigation.state==="submitting"?P:A.navigation.state==="idle"?(xn(A.historyAction,A.location,{startUninterruptedRevalidation:!0}),P):(xn(L||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation,enableViewTransition:z===!0}),P)}async function xn(P,q,Z){F&&F.abort(),F=null,L=P,Oe=(Z&&Z.startUninterruptedRevalidation)===!0,zl(A.location,A.matches),I=(Z&&Z.preventScrollReset)===!0,z=(Z&&Z.enableViewTransition)===!0;let re=o||i,he=Z&&Z.overrideNavigation,Ve=Z!=null&&Z.initialHydration&&A.matches&&A.matches.length>0&&!E?A.matches:Na(re,q,c),Le=(Z&&Z.flushSync)===!0;if(Ve&&A.initialized&&!De&&pL(A.location,q)&&!(Z&&Z.submission&&Es(Z.submission.formMethod))){mt(q,{matches:Ve},{flushSync:Le});return}let Me=Ur(Ve,re,q.pathname);if(Me.active&&Me.matches&&(Ve=Me.matches),!Ve){let{error:Gt,notFoundMatches:zt,route:Zt}=Xi(q.pathname);mt(q,{matches:zt,loaderData:{},errors:{[Zt.id]:Gt}},{flushSync:Le});return}F=new AbortController;let je=gc(n.history,q,F.signal,Z&&Z.submission),be=new __(n.unstable_getContext?await n.unstable_getContext():void 0),xe;if(Z&&Z.pendingError)xe=[Ho(Ve).route.id,{type:"error",error:Z.pendingError}];else if(Z&&Z.submission&&Es(Z.submission.formMethod)){let Gt=await oi(je,q,Z.submission,Ve,be,Me.active,{replace:Z.replace,flushSync:Le});if(Gt.shortCircuited)return;if(Gt.pendingActionResult){let[zt,Zt]=Gt.pendingActionResult;if(Dr(Zt)&&sf(Zt.error)&&Zt.error.status===404){F=null,mt(q,{matches:Gt.matches,loaderData:{},errors:{[zt]:Zt.error}});return}}Ve=Gt.matches||Ve,xe=Gt.pendingActionResult,he=S0(q,Z.submission),Le=!1,Me.active=!1,je=gc(n.history,je.url,je.signal)}let{shortCircuited:we,matches:Ke,loaderData:Ct,errors:cn}=await Yi(je,q,Ve,be,Me.active,he,Z&&Z.submission,Z&&Z.fetcherSubmission,Z&&Z.replace,Z&&Z.initialHydration===!0,Le,xe);we||(F=null,mt(q,{matches:Ke||Ve,...L_(xe),loaderData:Ct,errors:cn}))}async function oi(P,q,Z,re,he,Ve,Le={}){Y();let Me=yL(q,Z);if(nt({navigation:Me},{flushSync:Le.flushSync===!0}),Ve){let xe=await li(re,q.pathname,P.signal);if(xe.type==="aborted")return{shortCircuited:!0};if(xe.type==="error"){let we=Ho(xe.partialMatches).route.id;return{matches:xe.partialMatches,pendingActionResult:[we,{type:"error",error:xe.error}]}}else if(xe.matches)re=xe.matches;else{let{notFoundMatches:we,error:Ke,route:Ct}=Xi(q.pathname);return{matches:we,pendingActionResult:[Ct.id,{type:"error",error:Ke}]}}}let je,be=Pd(re,q);if(!be.route.action&&!be.route.lazy)je={type:"error",error:ls(405,{method:P.method,pathname:q.pathname,routeId:be.route.id})};else{let xe=await R("action",P,[be],re,he,null);if(je=xe[be.route.id],!je){for(let we of re)if(xe[we.route.id]){je=xe[we.route.id];break}}if(P.signal.aborted)return{shortCircuited:!0}}if(Yo(je)){let xe;return Le&&Le.replace!=null?xe=Le.replace:xe=j_(je.response.headers.get("Location"),new URL(P.url),c)===A.location.pathname+A.location.search,await mr(P,je,!0,{submission:Z,replace:xe}),{shortCircuited:!0}}if(Dr(je)){let xe=Ho(re,be.route.id);return(Le&&Le.replace)!==!0&&(L="PUSH"),{matches:re,pendingActionResult:[xe.route.id,je]}}return{matches:re,pendingActionResult:[be.route.id,je]}}async function Yi(P,q,Z,re,he,Ve,Le,Me,je,be,xe,we){let Ke=Ve||S0(q,Le),Ct=Le||Me||B_(Ke),cn=!Oe&&!be;if(he){if(cn){let Bt=Br(we);nt({navigation:Ke,...Bt!==void 0?{actionData:Bt}:{}},{flushSync:xe})}let gt=await li(Z,q.pathname,P.signal);if(gt.type==="aborted")return{shortCircuited:!0};if(gt.type==="error"){let Bt=Ho(gt.partialMatches).route.id;return{matches:gt.partialMatches,loaderData:{},errors:{[Bt]:gt.error}}}else if(gt.matches)Z=gt.matches;else{let{error:Bt,notFoundMatches:gr,route:wo}=Xi(q.pathname);return{matches:gr,loaderData:{},errors:{[wo.id]:Bt}}}}let Gt=o||i,[zt,Zt]=A_(n.history,A,Z,Ct,q,be===!0,De,st,ke,D,Ge,Gt,c,we);if(ue=++ie,zt.length===0&&Zt.length===0){let gt=Pl();return mt(q,{matches:Z,loaderData:{},errors:we&&Dr(we[1])?{[we[0]]:we[1].error}:null,...L_(we),...gt?{fetchers:new Map(A.fetchers)}:{}},{flushSync:xe}),{shortCircuited:!0}}if(cn){let gt={};if(!he){gt.navigation=Ke;let Bt=Br(we);Bt!==void 0&&(gt.actionData=Bt)}Zt.length>0&&(gt.fetchers=Qi(Zt)),nt(gt,{flushSync:xe})}Zt.forEach(gt=>{xt(gt.key),gt.controller&&Fe.set(gt.key,gt.controller)});let Fr=()=>Zt.forEach(gt=>xt(gt.key));F&&F.signal.addEventListener("abort",Fr);let{loaderResults:ci,fetcherResults:Dn}=await K(Z,zt,Zt,P,re);if(P.signal.aborted)return{shortCircuited:!0};F&&F.signal.removeEventListener("abort",Fr),Zt.forEach(gt=>Fe.delete(gt.key));let Pn=yp(ci);if(Pn)return await mr(P,Pn.result,!0,{replace:je}),{shortCircuited:!0};if(Pn=yp(Dn),Pn)return Ge.add(Pn.key),await mr(P,Pn.result,!0,{replace:je}),{shortCircuited:!0};let{loaderData:ui,errors:$r}=D_(A,Z,ci,we,Zt,Dn);be&&A.errors&&($r={...A.errors,...$r});let jt=Pl(),bo=Ir(ue),xo=jt||bo||Zt.length>0;return{matches:Z,loaderData:ui,errors:$r,...xo?{fetchers:new Map(A.fetchers)}:{}}}function Br(P){if(P&&!Dr(P[1]))return{[P[0]]:P[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function Qi(P){return P.forEach(q=>{let Z=A.fetchers.get(q.key),re=_d(void 0,Z?Z.data:void 0);A.fetchers.set(q.key,re)}),new Map(A.fetchers)}async function Ji(P,q,Z,re){xt(P);let he=(re&&re.flushSync)===!0,Ve=o||i,Le=kv(A.location,A.matches,c,Z,q,re==null?void 0:re.relative),Me=Na(Ve,Le,c),je=Ur(Me,Ve,Le);if(je.active&&je.matches&&(Me=je.matches),!Me){oe(P,q,ls(404,{pathname:Le}),{flushSync:he});return}let{path:be,submission:xe,error:we}=T_(!0,Le,re);if(we){oe(P,q,we,{flushSync:he});return}let Ke=Pd(Me,be),Ct=new __(n.unstable_getContext?await n.unstable_getContext():void 0),cn=(re&&re.preventScrollReset)===!0;if(xe&&Es(xe.formMethod)){await go(P,q,be,Ke,Me,Ct,je.active,he,cn,xe);return}D.set(P,{routeId:q,path:be}),await Dl(P,q,be,Ke,Me,Ct,je.active,he,cn,xe)}async function go(P,q,Z,re,he,Ve,Le,Me,je,be){Y(),D.delete(P);function xe(It){if(!It.route.action&&!It.route.lazy){let di=ls(405,{method:be.formMethod,pathname:Z,routeId:q});return oe(P,q,di,{flushSync:Me}),!0}return!1}if(!Le&&xe(re))return;let we=A.fetchers.get(P);ce(P,vL(be,we),{flushSync:Me});let Ke=new AbortController,Ct=gc(n.history,Z,Ke.signal,be);if(Le){let It=await li(he,Z,Ct.signal,P);if(It.type==="aborted")return;if(It.type==="error"){oe(P,q,It.error,{flushSync:Me});return}else if(It.matches){if(he=It.matches,re=Pd(he,Z),xe(re))return}else{oe(P,q,ls(404,{pathname:Z}),{flushSync:Me});return}}Fe.set(P,Ke);let cn=ie,zt=(await R("action",Ct,[re],he,Ve,P))[re.route.id];if(Ct.signal.aborted){Fe.get(P)===Ke&&Fe.delete(P);return}if(ke.has(P)){if(Yo(zt)||Dr(zt)){ce(P,wa(void 0));return}}else{if(Yo(zt))if(Fe.delete(P),ue>cn){ce(P,wa(void 0));return}else return Ge.add(P),ce(P,_d(be)),mr(Ct,zt,!1,{fetcherSubmission:be,preventScrollReset:je});if(Dr(zt)){oe(P,q,zt.error);return}}let Zt=A.navigation.location||A.location,Fr=gc(n.history,Zt,Ke.signal),ci=o||i,Dn=A.navigation.state!=="idle"?Na(ci,A.navigation.location,c):A.matches;dt(Dn,"Didn't find any matches after fetcher action");let Pn=++ie;fe.set(P,Pn);let ui=_d(be,zt.data);A.fetchers.set(P,ui);let[$r,jt]=A_(n.history,A,Dn,be,Zt,!1,De,st,ke,D,Ge,ci,c,[re.route.id,zt]);jt.filter(It=>It.key!==P).forEach(It=>{let di=It.key,ch=A.fetchers.get(di),Vl=_d(void 0,ch?ch.data:void 0);A.fetchers.set(di,Vl),xt(di),It.controller&&Fe.set(di,It.controller)}),nt({fetchers:new Map(A.fetchers)});let bo=()=>jt.forEach(It=>xt(It.key));Ke.signal.addEventListener("abort",bo);let{loaderResults:xo,fetcherResults:gt}=await K(Dn,$r,jt,Fr,Ve);if(Ke.signal.aborted)return;Ke.signal.removeEventListener("abort",bo),fe.delete(P),Fe.delete(P),jt.forEach(It=>Fe.delete(It.key));let Bt=yp(xo);if(Bt)return mr(Fr,Bt.result,!1,{preventScrollReset:je});if(Bt=yp(gt),Bt)return Ge.add(Bt.key),mr(Fr,Bt.result,!1,{preventScrollReset:je});let{loaderData:gr,errors:wo}=D_(A,Dn,xo,void 0,jt,gt);if(A.fetchers.has(P)){let It=wa(zt.data);A.fetchers.set(P,It)}Ir(Pn),A.navigation.state==="loading"&&Pn>ue?(dt(L,"Expected pending action"),F&&F.abort(),mt(A.navigation.location,{matches:Dn,loaderData:gr,errors:wo,fetchers:new Map(A.fetchers)})):(nt({errors:wo,loaderData:P_(A.loaderData,gr,Dn,wo),fetchers:new Map(A.fetchers)}),De=!1)}async function Dl(P,q,Z,re,he,Ve,Le,Me,je,be){let xe=A.fetchers.get(P);ce(P,_d(be,xe?xe.data:void 0),{flushSync:Me});let we=new AbortController,Ke=gc(n.history,Z,we.signal);if(Le){let zt=await li(he,Z,Ke.signal,P);if(zt.type==="aborted")return;if(zt.type==="error"){oe(P,q,zt.error,{flushSync:Me});return}else if(zt.matches)he=zt.matches,re=Pd(he,Z);else{oe(P,q,ls(404,{pathname:Z}),{flushSync:Me});return}}Fe.set(P,we);let Ct=ie,Gt=(await R("loader",Ke,[re],he,Ve,P))[re.route.id];if(Fe.get(P)===we&&Fe.delete(P),!Ke.signal.aborted){if(ke.has(P)){ce(P,wa(void 0));return}if(Yo(Gt))if(ue>Ct){ce(P,wa(void 0));return}else{Ge.add(P),await mr(Ke,Gt,!1,{preventScrollReset:je});return}if(Dr(Gt)){oe(P,q,Gt.error);return}ce(P,wa(Gt.data))}}async function mr(P,q,Z,{submission:re,fetcherSubmission:he,preventScrollReset:Ve,replace:Le}={}){q.response.headers.has("X-Remix-Revalidate")&&(De=!0);let Me=q.response.headers.get("Location");dt(Me,"Expected a Location header on the redirect Response"),Me=j_(Me,new URL(P.url),c);let je=rf(A.location,Me,{_isRedirect:!0});if(t){let cn=!1;if(q.response.headers.has("X-Remix-Reload-Document"))cn=!0;else if(Wb.test(Me)){const Gt=n.history.createURL(Me);cn=Gt.origin!==e.location.origin||gs(Gt.pathname,c)==null}if(cn){Le?e.location.replace(Me):e.location.assign(Me);return}}F=null;let be=Le===!0||q.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:xe,formAction:we,formEncType:Ke}=A.navigation;!re&&!he&&xe&&we&&Ke&&(re=B_(A.navigation));let Ct=re||he;if(WP.has(q.response.status)&&Ct&&Es(Ct.formMethod))await xn(be,je,{submission:{...Ct,formAction:Me},preventScrollReset:Ve||I,enableViewTransition:Z?z:void 0});else{let cn=S0(je,re);await xn(be,je,{overrideNavigation:cn,fetcherSubmission:he,preventScrollReset:Ve||I,enableViewTransition:Z?z:void 0})}}async function R(P,q,Z,re,he,Ve){let Le,Me={};try{Le=await cL(u,P,q,Z,re,Ve,s,r,he,f.unstable_middleware)}catch(je){return Z.forEach(be=>{Me[be.route.id]={type:"error",error:je}}),Me}for(let[je,be]of Object.entries(Le))if(mL(be)){let xe=be.result;Me[je]={type:"redirect",response:fL(xe,q,je,re,c)}}else Me[je]=await dL(be);return Me}async function K(P,q,Z,re,he){let Ve=R("loader",re,q,P,he,null),Le=Promise.all(Z.map(async be=>{if(be.matches&&be.match&&be.controller){let we=(await R("loader",gc(n.history,be.path,be.controller.signal),[be.match],be.matches,he,be.key))[be.match.route.id];return{[be.key]:we}}else return Promise.resolve({[be.key]:{type:"error",error:ls(404,{pathname:be.path})}})})),Me=await Ve,je=(await Le).reduce((be,xe)=>Object.assign(be,xe),{});return{loaderResults:Me,fetcherResults:je}}function Y(){De=!0,D.forEach((P,q)=>{Fe.has(q)&&st.add(q),xt(q)})}function ce(P,q,Z={}){A.fetchers.set(P,q),nt({fetchers:new Map(A.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function oe(P,q,Z,re={}){let he=Ho(A.matches,q);me(P),nt({errors:{[he.route.id]:Z},fetchers:new Map(A.fetchers)},{flushSync:(re&&re.flushSync)===!0})}function ae(P){return W.set(P,(W.get(P)||0)+1),ke.has(P)&&ke.delete(P),A.fetchers.get(P)||eL}function me(P){let q=A.fetchers.get(P);Fe.has(P)&&!(q&&q.state==="loading"&&fe.has(P))&&xt(P),D.delete(P),fe.delete(P),Ge.delete(P),ke.delete(P),st.delete(P),A.fetchers.delete(P)}function ct(P){let q=(W.get(P)||0)-1;q<=0?(W.delete(P),ke.add(P)):W.set(P,q),nt({fetchers:new Map(A.fetchers)})}function xt(P){let q=Fe.get(P);q&&(q.abort(),Fe.delete(P))}function rn(P){for(let q of P){let Z=ae(q),re=wa(Z.data);A.fetchers.set(q,re)}}function Pl(){let P=[],q=!1;for(let Z of Ge){let re=A.fetchers.get(Z);dt(re,`Expected fetcher: ${Z}`),re.state==="loading"&&(Ge.delete(Z),P.push(Z),q=!0)}return rn(P),q}function Ir(P){let q=[];for(let[Z,re]of fe)if(re<P){let he=A.fetchers.get(Z);dt(he,`Expected fetcher: ${Z}`),he.state==="loading"&&(xt(Z),fe.delete(Z),q.push(Z))}return rn(q),q.length>0}function mn(P,q){let Z=A.blockers.get(P)||kd;return Te.get(P)!==q&&Te.set(P,q),Z}function Ll(P){A.blockers.delete(P),Te.delete(P)}function Kn(P,q){let Z=A.blockers.get(P)||kd;dt(Z.state==="unblocked"&&q.state==="blocked"||Z.state==="blocked"&&q.state==="blocked"||Z.state==="blocked"&&q.state==="proceeding"||Z.state==="blocked"&&q.state==="unblocked"||Z.state==="proceeding"&&q.state==="unblocked",`Invalid blocker state transition: ${Z.state} -> ${q.state}`);let re=new Map(A.blockers);re.set(P,q),nt({blockers:re})}function wn({currentLocation:P,nextLocation:q,historyAction:Z}){if(Te.size===0)return;Te.size>1&&An(!1,"A router only supports one blocker at a time");let re=Array.from(Te.entries()),[he,Ve]=re[re.length-1],Le=A.blockers.get(he);if(!(Le&&Le.state==="proceeding")&&Ve({currentLocation:P,nextLocation:q,historyAction:Z}))return he}function Xi(P){let q=ls(404,{pathname:P}),Z=o||i,{matches:re,route:he}=z_(Z);return{notFoundMatches:re,route:he,error:q}}function lg(P,q,Z){if(y=P,w=q,b=Z||null,!S&&A.navigation===w0){S=!0;let re=yo(A.location,A.matches);re!=null&&nt({restoreScrollPosition:re})}return()=>{y=null,w=null,b=null}}function lh(P,q){return b&&b(P,q.map(re=>OP(re,A.loaderData)))||P.key}function zl(P,q){if(y&&w){let Z=lh(P,q);y[Z]=w()}}function yo(P,q){if(y){let Z=lh(P,q),re=y[Z];if(typeof re=="number")return re}return null}function Ur(P,q,Z){if(n.patchRoutesOnNavigation)if(P){if(Object.keys(P[0].params).length>0)return{active:!0,matches:Bp(q,Z,c,!0)}}else return{active:!0,matches:Bp(q,Z,c,!0)||[]};return{active:!1,matches:null}}async function li(P,q,Z,re){if(!n.patchRoutesOnNavigation)return{type:"success",matches:P};let he=P;for(;;){let Ve=o==null,Le=o||i,Me=s;try{await n.patchRoutesOnNavigation({signal:Z,path:q,matches:he,fetcherKey:re,patch:(xe,we)=>{Z.aborted||N_(xe,we,Le,Me,r)}})}catch(xe){return{type:"error",error:xe,partialMatches:he}}finally{Ve&&!Z.aborted&&(i=[...i])}if(Z.aborted)return{type:"aborted"};let je=Na(Le,q,c);if(je)return{type:"success",matches:je};let be=Bp(Le,q,c,!0);if(!be||he.length===be.length&&he.every((xe,we)=>xe.route.id===be[we].route.id))return{type:"success",matches:null};he=be}}function vo(P){s={},o=Wp(P,r,void 0,s)}function cg(P,q){let Z=o==null;N_(P,q,o||i,s,r),Z&&(i=[...i],nt({}))}return U={get basename(){return c},get future(){return f},get state(){return A},get routes(){return i},get window(){return e},initialize:Je,subscribe:pt,enableScrollRestoration:lg,navigate:Rn,fetch:Ji,revalidate:Ps,createHref:P=>n.history.createHref(P),encodeLocation:P=>n.history.encodeLocation(P),getFetcher:ae,deleteFetcher:ct,dispose:ln,getBlocker:mn,deleteBlocker:Ll,patchRoutes:cg,_internalFetchControllers:Fe,_internalSetRoutes:vo},U}function rL(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function kv(n,e,t,r,s,i){let o,c;if(s){o=[];for(let f of e)if(o.push(f),f.route.id===s){c=f;break}}else o=e,c=e[e.length-1];let u=Bm(r||".",Vm(o),gs(n.pathname,t)||n.pathname,i==="path");if(r==null&&(u.search=n.search,u.hash=n.hash),(r==null||r===""||r===".")&&c){let f=ex(u.search);if(c.route.index&&!f)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&f){let p=new URLSearchParams(u.search),m=p.getAll("index");p.delete("index"),m.filter(b=>b).forEach(b=>p.append("index",b));let y=p.toString();u.search=y?`?${y}`:""}}return t!=="/"&&(u.pathname=u.pathname==="/"?t:Qs([t,u.pathname])),Wa(u)}function T_(n,e,t){if(!t||!rL(t))return{path:e};if(t.formMethod&&!gL(t.formMethod))return{path:e,error:ls(405,{method:t.formMethod})};let r=()=>({path:e,error:ls(400,{type:"invalid-body"})}),i=(t.formMethod||"get").toUpperCase(),o=qA(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Es(i))return r();let m=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((y,[b,w])=>`${y}${b}=${w}
`,""):String(t.body);return{path:e,submission:{formMethod:i,formAction:o,formEncType:t.formEncType,formData:void 0,json:void 0,text:m}}}else if(t.formEncType==="application/json"){if(!Es(i))return r();try{let m=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:i,formAction:o,formEncType:t.formEncType,formData:void 0,json:m,text:void 0}}}catch{return r()}}}dt(typeof FormData=="function","FormData is not available in this environment");let c,u;if(t.formData)c=Ev(t.formData),u=t.formData;else if(t.body instanceof FormData)c=Ev(t.body),u=t.body;else if(t.body instanceof URLSearchParams)c=t.body,u=R_(c);else if(t.body==null)c=new URLSearchParams,u=new FormData;else try{c=new URLSearchParams(t.body),u=R_(c)}catch{return r()}let f={formMethod:i,formAction:o,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Es(f.formMethod))return{path:e,submission:f};let p=lo(e);return n&&p.search&&ex(p.search)&&c.append("index",""),p.search=`?${c}`,{path:Wa(p),submission:f}}function C_(n,e,t=!1){let r=n.findIndex(s=>s.route.id===e);return r>=0?n.slice(0,t?r+1:r):n}function A_(n,e,t,r,s,i,o,c,u,f,p,m,y,b){let w=b?Dr(b[1])?b[1].error:b[1].data:void 0,S=n.createURL(e.location),k=n.createURL(s),E=t;i&&e.errors?E=C_(t,Object.keys(e.errors)[0],!0):b&&Dr(b[1])&&(E=C_(t,b[0]));let T=b?b[1].statusCode:void 0,N=T&&T>=400,U=E.filter((L,I)=>{let{route:F}=L;if(F.lazy)return!0;if(F.loader==null)return!1;if(i)return _v(F,e.loaderData,e.errors);if(sL(e.loaderData,e.matches[I],L))return!0;let z=e.matches[I],te=L;return M_(L,{currentUrl:S,currentParams:z.params,nextUrl:k,nextParams:te.params,...r,actionResult:w,actionStatus:T,defaultShouldRevalidate:N?!1:o||S.pathname+S.search===k.pathname+k.search||S.search!==k.search||iL(z,te)})}),A=[];return f.forEach((L,I)=>{if(i||!t.some(Oe=>Oe.route.id===L.routeId)||u.has(I))return;let F=Na(m,L.path,y);if(!F){A.push({key:I,routeId:L.routeId,path:L.path,matches:null,match:null,controller:null});return}let z=e.fetchers.get(I),te=Pd(F,L.path),Ce=!1;p.has(I)?Ce=!1:c.has(I)?(c.delete(I),Ce=!0):z&&z.state!=="idle"&&z.data===void 0?Ce=o:Ce=M_(te,{currentUrl:S,currentParams:e.matches[e.matches.length-1].params,nextUrl:k,nextParams:t[t.length-1].params,...r,actionResult:w,actionStatus:T,defaultShouldRevalidate:N?!1:o}),Ce&&A.push({key:I,routeId:L.routeId,path:L.path,matches:F,match:te,controller:new AbortController})}),[U,A]}function _v(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,s=t!=null&&t[n.id]!==void 0;return!r&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!s}function sL(n,e,t){let r=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return r||s}function iL(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function M_(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function N_(n,e,t,r,s){let i;if(n){let u=r[n];dt(u,`No route found to patch children into: routeId = ${n}`),u.children||(u.children=[]),i=u.children}else i=t;let o=e.filter(u=>!i.some(f=>FA(u,f))),c=Wp(o,s,[n||"_","patch",String((i==null?void 0:i.length)||"0")],r);i.push(...c)}function FA(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var s;return(s=e.children)==null?void 0:s.some(i=>FA(t,i))}):!1}async function aL(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let s=t[n.id];dt(s,"No route found in manifest");let i={};for(let o in r){let u=s[o]!==void 0&&o!=="hasErrorBoundary";An(!u,`Route "${s.id}" has a static property "${o}" defined but its lazy function is also returning a value for this property. The lazy route property "${o}" will be ignored.`),!u&&!MP.has(o)&&(i[o]=r[o])}Object.assign(s,i),Object.assign(s,{...e(s),lazy:void 0})}async function O_(n){let e=n.matches.filter(s=>s.shouldLoad),t={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,i)=>{t[e[i].route.id]=s}),t}async function oL(n){return n.matches.some(e=>e.route.unstable_middleware)?lL(n,!1,()=>O_(n),(e,t)=>({[t]:{type:"error",result:e}})):O_(n)}async function lL(n,e,t,r){let{matches:s,request:i,params:o,context:c}=n,u={handlerResult:void 0};try{let f=s.flatMap(m=>m.route.unstable_middleware?m.route.unstable_middleware.map(y=>[m.route.id,y]):[]),p=await $A({request:i,params:o,context:c},f,e,u,t);return e?p:u.handlerResult}catch(f){if(!u.middlewareError)throw f;let p=await r(u.middlewareError.error,u.middlewareError.routeId);return u.handlerResult?Object.assign(u.handlerResult,p):p}}async function $A(n,e,t,r,s,i=0){let{request:o}=n;if(o.signal.aborted)throw o.signal.reason?o.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${o.method} ${o.url}`);let c=e[i];if(!c)return r.handlerResult=await s(),r.handlerResult;let[u,f]=c,p=!1,m,y=async()=>{if(p)throw new Error("You may only call `next()` once per middleware");p=!0,await $A(n,e,t,r,s,i+1)};try{let b=await f({request:n.request,params:n.params,context:n.context},y);return p?b===void 0?m:b:y()}catch(b){throw r.middlewareError?r.middlewareError.error!==b&&(r.middlewareError={routeId:u,error:b}):r.middlewareError={routeId:u,error:b},b}}async function cL(n,e,t,r,s,i,o,c,u,f){let p=s.map(b=>b.route.lazy?aL(b.route,c,o):void 0);f&&await Promise.all(p);let m=s.map((b,w)=>{let S=p[w],k=r.some(T=>T.route.id===b.route.id);return{...b,shouldLoad:k,resolve:async T=>(T&&t.method==="GET"&&(b.route.lazy||b.route.loader)&&(k=!0),k?uL(e,t,b,S,T,u):Promise.resolve({type:"data",result:void 0}))}}),y=await n({matches:m,request:t,params:s[0].params,fetcherKey:i,context:u});try{await Promise.all(p)}catch{}return y}async function uL(n,e,t,r,s,i){let o,c,u=f=>{let p,m=new Promise((w,S)=>p=S);c=()=>p(),e.signal.addEventListener("abort",c);let y=w=>typeof f!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):f({request:e,params:t.params,context:i},...w!==void 0?[w]:[]),b=(async()=>{try{return{type:"data",result:await(s?s(S=>y(S)):y())}}catch(w){return{type:"error",result:w}}})();return Promise.race([b,m])};try{let f=t.route[n];if(r)if(f){let p,[m]=await Promise.all([u(f).catch(y=>{p=y}),r]);if(p!==void 0)throw p;o=m}else if(await r,f=t.route[n],f)o=await u(f);else if(n==="action"){let p=new URL(e.url),m=p.pathname+p.search;throw ls(405,{method:e.method,pathname:m,routeId:t.route.id})}else return{type:"data",result:void 0};else if(f)o=await u(f);else{let p=new URL(e.url),m=p.pathname+p.search;throw ls(404,{pathname:m})}}catch(f){return{type:"error",result:f}}finally{c&&e.signal.removeEventListener("abort",c)}return o}async function dL(n){var r,s,i,o,c,u;let{result:e,type:t}=n;if(HA(e)){let f;try{let p=e.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?e.body==null?f=null:f=await e.json():f=await e.text()}catch(p){return{type:"error",error:p}}return t==="error"?{type:"error",error:new tm(e.status,e.statusText,f),statusCode:e.status,headers:e.headers}:{type:"data",data:f,statusCode:e.status,headers:e.headers}}return t==="error"?V_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new tm(((i=e.init)==null?void 0:i.status)||500,void 0,e.data),statusCode:sf(e)?e.status:void 0,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:sf(e)?e.status:void 0}:V_(e)?{type:"data",data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function fL(n,e,t,r,s){let i=n.headers.get("Location");if(dt(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!Wb.test(i)){let o=r.slice(0,r.findIndex(c=>c.route.id===t)+1);i=kv(new URL(e.url),o,s,i),n.headers.set("Location",i)}return n}function j_(n,e,t){if(Wb.test(n)){let r=n,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),i=gs(s.pathname,t)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return n}function gc(n,e,t,r){let s=n.createURL(qA(e)).toString(),i={signal:t};if(r&&Es(r.formMethod)){let{formMethod:o,formEncType:c}=r;i.method=o.toUpperCase(),c==="application/json"?(i.headers=new Headers({"Content-Type":c}),i.body=JSON.stringify(r.json)):c==="text/plain"?i.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?i.body=Ev(r.formData):i.body=r.formData}return new Request(s,i)}function Ev(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function R_(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function hL(n,e,t,r=!1,s=!1){let i={},o=null,c,u=!1,f={},p=t&&Dr(t[1])?t[1].error:void 0;return n.forEach(m=>{if(!(m.route.id in e))return;let y=m.route.id,b=e[y];if(dt(!Yo(b),"Cannot handle redirect results in processLoaderData"),Dr(b)){let w=b.error;if(p!==void 0&&(w=p,p=void 0),o=o||{},s)o[y]=w;else{let S=Ho(n,y);o[S.route.id]==null&&(o[S.route.id]=w)}r||(i[y]=UA),u||(u=!0,c=sf(b.error)?b.error.status:500),b.headers&&(f[y]=b.headers)}else i[y]=b.data,b.statusCode&&b.statusCode!==200&&!u&&(c=b.statusCode),b.headers&&(f[y]=b.headers)}),p!==void 0&&t&&(o={[t[0]]:p},i[t[0]]=void 0),{loaderData:i,errors:o,statusCode:c||200,loaderHeaders:f}}function D_(n,e,t,r,s,i){let{loaderData:o,errors:c}=hL(e,t,r);return s.forEach(u=>{let{key:f,match:p,controller:m}=u,y=i[f];if(dt(y,"Did not find corresponding fetcher result"),!(m&&m.signal.aborted))if(Dr(y)){let b=Ho(n.matches,p==null?void 0:p.route.id);c&&c[b.route.id]||(c={...c,[b.route.id]:y.error}),n.fetchers.delete(f)}else if(Yo(y))dt(!1,"Unhandled fetcher revalidation redirect");else{let b=wa(y.data);n.fetchers.set(f,b)}}),{loaderData:o,errors:c}}function P_(n,e,t,r){let s=Object.entries(e).filter(([,i])=>i!==UA).reduce((i,[o,c])=>(i[o]=c,i),{});for(let i of t){let o=i.route.id;if(!e.hasOwnProperty(o)&&n.hasOwnProperty(o)&&i.route.loader&&(s[o]=n[o]),r&&r.hasOwnProperty(o))break}return s}function L_(n){return n?Dr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Ho(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function z_(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ls(n,{pathname:e,routeId:t,method:r,type:s,message:i}={}){let o="Unknown Server Error",c="Unknown @remix-run/router error";return n===400?(o="Bad Request",r&&e&&t?c=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(c="Unable to encode submission body")):n===403?(o="Forbidden",c=`Route "${t}" does not match URL "${e}"`):n===404?(o="Not Found",c=`No route matches URL "${e}"`):n===405&&(o="Method Not Allowed",r&&e&&t?c=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(c=`Invalid request method "${r.toUpperCase()}"`)),new tm(n||500,o,new Error(c),!0)}function yp(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,s]=e[t];if(Yo(s))return{key:r,result:s}}}function qA(n){let e=typeof n=="string"?lo(n):n;return Wa({...e,hash:""})}function pL(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function mL(n){return HA(n.result)&&XP.has(n.result.status)}function Dr(n){return n.type==="error"}function Yo(n){return(n&&n.type)==="redirect"}function V_(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function HA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function gL(n){return JP.has(n.toUpperCase())}function Es(n){return YP.has(n.toUpperCase())}function ex(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Pd(n,e){let t=typeof e=="string"?lo(e).search:e.search;if(n[n.length-1].route.index&&ex(t||""))return n[n.length-1];let r=VA(n);return r[r.length-1]}function B_(n){let{formMethod:e,formAction:t,formEncType:r,text:s,formData:i,json:o}=n;if(!(!e||!t||!r)){if(s!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:t,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:o,text:void 0}}}function S0(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function yL(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function _d(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function vL(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function wa(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function bL(n,e){try{let t=n.sessionStorage.getItem(IA);if(t){let r=JSON.parse(t);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function xL(n,e){if(e.size>0){let t={};for(let[r,s]of e)t[r]=[...s];try{n.sessionStorage.setItem(IA,JSON.stringify(t))}catch(r){An(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function wL(){let n,e,t=new Promise((r,s)=>{n=async i=>{r(i);try{await t}catch{}},e=async i=>{s(i);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var Tl=M.createContext(null);Tl.displayName="DataRouter";var Hf=M.createContext(null);Hf.displayName="DataRouterState";var tx=M.createContext({isTransitioning:!1});tx.displayName="ViewTransition";var KA=M.createContext(new Map);KA.displayName="Fetchers";var SL=M.createContext(null);SL.displayName="Await";var Ds=M.createContext(null);Ds.displayName="Navigation";var Im=M.createContext(null);Im.displayName="Location";var ys=M.createContext({outlet:null,matches:[],isDataRoute:!1});ys.displayName="Route";var nx=M.createContext(null);nx.displayName="RouteError";function kL(n,{relative:e}={}){dt(_u(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=M.useContext(Ds),{hash:s,pathname:i,search:o}=Gf(n,{relative:e}),c=i;return t!=="/"&&(c=i==="/"?t:Qs([t,i])),r.createHref({pathname:c,search:o,hash:s})}function _u(){return M.useContext(Im)!=null}function Gi(){return dt(_u(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Im).location}var GA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ZA(n){M.useContext(Ds).static||M.useLayoutEffect(n)}function bn(){let{isDataRoute:n}=M.useContext(ys);return n?VL():_L()}function _L(){dt(_u(),"useNavigate() may be used only in the context of a <Router> component.");let n=M.useContext(Tl),{basename:e,navigator:t}=M.useContext(Ds),{matches:r}=M.useContext(ys),{pathname:s}=Gi(),i=JSON.stringify(Vm(r)),o=M.useRef(!1);return ZA(()=>{o.current=!0}),M.useCallback((u,f={})=>{if(An(o.current,GA),!o.current)return;if(typeof u=="number"){t.go(u);return}let p=Bm(u,JSON.parse(i),s,f.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Qs([e,p.pathname])),(f.replace?t.replace:t.push)(p,f.state,f)},[e,t,i,s,n])}var EL=M.createContext(null);function TL(n){let e=M.useContext(ys).outlet;return e&&M.createElement(EL.Provider,{value:n},e)}function Kf(){let{matches:n}=M.useContext(ys),e=n[n.length-1];return e?e.params:{}}function Gf(n,{relative:e}={}){let{matches:t}=M.useContext(ys),{pathname:r}=Gi(),s=JSON.stringify(Vm(t));return M.useMemo(()=>Bm(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function CL(n,e,t,r){dt(_u(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:i}=M.useContext(Ds),{matches:o}=M.useContext(ys),c=o[o.length-1],u=c?c.params:{},f=c?c.pathname:"/",p=c?c.pathnameBase:"/",m=c&&c.route;{let T=m&&m.path||"";YA(f,!m||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let y=Gi(),b;b=y;let w=b.pathname||"/",S=w;if(p!=="/"){let T=p.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(T.length).join("/")}let k=!i&&t&&t.matches&&t.matches.length>0?t.matches:Na(n,{pathname:S});return An(m||k!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),An(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),jL(k&&k.map(T=>Object.assign({},T,{params:Object.assign({},u,T.params),pathname:Qs([p,s.encodeLocation?s.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?p:Qs([p,s.encodeLocation?s.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),o,t,r)}function AL(){let n=zL(),e=sf(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=M.createElement(M.Fragment,null,M.createElement("p",null,"💿 Hey developer 👋"),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:i},"ErrorBoundary")," or"," ",M.createElement("code",{style:i},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),t?M.createElement("pre",{style:s},t):null,o)}var ML=M.createElement(AL,null),NL=class extends M.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?M.createElement(ys.Provider,{value:this.props.routeContext},M.createElement(nx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OL({routeContext:n,match:e,children:t}){let r=M.useContext(Tl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(ys.Provider,{value:n},t)}function jL(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,i=t==null?void 0:t.errors;if(i!=null){let u=s.findIndex(f=>f.route.id&&(i==null?void 0:i[f.route.id])!==void 0);dt(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let o=!1,c=-1;if(t)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:p,errors:m}=t,y=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||y){o=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,p)=>{let m,y=!1,b=null,w=null;t&&(m=i&&f.route.id?i[f.route.id]:void 0,b=f.route.errorElement||ML,o&&(c<0&&p===0?(YA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,w=null):c===p&&(y=!0,w=f.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,p+1)),k=()=>{let E;return m?E=b:y?E=w:f.route.Component?E=M.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=u,M.createElement(OL,{match:f,routeContext:{outlet:u,matches:S,isDataRoute:t!=null},children:E})};return t&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?M.createElement(NL,{location:t.location,revalidation:t.revalidation,component:b,error:m,children:k(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):k()},null)}function rx(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RL(n){let e=M.useContext(Tl);return dt(e,rx(n)),e}function DL(n){let e=M.useContext(Hf);return dt(e,rx(n)),e}function PL(n){let e=M.useContext(ys);return dt(e,rx(n)),e}function sx(n){let e=PL(n),t=e.matches[e.matches.length-1];return dt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function LL(){return sx("useRouteId")}function zL(){var r;let n=M.useContext(nx),e=DL("useRouteError"),t=sx("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function VL(){let{router:n}=RL("useNavigate"),e=sx("useNavigate"),t=M.useRef(!1);return ZA(()=>{t.current=!0}),M.useCallback(async(s,i={})=>{An(t.current,GA),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...i}))},[n,e])}var I_={};function YA(n,e,t){!e&&!I_[n]&&(I_[n]=!0,An(!1,t))}var U_={};function F_(n,e){!n&&!U_[e]&&(U_[e]=!0,console.warn(e))}function BL(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&An(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:M.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&An(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:M.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&An(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:M.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var IL=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function UL({router:n,flushSync:e}){let[t,r]=M.useState(n.state),[s,i]=M.useState(),[o,c]=M.useState({isTransitioning:!1}),[u,f]=M.useState(),[p,m]=M.useState(),[y,b]=M.useState(),w=M.useRef(new Map),S=M.useCallback((N,{deletedFetchers:U,flushSync:A,viewTransitionOpts:L})=>{N.fetchers.forEach((F,z)=>{F.data!==void 0&&w.current.set(z,F.data)}),U.forEach(F=>w.current.delete(F)),F_(A===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let I=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(F_(L==null||I,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!L||!I){e&&A?e(()=>r(N)):M.startTransition(()=>r(N));return}if(e&&A){e(()=>{p&&(u&&u.resolve(),p.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:L.currentLocation,nextLocation:L.nextLocation})});let F=n.window.document.startViewTransition(()=>{e(()=>r(N))});F.finished.finally(()=>{e(()=>{f(void 0),m(void 0),i(void 0),c({isTransitioning:!1})})}),e(()=>m(F));return}p?(u&&u.resolve(),p.skipTransition(),b({state:N,currentLocation:L.currentLocation,nextLocation:L.nextLocation})):(i(N),c({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}))},[n.window,e,p,u]);M.useLayoutEffect(()=>n.subscribe(S),[n,S]),M.useEffect(()=>{o.isTransitioning&&!o.flushSync&&f(new IL)},[o]),M.useEffect(()=>{if(u&&s&&n.window){let N=s,U=u.promise,A=n.window.document.startViewTransition(async()=>{M.startTransition(()=>r(N)),await U});A.finished.finally(()=>{f(void 0),m(void 0),i(void 0),c({isTransitioning:!1})}),m(A)}},[s,u,n.window]),M.useEffect(()=>{u&&s&&t.location.key===s.location.key&&u.resolve()},[u,p,t.location,s]),M.useEffect(()=>{!o.isTransitioning&&y&&(i(y.state),c({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),b(void 0))},[o.isTransitioning,y]);let k=M.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:N=>n.navigate(N),push:(N,U,A)=>n.navigate(N,{state:U,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:(N,U,A)=>n.navigate(N,{replace:!0,state:U,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[n]),E=n.basename||"/",T=M.useMemo(()=>({router:n,navigator:k,static:!1,basename:E}),[n,k,E]);return M.createElement(M.Fragment,null,M.createElement(Tl.Provider,{value:T},M.createElement(Hf.Provider,{value:t},M.createElement(KA.Provider,{value:w.current},M.createElement(tx.Provider,{value:o},M.createElement(qL,{basename:E,location:t.location,navigationType:t.historyAction,navigator:k},M.createElement(FL,{routes:n.routes,future:n.future,state:t})))))),null)}var FL=M.memo($L);function $L({routes:n,future:e,state:t}){return CL(n,void 0,t,e)}function nm({to:n,replace:e,state:t,relative:r}){dt(_u(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=M.useContext(Ds);An(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=M.useContext(ys),{pathname:o}=Gi(),c=bn(),u=Bm(n,Vm(i),o,r==="path"),f=JSON.stringify(u);return M.useEffect(()=>{c(JSON.parse(f),{replace:e,state:t,relative:r})},[c,f,r,e,t]),null}function ix(n){return TL(n.context)}function qL({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:i=!1}){dt(!_u(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),c=M.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof t=="string"&&(t=lo(t));let{pathname:u="/",search:f="",hash:p="",state:m=null,key:y="default"}=t,b=M.useMemo(()=>{let w=gs(u,o);return w==null?null:{location:{pathname:w,search:f,hash:p,state:m,key:y},navigationType:r}},[o,u,f,p,m,y,r]);return An(b!=null,`<Router basename="${o}"> is not able to match the URL "${u}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:M.createElement(Ds.Provider,{value:c},M.createElement(Im.Provider,{children:e,value:b}))}var Ip="get",Up="application/x-www-form-urlencoded";function Um(n){return n!=null&&typeof n.tagName=="string"}function HL(n){return Um(n)&&n.tagName.toLowerCase()==="button"}function KL(n){return Um(n)&&n.tagName.toLowerCase()==="form"}function GL(n){return Um(n)&&n.tagName.toLowerCase()==="input"}function ZL(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function YL(n,e){return n.button===0&&(!e||e==="_self")&&!ZL(n)}var vp=null;function QL(){if(vp===null)try{new FormData(document.createElement("form"),0),vp=!1}catch{vp=!0}return vp}var JL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function k0(n){return n!=null&&!JL.has(n)?(An(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Up}"`),null):n}function XL(n,e){let t,r,s,i,o;if(KL(n)){let c=n.getAttribute("action");r=c?gs(c,e):null,t=n.getAttribute("method")||Ip,s=k0(n.getAttribute("enctype"))||Up,i=new FormData(n)}else if(HL(n)||GL(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||c.getAttribute("action");if(r=u?gs(u,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Ip,s=k0(n.getAttribute("formenctype"))||k0(c.getAttribute("enctype"))||Up,i=new FormData(c,n),!QL()){let{name:f,type:p,value:m}=n;if(p==="image"){let y=f?`${f}.`:"";i.append(`${y}x`,"0"),i.append(`${y}y`,"0")}else f&&i.append(f,m)}}else{if(Um(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ip,r=null,s=Up,o=n}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:i,body:o}}function ax(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function WL(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function e4(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function t4(n,e,t){let r=await Promise.all(n.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await WL(i,t);return o.links?o.links():[]}return[]}));return i4(r.flat(1).filter(e4).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function $_(n,e,t,r,s,i){let o=(u,f)=>t[f]?u.route.id!==t[f].route.id:!0,c=(u,f)=>{var p;return t[f].pathname!==u.pathname||((p=t[f].route.path)==null?void 0:p.endsWith("*"))&&t[f].params["*"]!==u.params["*"]};return i==="assets"?e.filter((u,f)=>o(u,f)||c(u,f)):i==="data"?e.filter((u,f)=>{var m;let p=r.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(o(u,f)||c(u,f))return!0;if(u.route.shouldRevalidate){let y=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((m=t[0])==null?void 0:m.params)||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function n4(n,e,{includeHydrateFallback:t}={}){return r4(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function r4(n){return[...new Set(n)]}function s4(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function i4(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let i=JSON.stringify(s4(s));return t.has(i)||(t.add(i),r.push({key:i,link:s})),r},[])}function a4(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&gs(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function QA(){let n=M.useContext(Tl);return ax(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function o4(){let n=M.useContext(Hf);return ax(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ox=M.createContext(void 0);ox.displayName="FrameworkContext";function JA(){let n=M.useContext(ox);return ax(n,"You must render this element inside a <HydratedRouter> element"),n}function l4(n,e){let t=M.useContext(ox),[r,s]=M.useState(!1),[i,o]=M.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=e,y=M.useRef(null);M.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let S=E=>{E.forEach(T=>{o(T.isIntersecting)})},k=new IntersectionObserver(S,{threshold:.5});return y.current&&k.observe(y.current),()=>{k.disconnect()}}},[n]),M.useEffect(()=>{if(r){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[r]);let b=()=>{s(!0)},w=()=>{s(!1),o(!1)};return t?n!=="intent"?[i,y,{}]:[i,y,{onFocus:Ed(c,b),onBlur:Ed(u,w),onMouseEnter:Ed(f,b),onMouseLeave:Ed(p,w),onTouchStart:Ed(m,b)}]:[!1,y,{}]}function Ed(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function c4({page:n,...e}){let{router:t}=QA(),r=M.useMemo(()=>Na(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?M.createElement(d4,{page:n,matches:r,...e}):null}function u4(n){let{manifest:e,routeModules:t}=JA(),[r,s]=M.useState([]);return M.useEffect(()=>{let i=!1;return t4(n,e,t).then(o=>{i||s(o)}),()=>{i=!0}},[n,e,t]),r}function d4({page:n,matches:e,...t}){let r=Gi(),{manifest:s,routeModules:i}=JA(),{basename:o}=QA(),{loaderData:c,matches:u}=o4(),f=M.useMemo(()=>$_(n,e,u,s,r,"data"),[n,e,u,s,r]),p=M.useMemo(()=>$_(n,e,u,s,r,"assets"),[n,e,u,s,r]),m=M.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let w=new Set,S=!1;if(e.forEach(E=>{var N;let T=s.routes[E.route.id];!T||!T.hasLoader||(!f.some(U=>U.route.id===E.route.id)&&E.route.id in c&&((N=i[E.route.id])!=null&&N.shouldRevalidate)||T.hasClientLoader?S=!0:w.add(E.route.id))}),w.size===0)return[];let k=a4(n,o);return S&&w.size>0&&k.searchParams.set("_routes",e.filter(E=>w.has(E.route.id)).map(E=>E.route.id).join(",")),[k.pathname+k.search]},[o,c,r,s,f,e,n,i]),y=M.useMemo(()=>n4(p,s),[p,s]),b=u4(p);return M.createElement(M.Fragment,null,m.map(w=>M.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),y.map(w=>M.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),b.map(({key:w,link:S})=>M.createElement("link",{key:w,...S})))}function f4(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var XA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{XA&&(window.__reactRouterVersion="7.4.0")}catch{}function h4(n,e){return nL({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:TP({window:e==null?void 0:e.window}),hydrationData:p4(),routes:n,mapRouteProperties:BL,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function p4(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:m4(n.errors)}),n}function m4(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")t[r]=new tm(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",t[r]=o}catch{}}if(t[r]==null){let i=new Error(s.message);i.stack="",t[r]=i}}else t[r]=s;return t}var WA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bt=M.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:c,target:u,to:f,preventScrollReset:p,viewTransition:m,...y},b){let{basename:w}=M.useContext(Ds),S=typeof f=="string"&&WA.test(f),k,E=!1;if(typeof f=="string"&&S&&(k=f,XA))try{let z=new URL(window.location.href),te=f.startsWith("//")?new URL(z.protocol+f):new URL(f),Ce=gs(te.pathname,w);te.origin===z.origin&&Ce!=null?f=Ce+te.search+te.hash:E=!0}catch{An(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=kL(f,{relative:s}),[N,U,A]=l4(r,y),L=v4(f,{replace:o,state:c,target:u,preventScrollReset:p,relative:s,viewTransition:m});function I(z){e&&e(z),z.defaultPrevented||L(z)}let F=M.createElement("a",{...y,...A,href:k||T,onClick:E||i?e:I,ref:f4(b,U),target:u,"data-discover":!S&&t==="render"?"true":void 0});return N&&!S?M.createElement(M.Fragment,null,F,M.createElement(c4,{page:T})):F});bt.displayName="Link";var cu=M.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:c,children:u,...f},p){let m=Gf(o,{relative:f.relative}),y=Gi(),b=M.useContext(Hf),{navigator:w,basename:S}=M.useContext(Ds),k=b!=null&&k4(m)&&c===!0,E=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,T=y.pathname,N=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(T=T.toLowerCase(),N=N?N.toLowerCase():null,E=E.toLowerCase()),N&&S&&(N=gs(N,S)||N);const U=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let A=T===E||!s&&T.startsWith(E)&&T.charAt(U)==="/",L=N!=null&&(N===E||!s&&N.startsWith(E)&&N.charAt(E.length)==="/"),I={isActive:A,isPending:L,isTransitioning:k},F=A?e:void 0,z;typeof r=="function"?z=r(I):z=[r,A?"active":null,L?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let te=typeof i=="function"?i(I):i;return M.createElement(bt,{...f,"aria-current":F,className:z,ref:p,style:te,to:o,viewTransition:c},typeof u=="function"?u(I):u)});cu.displayName="NavLink";var g4=M.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:i,method:o=Ip,action:c,onSubmit:u,relative:f,preventScrollReset:p,viewTransition:m,...y},b)=>{let w=w4(),S=S4(c,{relative:f}),k=o.toLowerCase()==="get"?"get":"post",E=typeof c=="string"&&WA.test(c),T=N=>{if(u&&u(N),N.defaultPrevented)return;N.preventDefault();let U=N.nativeEvent.submitter,A=(U==null?void 0:U.getAttribute("formmethod"))||o;w(U||N.currentTarget,{fetcherKey:e,method:A,navigate:t,replace:s,state:i,relative:f,preventScrollReset:p,viewTransition:m})};return M.createElement("form",{ref:b,method:k,action:S,onSubmit:r?u:T,...y,"data-discover":!E&&n==="render"?"true":void 0})});g4.displayName="Form";function y4(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eM(n){let e=M.useContext(Tl);return dt(e,y4(n)),e}function v4(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let c=bn(),u=Gi(),f=Gf(n,{relative:i});return M.useCallback(p=>{if(YL(p,e)){p.preventDefault();let m=t!==void 0?t:Wa(u)===Wa(f);c(n,{replace:m,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[u,c,f,t,r,e,n,s,i,o])}var b4=0,x4=()=>`__${String(++b4)}__`;function w4(){let{router:n}=eM("useSubmit"),{basename:e}=M.useContext(Ds),t=LL();return M.useCallback(async(r,s={})=>{let{action:i,method:o,encType:c,formData:u,body:f}=XL(r,e);if(s.navigate===!1){let p=s.fetcherKey||x4();await n.fetch(p,t,s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:f,formMethod:s.method||o,formEncType:s.encType||c,flushSync:s.flushSync})}else await n.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:f,formMethod:s.method||o,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function S4(n,{relative:e}={}){let{basename:t}=M.useContext(Ds),r=M.useContext(ys);dt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Gf(n||".",{relative:e})},o=Gi();if(n==null){i.search=o.search;let c=new URLSearchParams(i.search),u=c.getAll("index");if(u.some(p=>p==="")){c.delete("index"),u.filter(m=>m).forEach(m=>c.append("index",m));let p=c.toString();i.search=p?`?${p}`:""}}return(!n||n===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(i.pathname=i.pathname==="/"?t:Qs([t,i.pathname])),Wa(i)}function k4(n,e={}){let t=M.useContext(tx);dt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=eM("useViewTransitionState"),s=Gf(n,{relative:e.relative});if(!t.isTransitioning)return!1;let i=gs(t.currentLocation.pathname,r)||t.currentLocation.pathname,o=gs(t.nextLocation.pathname,r)||t.nextLocation.pathname;return em(s.pathname,o)!=null||em(s.pathname,i)!=null}new TextEncoder;var tM=DA();const _4=Jb(tM);/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function E4(n){return M.createElement(UL,{flushSync:tM.flushSync,...n})}/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var T4={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=(n,e,t,r)=>{const s=M.forwardRef(({color:i="currentColor",size:o=24,stroke:c=2,title:u,className:f,children:p,...m},y)=>M.createElement("svg",{ref:y,...T4[n],width:o,height:o,className:["tabler-icon",`tabler-icon-${e}`,f].join(" "),strokeWidth:c,stroke:i,...m},[u&&M.createElement("title",{key:"svg-title"},u),...r.map(([b,w])=>M.createElement(b,w)),...Array.isArray(p)?p:[p]]));return s.displayName=`${t}`,s};/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var C4=kt("outline","arrow-back","IconArrowBack",[["path",{d:"M9 11l-4 4l4 4m-4 -4h11a4 4 0 0 0 0 -8h-1",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var A4=kt("outline","arrow-left-dashed","IconArrowLeftDashed",[["path",{d:"M5 12h6m3 0h1.5m3 0h.5",key:"svg-0"}],["path",{d:"M5 12l6 6",key:"svg-1"}],["path",{d:"M5 12l6 -6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var lx=kt("outline","brand-github","IconBrandGithub",[["path",{d:"M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var cx=kt("outline","brand-linkedin","IconBrandLinkedin",[["path",{d:"M8 11v5",key:"svg-0"}],["path",{d:"M8 8v.01",key:"svg-1"}],["path",{d:"M12 16v-5",key:"svg-2"}],["path",{d:"M16 16v-3a2 2 0 1 0 -4 0",key:"svg-3"}],["path",{d:"M3 7a4 4 0 0 1 4 -4h10a4 4 0 0 1 4 4v10a4 4 0 0 1 -4 4h-10a4 4 0 0 1 -4 -4z",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var M4=kt("outline","chevron-left","IconChevronLeft",[["path",{d:"M15 6l-6 6l6 6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var N4=kt("outline","circle-dashed-check","IconCircleDashedCheck",[["path",{d:"M8.56 3.69a9 9 0 0 0 -2.92 1.95",key:"svg-0"}],["path",{d:"M3.69 8.56a9 9 0 0 0 -.69 3.44",key:"svg-1"}],["path",{d:"M3.69 15.44a9 9 0 0 0 1.95 2.92",key:"svg-2"}],["path",{d:"M8.56 20.31a9 9 0 0 0 3.44 .69",key:"svg-3"}],["path",{d:"M15.44 20.31a9 9 0 0 0 2.92 -1.95",key:"svg-4"}],["path",{d:"M20.31 15.44a9 9 0 0 0 .69 -3.44",key:"svg-5"}],["path",{d:"M20.31 8.56a9 9 0 0 0 -1.95 -2.92",key:"svg-6"}],["path",{d:"M15.44 3.69a9 9 0 0 0 -3.44 -.69",key:"svg-7"}],["path",{d:"M9 12l2 2l4 -4",key:"svg-8"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var nM=kt("outline","circle-dashed-x","IconCircleDashedX",[["path",{d:"M8.56 3.69a9 9 0 0 0 -2.92 1.95",key:"svg-0"}],["path",{d:"M3.69 8.56a9 9 0 0 0 -.69 3.44",key:"svg-1"}],["path",{d:"M3.69 15.44a9 9 0 0 0 1.95 2.92",key:"svg-2"}],["path",{d:"M8.56 20.31a9 9 0 0 0 3.44 .69",key:"svg-3"}],["path",{d:"M15.44 20.31a9 9 0 0 0 2.92 -1.95",key:"svg-4"}],["path",{d:"M20.31 15.44a9 9 0 0 0 .69 -3.44",key:"svg-5"}],["path",{d:"M20.31 8.56a9 9 0 0 0 -1.95 -2.92",key:"svg-6"}],["path",{d:"M15.44 3.69a9 9 0 0 0 -3.44 -.69",key:"svg-7"}],["path",{d:"M14 14l-4 -4",key:"svg-8"}],["path",{d:"M10 14l4 -4",key:"svg-9"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var rM=kt("outline","circle-plus","IconCirclePlus",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M9 12h6",key:"svg-1"}],["path",{d:"M12 9v6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var O4=kt("outline","credit-card-pay","IconCreditCardPay",[["path",{d:"M12 19h-6a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v4.5",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M16 19h6",key:"svg-2"}],["path",{d:"M19 16l3 3l-3 3",key:"svg-3"}],["path",{d:"M7.005 15h.005",key:"svg-4"}],["path",{d:"M11 15h2",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var j4=kt("outline","dots","IconDots",[["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var sM=kt("outline","external-link","IconExternalLink",[["path",{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6",key:"svg-0"}],["path",{d:"M11 13l9 -9",key:"svg-1"}],["path",{d:"M15 4h5v5",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var R4=kt("outline","loader","IconLoader",[["path",{d:"M12 6l0 -3",key:"svg-0"}],["path",{d:"M16.25 7.75l2.15 -2.15",key:"svg-1"}],["path",{d:"M18 12l3 0",key:"svg-2"}],["path",{d:"M16.25 16.25l2.15 2.15",key:"svg-3"}],["path",{d:"M12 18l0 3",key:"svg-4"}],["path",{d:"M7.75 16.25l-2.15 2.15",key:"svg-5"}],["path",{d:"M6 12l-3 0",key:"svg-6"}],["path",{d:"M7.75 7.75l-2.15 -2.15",key:"svg-7"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var D4=kt("outline","logout-2","IconLogout2",[["path",{d:"M10 8v-2a2 2 0 0 1 2 -2h7a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-7a2 2 0 0 1 -2 -2v-2",key:"svg-0"}],["path",{d:"M15 12h-12l3 -3",key:"svg-1"}],["path",{d:"M6 15l-3 -3",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ux=kt("outline","mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var P4=kt("outline","menu-2","IconMenu2",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M4 12l16 0",key:"svg-1"}],["path",{d:"M4 18l16 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var L4=kt("outline","message","IconMessage",[["path",{d:"M8 9h8",key:"svg-0"}],["path",{d:"M8 13h6",key:"svg-1"}],["path",{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var iM=kt("outline","minus","IconMinus",[["path",{d:"M5 12l14 0",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var z4=kt("outline","package","IconPackage",[["path",{d:"M12 3l8 4.5l0 9l-8 4.5l-8 -4.5l0 -9l8 -4.5",key:"svg-0"}],["path",{d:"M12 12l8 -4.5",key:"svg-1"}],["path",{d:"M12 12l0 9",key:"svg-2"}],["path",{d:"M12 12l-8 -4.5",key:"svg-3"}],["path",{d:"M16 5.25l-8 4.5",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var dx=kt("outline","phone","IconPhone",[["path",{d:"M5 4h4l2 5l-2.5 1.5a11 11 0 0 0 5 5l1.5 -2.5l5 2v4a2 2 0 0 1 -2 2a16 16 0 0 1 -15 -15a2 2 0 0 1 2 -2",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var fx=kt("outline","plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var V4=kt("outline","receipt-refund","IconReceiptRefund",[["path",{d:"M5 21v-16a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v16l-3 -2l-2 2l-2 -2l-2 2l-2 -2l-3 2",key:"svg-0"}],["path",{d:"M15 14v-2a2 2 0 0 0 -2 -2h-4l2 -2m0 4l-2 -2",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var aM=kt("outline","search","IconSearch",[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var B4=kt("outline","shield-lock","IconShieldLock",[["path",{d:"M12 3a12 12 0 0 0 8.5 3a12 12 0 0 1 -8.5 15a12 12 0 0 1 -8.5 -15a12 12 0 0 0 8.5 -3",key:"svg-0"}],["path",{d:"M12 11m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 12l0 2.5",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var I4=kt("outline","shopping-bag","IconShoppingBag",[["path",{d:"M6.331 8h11.339a2 2 0 0 1 1.977 2.304l-1.255 8.152a3 3 0 0 1 -2.966 2.544h-6.852a3 3 0 0 1 -2.965 -2.544l-1.255 -8.152a2 2 0 0 1 1.977 -2.304z",key:"svg-0"}],["path",{d:"M9 11v-5a3 3 0 0 1 6 0v5",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var oM=kt("outline","shopping-cart","IconShoppingCart",[["path",{d:"M6 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M17 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M17 17h-11v-14h-2",key:"svg-2"}],["path",{d:"M6 5l14 1l-1 7h-13",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var U4=kt("outline","truck-delivery","IconTruckDelivery",[["path",{d:"M7 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M17 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M5 17h-2v-4m-1 -8h11v12m-4 0h6m4 0h2v-6h-8m0 -5h5l3 5",key:"svg-2"}],["path",{d:"M3 9l4 0",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var F4=kt("outline","truck","IconTruck",[["path",{d:"M7 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M17 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M5 17h-2v-11a1 1 0 0 1 1 -1h9v12m-4 0h6m4 0h2v-6h-8m0 -5h5l3 5",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var $4=kt("outline","user-check","IconUserCheck",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-1"}],["path",{d:"M15 19l2 2l4 -4",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var q4=kt("outline","user","IconUser",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var H4=kt("outline","world","IconWorld",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M3.6 9h16.8",key:"svg-1"}],["path",{d:"M3.6 15h16.8",key:"svg-2"}],["path",{d:"M11.5 3a17 17 0 0 0 0 18",key:"svg-3"}],["path",{d:"M12.5 3a17 17 0 0 1 0 18",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var hx=kt("outline","x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]]);const K4="modulepreload",G4=function(n){return"/"+n},q_={},uu=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let o=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=o(t.map(f=>{if(f=G4(f),f in q_)return;q_[f]=!0;const p=f.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":K4,p||(y.as="script"),y.crossOrigin="",y.href=f,u&&y.setAttribute("nonce",u),document.head.appendChild(y),p)return new Promise((b,w)=>{y.addEventListener("load",b),y.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return s.then(o=>{for(const c of o||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})},lM=[{id:1,title:"Home",href:"/"},{id:2,title:"about",href:"/about"},{id:3,title:"Contact Us",href:"/Contact Us"},{id:4,title:"Shop All",href:"/Shop All"}],Z4=[{id:1,title:"Github",href:"https://github.com/A3xxx23/",icon:lx},{id:2,title:"Linkedin",href:"https://www.linkedin.com/in/angel-emilio-aquino/",icon:cx},{id:3,title:"Cellphone",href:"https://wa.me/18094038309",icon:dx},{id:4,title:"Gmail",href:"mailto:angelemilioaquino6@gmail.com",icon:ux}],Y4=[{id:1,title:"product",href:"/dashboard/product",icon:v.jsx(z4,{size:25,className:"text-white"})},{id:2,title:"orders",href:"/dashboard/order",icon:v.jsx(oM,{size:25,className:"text-white"})}],px=()=>v.jsx(bt,{to:"/",className:"flex items-center",children:v.jsx("img",{src:"/logo.PNG",alt:"Logo",height:85,width:85,className:"mx-4"})}),H_=n=>{let e;const t=new Set,r=(f,p)=>{const m=typeof f=="function"?f(e):f;if(!Object.is(m,e)){const y=e;e=p??(typeof m!="object"||m===null)?m:Object.assign({},e,m),t.forEach(b=>b(e,y))}},s=()=>e,c={setState:r,getState:s,getInitialState:()=>u,subscribe:f=>(t.add(f),()=>t.delete(f))},u=e=n(r,s,c);return c},Q4=n=>n?H_(n):H_,J4=n=>n;function X4(n,e=J4){const t=ze.useSyncExternalStore(n.subscribe,()=>e(n.getState()),()=>e(n.getInitialState()));return ze.useDebugValue(t),t}const K_=n=>{const e=Q4(n),t=r=>X4(e,r);return Object.assign(t,e),t},cM=n=>n?K_(n):K_,Fi=cM(n=>({cartItems:[],totalItemsInCart:0,isSheetOpen:!1,sheetContent:null,activeNavMobile:!1,setActiveNavMobile:e=>{n({activeNavMobile:e})},openSheet:e=>{n({isSheetOpen:!0,sheetContent:e})},closeSheet:()=>{n({isSheetOpen:!1,sheetContent:null})},addItem:e=>{n(t=>{const r=t.cartItems.find(i=>i.variantId===e.variantId);let s;return r?s=t.cartItems.map(i=>i.variantId===e.variantId?{...i,quantity:i.quantity+1}:i):s=[...t.cartItems,{...e,quantity:1}],{cartItems:s,totalItemsInCart:s.reduce((i,o)=>i+o.quantity,0)}})},clearCart:()=>{n({cartItems:[],totalItemsInCart:0})}})),G_={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_PROJECT_URL_SUPABASE:"https://ytqtfazibpwawbtggqvd.supabase.co",VITE_SUPABASE_API_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inl0cXRmYXppYnB3YXdidGdncXZkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM0ODU5ODEsImV4cCI6MjA1OTA2MTk4MX0.bMyuDUkFEfqeSwXwWSz__61dATkEs6arFnFz4kbDFZM"},Tv=new Map,bp=n=>{const e=Tv.get(n);return e?Object.fromEntries(Object.entries(e.stores).map(([t,r])=>[t,r.getState()])):{}},W4=(n,e,t)=>{if(n===void 0)return{type:"untracked",connection:e.connect(t)};const r=Tv.get(t.name);if(r)return{type:"tracked",store:n,...r};const s={connection:e.connect(t),stores:{}};return Tv.set(t.name,s),{type:"tracked",store:n,...s}},e3=(n,e={})=>(t,r,s)=>{const{enabled:i,anonymousActionType:o,store:c,...u}=e;let f;try{f=(i??(G_?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!f)return n(t,r,s);const{connection:p,...m}=W4(c,f,u);let y=!0;s.setState=(S,k,E)=>{const T=t(S,k);if(!y)return T;const N=E===void 0?{type:o||"anonymous"}:typeof E=="string"?{type:E}:E;return c===void 0?(p==null||p.send(N,r()),T):(p==null||p.send({...N,type:`${c}/${N.type}`},{...bp(u.name),[c]:s.getState()}),T)};const b=(...S)=>{const k=y;y=!1,t(...S),y=k},w=n(s.setState,r,s);if(m.type==="untracked"?p==null||p.init(w):(m.stores[m.store]=s,p==null||p.init(Object.fromEntries(Object.entries(m.stores).map(([S,k])=>[S,S===m.store?w:k.getState()])))),s.dispatchFromDevtools&&typeof s.dispatch=="function"){let S=!1;const k=s.dispatch;s.dispatch=(...E)=>{(G_?"production":void 0)!=="production"&&E[0].type==="__setState"&&!S&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),S=!0),k(...E)}}return p.subscribe(S=>{var k;switch(S.type){case"ACTION":if(typeof S.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return _0(S.payload,E=>{if(E.type==="__setState"){if(c===void 0){b(E.state);return}Object.keys(E.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const T=E.state[c];if(T==null)return;JSON.stringify(s.getState())!==JSON.stringify(T)&&b(T);return}s.dispatchFromDevtools&&typeof s.dispatch=="function"&&s.dispatch(E)});case"DISPATCH":switch(S.payload.type){case"RESET":return b(w),c===void 0?p==null?void 0:p.init(s.getState()):p==null?void 0:p.init(bp(u.name));case"COMMIT":if(c===void 0){p==null||p.init(s.getState());return}return p==null?void 0:p.init(bp(u.name));case"ROLLBACK":return _0(S.state,E=>{if(c===void 0){b(E),p==null||p.init(s.getState());return}b(E[c]),p==null||p.init(bp(u.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return _0(S.state,E=>{if(c===void 0){b(E);return}JSON.stringify(s.getState())!==JSON.stringify(E[c])&&b(E[c])});case"IMPORT_STATE":{const{nextLiftedState:E}=S.payload,T=(k=E.computedStates.slice(-1)[0])==null?void 0:k.state;if(!T)return;b(c===void 0?T:T[c]),p==null||p.send(null,E);return}case"PAUSE_RECORDING":return y=!y}return}}),w},t3=e3,_0=(n,e)=>{let t;try{t=JSON.parse(n)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}t!==void 0&&e(t)};function n3(n,e){let t;try{t=n()}catch{return}return{getItem:s=>{var i;const o=u=>u===null?null:JSON.parse(u,void 0),c=(i=t.getItem(s))!=null?i:null;return c instanceof Promise?c.then(o):o(c)},setItem:(s,i)=>t.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>t.removeItem(s)}}const Cv=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(r){return Cv(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return Cv(r)(t)}}}},r3=(n,e)=>(t,r,s)=>{let i={storage:n3(()=>localStorage),partialize:S=>S,version:0,merge:(S,k)=>({...k,...S}),...e},o=!1;const c=new Set,u=new Set;let f=i.storage;if(!f)return n((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),t(...S)},r,s);const p=()=>{const S=i.partialize({...r()});return f.setItem(i.name,{state:S,version:i.version})},m=s.setState;s.setState=(S,k)=>{m(S,k),p()};const y=n((...S)=>{t(...S),p()},r,s);s.getInitialState=()=>y;let b;const w=()=>{var S,k;if(!f)return;o=!1,c.forEach(T=>{var N;return T((N=r())!=null?N:y)});const E=((k=i.onRehydrateStorage)==null?void 0:k.call(i,(S=r())!=null?S:y))||void 0;return Cv(f.getItem.bind(f))(i.name).then(T=>{if(T)if(typeof T.version=="number"&&T.version!==i.version){if(i.migrate){const N=i.migrate(T.state,T.version);return N instanceof Promise?N.then(U=>[!0,U]):[!0,N]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,T.state];return[!1,void 0]}).then(T=>{var N;const[U,A]=T;if(b=i.merge(A,(N=r())!=null?N:y),t(b,!0),U)return p()}).then(()=>{E==null||E(b,void 0),b=r(),o=!0,u.forEach(T=>T(b))}).catch(T=>{E==null||E(void 0,T)})};return s.persist={setOptions:S=>{i={...i,...S},S.storage&&(f=S.storage)},clearStorage:()=>{f==null||f.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:S=>(c.add(S),()=>{c.delete(S)}),onFinishHydration:S=>(u.add(S),()=>{u.delete(S)})},i.skipHydration||w(),b||y},s3=r3,i3=n=>({items:[],totalAmount:0,totalItemsInCart:0,clearCart:()=>{n({items:[],totalAmount:0,totalItemsInCart:0})},addItem:e=>{n(t=>{const r=t.items.findIndex(c=>c.variantId===e.variantId);let s;r>=0?s=t.items.map((c,u)=>u===r?{...c,quantity:c.quantity+e.quantity}:c):s=[...t.items,e];const i=s.reduce((c,u)=>c+u.quantity*u.price,0),o=s.reduce((c,u)=>c+u.quantity,0);return{items:s,totalAmount:i,totalItemsInCart:o}})},removeItem:e=>{n(t=>{const r=t.items.filter(o=>o.variantId!==e),s=r.reduce((o,c)=>o+c.quantity*c.price,0),i=r.reduce((o,c)=>o+c.quantity,0);return{items:r,totalAmount:s,totalItemsInCart:i}})},updateQuantity:(e,t)=>{n(r=>{const s=r.items.map(c=>c.variantId===e?{...c,quantity:t}:c),i=s.reduce((c,u)=>c+u.quantity*u.price,0),o=s.reduce((c,u)=>c+u.quantity,0);return{items:s,totalAmount:i,totalItemsInCart:o}})}}),_r=cM()(t3(s3(i3,{name:"cart-storage"})));var Cl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},vl=typeof window>"u"||"Deno"in globalThis;function cs(){}function a3(n,e){return typeof n=="function"?n(e):n}function Av(n){return typeof n=="number"&&n>=0&&n!==1/0}function uM(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Uc(n,e){return typeof n=="function"?n(e):n}function Cs(n,e){return typeof n=="function"?n(e):n}function Z_(n,e){const{type:t="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:c}=n;if(o){if(r){if(e.queryHash!==mx(o,e.options))return!1}else if(!af(e.queryKey,o))return!1}if(t!=="all"){const u=e.isActive();if(t==="active"&&!u||t==="inactive"&&u)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||s&&s!==e.state.fetchStatus||i&&!i(e))}function Y_(n,e){const{exact:t,status:r,predicate:s,mutationKey:i}=n;if(i){if(!e.options.mutationKey)return!1;if(t){if(bl(e.options.mutationKey)!==bl(i))return!1}else if(!af(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function mx(n,e){return((e==null?void 0:e.queryKeyHashFn)||bl)(n)}function bl(n){return JSON.stringify(n,(e,t)=>Mv(t)?Object.keys(t).sort().reduce((r,s)=>(r[s]=t[s],r),{}):t)}function af(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!af(n[t],e[t])):!1}function gx(n,e){if(n===e)return n;const t=Q_(n)&&Q_(e);if(t||Mv(n)&&Mv(e)){const r=t?n:Object.keys(n),s=r.length,i=t?e:Object.keys(e),o=i.length,c=t?[]:{};let u=0;for(let f=0;f<o;f++){const p=t?f:i[f];(!t&&r.includes(p)||t)&&n[p]===void 0&&e[p]===void 0?(c[p]=void 0,u++):(c[p]=gx(n[p],e[p]),c[p]===n[p]&&n[p]!==void 0&&u++)}return s===o&&u===s?n:c}return e}function rm(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function Q_(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Mv(n){if(!J_(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!J_(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function J_(n){return Object.prototype.toString.call(n)==="[object Object]"}function o3(n){return new Promise(e=>{setTimeout(e,n)})}function Nv(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?gx(n,e):e}function l3(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function c3(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var yx=Symbol();function dM(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===yx?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var rl,Pa,Gc,kA,u3=(kA=class extends Cl{constructor(){super();_e(this,rl);_e(this,Pa);_e(this,Gc);le(this,Gc,e=>{if(!vl&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){j(this,Pa)||this.setEventListener(j(this,Gc))}onUnsubscribe(){var e;this.hasListeners()||((e=j(this,Pa))==null||e.call(this),le(this,Pa,void 0))}setEventListener(e){var t;le(this,Gc,e),(t=j(this,Pa))==null||t.call(this),le(this,Pa,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){j(this,rl)!==e&&(le(this,rl,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof j(this,rl)=="boolean"?j(this,rl):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},rl=new WeakMap,Pa=new WeakMap,Gc=new WeakMap,kA),vx=new u3,Zc,La,Yc,_A,d3=(_A=class extends Cl{constructor(){super();_e(this,Zc,!0);_e(this,La);_e(this,Yc);le(this,Yc,e=>{if(!vl&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){j(this,La)||this.setEventListener(j(this,Yc))}onUnsubscribe(){var e;this.hasListeners()||((e=j(this,La))==null||e.call(this),le(this,La,void 0))}setEventListener(e){var t;le(this,Yc,e),(t=j(this,La))==null||t.call(this),le(this,La,e(this.setOnline.bind(this)))}setOnline(e){j(this,Zc)!==e&&(le(this,Zc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return j(this,Zc)}},Zc=new WeakMap,La=new WeakMap,Yc=new WeakMap,_A),sm=new d3;function Ov(){let n,e;const t=new Promise((s,i)=>{n=s,e=i});t.status="pending",t.catch(()=>{});function r(s){Object.assign(t,s),delete t.resolve,delete t.reject}return t.resolve=s=>{r({status:"fulfilled",value:s}),n(s)},t.reject=s=>{r({status:"rejected",reason:s}),e(s)},t}function f3(n){return Math.min(1e3*2**n,3e4)}function fM(n){return(n??"online")==="online"?sm.isOnline():!0}var hM=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function E0(n){return n instanceof hM}function pM(n){let e=!1,t=0,r=!1,s;const i=Ov(),o=S=>{var k;r||(y(new hM(S)),(k=n.abort)==null||k.call(n))},c=()=>{e=!0},u=()=>{e=!1},f=()=>vx.isFocused()&&(n.networkMode==="always"||sm.isOnline())&&n.canRun(),p=()=>fM(n.networkMode)&&n.canRun(),m=S=>{var k;r||(r=!0,(k=n.onSuccess)==null||k.call(n,S),s==null||s(),i.resolve(S))},y=S=>{var k;r||(r=!0,(k=n.onError)==null||k.call(n,S),s==null||s(),i.reject(S))},b=()=>new Promise(S=>{var k;s=E=>{(r||f())&&S(E)},(k=n.onPause)==null||k.call(n)}).then(()=>{var S;s=void 0,r||(S=n.onContinue)==null||S.call(n)}),w=()=>{if(r)return;let S;const k=t===0?n.initialPromise:void 0;try{S=k??n.fn()}catch(E){S=Promise.reject(E)}Promise.resolve(S).then(m).catch(E=>{var L;if(r)return;const T=n.retry??(vl?0:3),N=n.retryDelay??f3,U=typeof N=="function"?N(t,E):N,A=T===!0||typeof T=="number"&&t<T||typeof T=="function"&&T(t,E);if(e||!A){y(E);return}t++,(L=n.onFail)==null||L.call(n,t,E),o3(U).then(()=>f()?void 0:b()).then(()=>{e?y(E):w()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:c,continueRetry:u,canStart:p,start:()=>(p()?w():b().then(w),i)}}function h3(){let n=[],e=0,t=c=>{c()},r=c=>{c()},s=c=>setTimeout(c,0);const i=c=>{e?n.push(c):s(()=>{t(c)})},o=()=>{const c=n;n=[],c.length&&s(()=>{r(()=>{c.forEach(u=>{t(u)})})})};return{batch:c=>{let u;e++;try{u=c()}finally{e--,e||o()}return u},batchCalls:c=>(...u)=>{i(()=>{c(...u)})},schedule:i,setNotifyFunction:c=>{t=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{s=c}}}var nn=h3(),sl,EA,mM=(EA=class{constructor(){_e(this,sl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Av(this.gcTime)&&le(this,sl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(vl?1/0:5*60*1e3))}clearGcTimeout(){j(this,sl)&&(clearTimeout(j(this,sl)),le(this,sl,void 0))}},sl=new WeakMap,EA),Qc,Jc,ss,il,Yn,Vf,al,ks,Oi,TA,p3=(TA=class extends mM{constructor(e){super();_e(this,ks);_e(this,Qc);_e(this,Jc);_e(this,ss);_e(this,il);_e(this,Yn);_e(this,Vf);_e(this,al);le(this,al,!1),le(this,Vf,e.defaultOptions),this.setOptions(e.options),this.observers=[],le(this,il,e.client),le(this,ss,j(this,il).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,le(this,Qc,m3(this.options)),this.state=e.state??j(this,Qc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=j(this,Yn))==null?void 0:e.promise}setOptions(e){this.options={...j(this,Vf),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&j(this,ss).remove(this)}setData(e,t){const r=Nv(this.state.data,e,this.options);return Ie(this,ks,Oi).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){Ie(this,ks,Oi).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,s;const t=(r=j(this,Yn))==null?void 0:r.promise;return(s=j(this,Yn))==null||s.cancel(e),t?t.then(cs).catch(cs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(j(this,Qc))}isActive(){return this.observers.some(e=>Cs(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===yx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!uM(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=j(this,Yn))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=j(this,Yn))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),j(this,ss).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(j(this,Yn)&&(j(this,al)?j(this,Yn).cancel({revert:!0}):j(this,Yn).cancelRetry()),this.scheduleGc()),j(this,ss).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ie(this,ks,Oi).call(this,{type:"invalidate"})}fetch(e,t){var u,f,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(j(this,Yn))return j(this,Yn).continueRetry(),j(this,Yn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(y=>y.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(le(this,al,!0),r.signal)})},i=()=>{const m=dM(this.options,t),y={client:j(this,il),queryKey:this.queryKey,meta:this.meta};return s(y),le(this,al,!1),this.options.persister?this.options.persister(m,y,this):m(y)},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:j(this,il),state:this.state,fetchFn:i};s(o),(u=this.options.behavior)==null||u.onFetch(o,this),le(this,Jc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=o.fetchOptions)==null?void 0:f.meta))&&Ie(this,ks,Oi).call(this,{type:"fetch",meta:(p=o.fetchOptions)==null?void 0:p.meta});const c=m=>{var y,b,w,S;E0(m)&&m.silent||Ie(this,ks,Oi).call(this,{type:"error",error:m}),E0(m)||((b=(y=j(this,ss).config).onError)==null||b.call(y,m,this),(S=(w=j(this,ss).config).onSettled)==null||S.call(w,this.state.data,m,this)),this.scheduleGc()};return le(this,Yn,pM({initialPromise:t==null?void 0:t.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:m=>{var y,b,w,S;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(k){c(k);return}(b=(y=j(this,ss).config).onSuccess)==null||b.call(y,m,this),(S=(w=j(this,ss).config).onSettled)==null||S.call(w,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,y)=>{Ie(this,ks,Oi).call(this,{type:"failed",failureCount:m,error:y})},onPause:()=>{Ie(this,ks,Oi).call(this,{type:"pause"})},onContinue:()=>{Ie(this,ks,Oi).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),j(this,Yn).start()}},Qc=new WeakMap,Jc=new WeakMap,ss=new WeakMap,il=new WeakMap,Yn=new WeakMap,Vf=new WeakMap,al=new WeakMap,ks=new WeakSet,Oi=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...gM(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return E0(s)&&s.revert&&j(this,Jc)?{...j(this,Jc),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),nn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),j(this,ss).notify({query:this,type:"updated",action:e})})},TA);function gM(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:fM(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function m3(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var qs,CA,g3=(CA=class extends Cl{constructor(e={}){super();_e(this,qs);this.config=e,le(this,qs,new Map)}build(e,t,r){const s=t.queryKey,i=t.queryHash??mx(s,t);let o=this.get(i);return o||(o=new p3({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){j(this,qs).has(e.queryHash)||(j(this,qs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=j(this,qs).get(e.queryHash);t&&(e.destroy(),t===e&&j(this,qs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){nn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return j(this,qs).get(e)}getAll(){return[...j(this,qs).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>Z_(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>Z_(e,r)):t}notify(e){nn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){nn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){nn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},qs=new WeakMap,CA),Hs,ir,ol,Ks,Sa,AA,y3=(AA=class extends mM{constructor(e){super();_e(this,Ks);_e(this,Hs);_e(this,ir);_e(this,ol);this.mutationId=e.mutationId,le(this,ir,e.mutationCache),le(this,Hs,[]),this.state=e.state||yM(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){j(this,Hs).includes(e)||(j(this,Hs).push(e),this.clearGcTimeout(),j(this,ir).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){le(this,Hs,j(this,Hs).filter(t=>t!==e)),this.scheduleGc(),j(this,ir).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){j(this,Hs).length||(this.state.status==="pending"?this.scheduleGc():j(this,ir).remove(this))}continue(){var e;return((e=j(this,ol))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,c,u,f,p,m,y,b,w,S,k,E,T,N,U,A,L,I;le(this,ol,pM({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(F,z)=>{Ie(this,Ks,Sa).call(this,{type:"failed",failureCount:F,error:z})},onPause:()=>{Ie(this,Ks,Sa).call(this,{type:"pause"})},onContinue:()=>{Ie(this,Ks,Sa).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>j(this,ir).canRun(this)}));const t=this.state.status==="pending",r=!j(this,ol).canStart();try{if(!t){Ie(this,Ks,Sa).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(s=j(this,ir).config).onMutate)==null?void 0:i.call(s,e,this));const z=await((c=(o=this.options).onMutate)==null?void 0:c.call(o,e));z!==this.state.context&&Ie(this,Ks,Sa).call(this,{type:"pending",context:z,variables:e,isPaused:r})}const F=await j(this,ol).start();return await((f=(u=j(this,ir).config).onSuccess)==null?void 0:f.call(u,F,e,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,F,e,this.state.context)),await((b=(y=j(this,ir).config).onSettled)==null?void 0:b.call(y,F,null,this.state.variables,this.state.context,this)),await((S=(w=this.options).onSettled)==null?void 0:S.call(w,F,null,e,this.state.context)),Ie(this,Ks,Sa).call(this,{type:"success",data:F}),F}catch(F){try{throw await((E=(k=j(this,ir).config).onError)==null?void 0:E.call(k,F,e,this.state.context,this)),await((N=(T=this.options).onError)==null?void 0:N.call(T,F,e,this.state.context)),await((A=(U=j(this,ir).config).onSettled)==null?void 0:A.call(U,void 0,F,this.state.variables,this.state.context,this)),await((I=(L=this.options).onSettled)==null?void 0:I.call(L,void 0,F,e,this.state.context)),F}finally{Ie(this,Ks,Sa).call(this,{type:"error",error:F})}}finally{j(this,ir).runNext(this)}}},Hs=new WeakMap,ir=new WeakMap,ol=new WeakMap,Ks=new WeakSet,Sa=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),nn.batch(()=>{j(this,Hs).forEach(r=>{r.onMutationUpdate(e)}),j(this,ir).notify({mutation:this,type:"updated",action:e})})},AA);function yM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Li,_s,Bf,MA,v3=(MA=class extends Cl{constructor(e={}){super();_e(this,Li);_e(this,_s);_e(this,Bf);this.config=e,le(this,Li,new Set),le(this,_s,new Map),le(this,Bf,0)}build(e,t,r){const s=new y3({mutationCache:this,mutationId:++gp(this,Bf)._,options:e.defaultMutationOptions(t),state:r});return this.add(s),s}add(e){j(this,Li).add(e);const t=xp(e);if(typeof t=="string"){const r=j(this,_s).get(t);r?r.push(e):j(this,_s).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(j(this,Li).delete(e)){const t=xp(e);if(typeof t=="string"){const r=j(this,_s).get(t);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&j(this,_s).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=xp(e);if(typeof t=="string"){const r=j(this,_s).get(t),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const t=xp(e);if(typeof t=="string"){const s=(r=j(this,_s).get(t))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){nn.batch(()=>{j(this,Li).forEach(e=>{this.notify({type:"removed",mutation:e})}),j(this,Li).clear(),j(this,_s).clear()})}getAll(){return Array.from(j(this,Li))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>Y_(t,r))}findAll(e={}){return this.getAll().filter(t=>Y_(e,t))}notify(e){nn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return nn.batch(()=>Promise.all(e.map(t=>t.continue().catch(cs))))}},Li=new WeakMap,_s=new WeakMap,Bf=new WeakMap,MA);function xp(n){var e;return(e=n.options.scope)==null?void 0:e.id}function X_(n){return{onFetch:(e,t)=>{var p,m,y,b,w;const r=e.options,s=(y=(m=(p=e.fetchOptions)==null?void 0:p.meta)==null?void 0:m.fetchMore)==null?void 0:y.direction,i=((b=e.state.data)==null?void 0:b.pages)||[],o=((w=e.state.data)==null?void 0:w.pageParams)||[];let c={pages:[],pageParams:[]},u=0;const f=async()=>{let S=!1;const k=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(e.signal.aborted?S=!0:e.signal.addEventListener("abort",()=>{S=!0}),e.signal)})},E=dM(e.options,e.fetchOptions),T=async(N,U,A)=>{if(S)return Promise.reject();if(U==null&&N.pages.length)return Promise.resolve(N);const L={client:e.client,queryKey:e.queryKey,pageParam:U,direction:A?"backward":"forward",meta:e.options.meta};k(L);const I=await E(L),{maxPages:F}=e.options,z=A?c3:l3;return{pages:z(N.pages,I,F),pageParams:z(N.pageParams,U,F)}};if(s&&i.length){const N=s==="backward",U=N?b3:W_,A={pages:i,pageParams:o},L=U(r,A);c=await T(A,L,N)}else{const N=n??i.length;do{const U=u===0?o[0]??r.initialPageParam:W_(r,c);if(u>0&&U==null)break;c=await T(c,U),u++}while(u<N)}return c};e.options.persister?e.fetchFn=()=>{var S,k;return(k=(S=e.options).persister)==null?void 0:k.call(S,f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=f}}}function W_(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function b3(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var Xt,za,Va,Xc,Wc,Ba,eu,tu,NA,x3=(NA=class{constructor(n={}){_e(this,Xt);_e(this,za);_e(this,Va);_e(this,Xc);_e(this,Wc);_e(this,Ba);_e(this,eu);_e(this,tu);le(this,Xt,n.queryCache||new g3),le(this,za,n.mutationCache||new v3),le(this,Va,n.defaultOptions||{}),le(this,Xc,new Map),le(this,Wc,new Map),le(this,Ba,0)}mount(){gp(this,Ba)._++,j(this,Ba)===1&&(le(this,eu,vx.subscribe(async n=>{n&&(await this.resumePausedMutations(),j(this,Xt).onFocus())})),le(this,tu,sm.subscribe(async n=>{n&&(await this.resumePausedMutations(),j(this,Xt).onOnline())})))}unmount(){var n,e;gp(this,Ba)._--,j(this,Ba)===0&&((n=j(this,eu))==null||n.call(this),le(this,eu,void 0),(e=j(this,tu))==null||e.call(this),le(this,tu,void 0))}isFetching(n){return j(this,Xt).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return j(this,za).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=j(this,Xt).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=j(this,Xt).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Uc(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return j(this,Xt).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),s=j(this,Xt).get(r.queryHash),i=s==null?void 0:s.state.data,o=a3(e,i);if(o!==void 0)return j(this,Xt).build(this,r).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return nn.batch(()=>j(this,Xt).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=j(this,Xt).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=j(this,Xt);nn.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=j(this,Xt);return nn.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=nn.batch(()=>j(this,Xt).findAll(n).map(s=>s.cancel(t)));return Promise.all(r).then(cs).catch(cs)}invalidateQueries(n,e={}){return nn.batch(()=>(j(this,Xt).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=nn.batch(()=>j(this,Xt).findAll(n).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,t);return t.throwOnError||(i=i.catch(cs)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(cs)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=j(this,Xt).build(this,e);return t.isStaleByTime(Uc(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(cs).catch(cs)}fetchInfiniteQuery(n){return n.behavior=X_(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(cs).catch(cs)}ensureInfiniteQueryData(n){return n.behavior=X_(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return sm.isOnline()?j(this,za).resumePausedMutations():Promise.resolve()}getQueryCache(){return j(this,Xt)}getMutationCache(){return j(this,za)}getDefaultOptions(){return j(this,Va)}setDefaultOptions(n){le(this,Va,n)}setQueryDefaults(n,e){j(this,Xc).set(bl(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...j(this,Xc).values()],t={};return e.forEach(r=>{af(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){j(this,Wc).set(bl(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...j(this,Wc).values()],t={};return e.forEach(r=>{af(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...j(this,Va).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=mx(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===yx&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...j(this,Va).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){j(this,Xt).clear(),j(this,za).clear()}},Xt=new WeakMap,za=new WeakMap,Va=new WeakMap,Xc=new WeakMap,Wc=new WeakMap,Ba=new WeakMap,eu=new WeakMap,tu=new WeakMap,NA),xr,ht,If,ar,ll,nu,Ia,Gs,Uf,ru,su,cl,ul,Ua,iu,Tt,Ld,jv,Rv,Dv,Pv,Lv,zv,Vv,vM,OA,bx=(OA=class extends Cl{constructor(e,t){super();_e(this,Tt);_e(this,xr);_e(this,ht);_e(this,If);_e(this,ar);_e(this,ll);_e(this,nu);_e(this,Ia);_e(this,Gs);_e(this,Uf);_e(this,ru);_e(this,su);_e(this,cl);_e(this,ul);_e(this,Ua);_e(this,iu,new Set);this.options=t,le(this,xr,e),le(this,Gs,null),le(this,Ia,Ov()),this.options.experimental_prefetchInRender||j(this,Ia).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(j(this,ht).addObserver(this),eE(j(this,ht),this.options)?Ie(this,Tt,Ld).call(this):this.updateResult(),Ie(this,Tt,Pv).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Bv(j(this,ht),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Bv(j(this,ht),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ie(this,Tt,Lv).call(this),Ie(this,Tt,zv).call(this),j(this,ht).removeObserver(this)}setOptions(e,t){const r=this.options,s=j(this,ht);if(this.options=j(this,xr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Cs(this.options.enabled,j(this,ht))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ie(this,Tt,Vv).call(this),j(this,ht).setOptions(this.options),r._defaulted&&!rm(this.options,r)&&j(this,xr).getQueryCache().notify({type:"observerOptionsUpdated",query:j(this,ht),observer:this});const i=this.hasListeners();i&&tE(j(this,ht),s,this.options,r)&&Ie(this,Tt,Ld).call(this),this.updateResult(t),i&&(j(this,ht)!==s||Cs(this.options.enabled,j(this,ht))!==Cs(r.enabled,j(this,ht))||Uc(this.options.staleTime,j(this,ht))!==Uc(r.staleTime,j(this,ht)))&&Ie(this,Tt,jv).call(this);const o=Ie(this,Tt,Rv).call(this);i&&(j(this,ht)!==s||Cs(this.options.enabled,j(this,ht))!==Cs(r.enabled,j(this,ht))||o!==j(this,Ua))&&Ie(this,Tt,Dv).call(this,o)}getOptimisticResult(e){const t=j(this,xr).getQueryCache().build(j(this,xr),e),r=this.createResult(t,e);return S3(this,r)&&(le(this,ar,r),le(this,nu,this.options),le(this,ll,j(this,ht).state)),r}getCurrentResult(){return j(this,ar)}trackResult(e,t){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),t==null||t(s),e[s])})}),r}trackProp(e){j(this,iu).add(e)}getCurrentQuery(){return j(this,ht)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=j(this,xr).defaultQueryOptions(e),r=j(this,xr).getQueryCache().build(j(this,xr),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return Ie(this,Tt,Ld).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),j(this,ar)))}createResult(e,t){var F;const r=j(this,ht),s=this.options,i=j(this,ar),o=j(this,ll),c=j(this,nu),f=e!==r?e.state:j(this,If),{state:p}=e;let m={...p},y=!1,b;if(t._optimisticResults){const z=this.hasListeners(),te=!z&&eE(e,t),Ce=z&&tE(e,r,t,s);(te||Ce)&&(m={...m,...gM(p.data,e.options)}),t._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:w,errorUpdatedAt:S,status:k}=m;if(t.select&&m.data!==void 0)if(i&&m.data===(o==null?void 0:o.data)&&t.select===j(this,Uf))b=j(this,ru);else try{le(this,Uf,t.select),b=t.select(m.data),b=Nv(i==null?void 0:i.data,b,t),le(this,ru,b),le(this,Gs,null)}catch(z){le(this,Gs,z)}else b=m.data;if(t.placeholderData!==void 0&&b===void 0&&k==="pending"){let z;if(i!=null&&i.isPlaceholderData&&t.placeholderData===(c==null?void 0:c.placeholderData))z=i.data;else if(z=typeof t.placeholderData=="function"?t.placeholderData((F=j(this,su))==null?void 0:F.state.data,j(this,su)):t.placeholderData,t.select&&z!==void 0)try{z=t.select(z),le(this,Gs,null)}catch(te){le(this,Gs,te)}z!==void 0&&(k="success",b=Nv(i==null?void 0:i.data,z,t),y=!0)}j(this,Gs)&&(w=j(this,Gs),b=j(this,ru),S=Date.now(),k="error");const E=m.fetchStatus==="fetching",T=k==="pending",N=k==="error",U=T&&E,A=b!==void 0,I={status:k,fetchStatus:m.fetchStatus,isPending:T,isSuccess:k==="success",isError:N,isInitialLoading:U,isLoading:U,data:b,dataUpdatedAt:m.dataUpdatedAt,error:w,errorUpdatedAt:S,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>f.dataUpdateCount||m.errorUpdateCount>f.errorUpdateCount,isFetching:E,isRefetching:E&&!T,isLoadingError:N&&!A,isPaused:m.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:N&&A,isStale:xx(e,t),refetch:this.refetch,promise:j(this,Ia)};if(this.options.experimental_prefetchInRender){const z=Oe=>{I.status==="error"?Oe.reject(I.error):I.data!==void 0&&Oe.resolve(I.data)},te=()=>{const Oe=le(this,Ia,I.promise=Ov());z(Oe)},Ce=j(this,Ia);switch(Ce.status){case"pending":e.queryHash===r.queryHash&&z(Ce);break;case"fulfilled":(I.status==="error"||I.data!==Ce.value)&&te();break;case"rejected":(I.status!=="error"||I.error!==Ce.reason)&&te();break}}return I}updateResult(e){const t=j(this,ar),r=this.createResult(j(this,ht),this.options);if(le(this,ll,j(this,ht).state),le(this,nu,this.options),j(this,ll).data!==void 0&&le(this,su,j(this,ht)),rm(r,t))return;le(this,ar,r);const s={},i=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,c=typeof o=="function"?o():o;if(c==="all"||!c&&!j(this,iu).size)return!0;const u=new Set(c??j(this,iu));return this.options.throwOnError&&u.add("error"),Object.keys(j(this,ar)).some(f=>{const p=f;return j(this,ar)[p]!==t[p]&&u.has(p)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),Ie(this,Tt,vM).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ie(this,Tt,Pv).call(this)}},xr=new WeakMap,ht=new WeakMap,If=new WeakMap,ar=new WeakMap,ll=new WeakMap,nu=new WeakMap,Ia=new WeakMap,Gs=new WeakMap,Uf=new WeakMap,ru=new WeakMap,su=new WeakMap,cl=new WeakMap,ul=new WeakMap,Ua=new WeakMap,iu=new WeakMap,Tt=new WeakSet,Ld=function(e){Ie(this,Tt,Vv).call(this);let t=j(this,ht).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(cs)),t},jv=function(){Ie(this,Tt,Lv).call(this);const e=Uc(this.options.staleTime,j(this,ht));if(vl||j(this,ar).isStale||!Av(e))return;const r=uM(j(this,ar).dataUpdatedAt,e)+1;le(this,cl,setTimeout(()=>{j(this,ar).isStale||this.updateResult()},r))},Rv=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(j(this,ht)):this.options.refetchInterval)??!1},Dv=function(e){Ie(this,Tt,zv).call(this),le(this,Ua,e),!(vl||Cs(this.options.enabled,j(this,ht))===!1||!Av(j(this,Ua))||j(this,Ua)===0)&&le(this,ul,setInterval(()=>{(this.options.refetchIntervalInBackground||vx.isFocused())&&Ie(this,Tt,Ld).call(this)},j(this,Ua)))},Pv=function(){Ie(this,Tt,jv).call(this),Ie(this,Tt,Dv).call(this,Ie(this,Tt,Rv).call(this))},Lv=function(){j(this,cl)&&(clearTimeout(j(this,cl)),le(this,cl,void 0))},zv=function(){j(this,ul)&&(clearInterval(j(this,ul)),le(this,ul,void 0))},Vv=function(){const e=j(this,xr).getQueryCache().build(j(this,xr),this.options);if(e===j(this,ht))return;const t=j(this,ht);le(this,ht,e),le(this,If,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},vM=function(e){nn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(j(this,ar))}),j(this,xr).getQueryCache().notify({query:j(this,ht),type:"observerResultsUpdated"})})},OA);function w3(n,e){return Cs(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function eE(n,e){return w3(n,e)||n.state.data!==void 0&&Bv(n,e,e.refetchOnMount)}function Bv(n,e,t){if(Cs(e.enabled,n)!==!1){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&xx(n,e)}return!1}function tE(n,e,t,r){return(n!==e||Cs(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&xx(n,t)}function xx(n,e){return Cs(e.enabled,n)!==!1&&n.isStaleByTime(Uc(e.staleTime,n))}function S3(n,e){return!rm(n.getCurrentResult(),e)}function nE(n,e){return n.filter(t=>!e.includes(t))}function k3(n,e,t){const r=n.slice(0);return r[e]=t,r}var au,is,ou,lu,as,Fa,Ff,$f,qf,Hn,Iv,Uv,Fv,$v,qv,jA,_3=(jA=class extends Cl{constructor(e,t,r){super();_e(this,Hn);_e(this,au);_e(this,is);_e(this,ou);_e(this,lu);_e(this,as);_e(this,Fa);_e(this,Ff);_e(this,$f);_e(this,qf,[]);le(this,au,e),le(this,lu,r),le(this,ou,[]),le(this,as,[]),le(this,is,[]),this.setQueries(t)}onSubscribe(){this.listeners.size===1&&j(this,as).forEach(e=>{e.subscribe(t=>{Ie(this,Hn,$v).call(this,e,t)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,j(this,as).forEach(e=>{e.destroy()})}setQueries(e,t,r){le(this,ou,e),le(this,lu,t),nn.batch(()=>{const s=j(this,as),i=Ie(this,Hn,Fv).call(this,j(this,ou));le(this,qf,i),i.forEach(f=>f.observer.setOptions(f.defaultedQueryOptions,r));const o=i.map(f=>f.observer),c=o.map(f=>f.getCurrentResult()),u=o.some((f,p)=>f!==s[p]);s.length===o.length&&!u||(le(this,as,o),le(this,is,c),this.hasListeners()&&(nE(s,o).forEach(f=>{f.destroy()}),nE(o,s).forEach(f=>{f.subscribe(p=>{Ie(this,Hn,$v).call(this,f,p)})}),Ie(this,Hn,qv).call(this)))})}getCurrentResult(){return j(this,is)}getQueries(){return j(this,as).map(e=>e.getCurrentQuery())}getObservers(){return j(this,as)}getOptimisticResult(e,t){const r=Ie(this,Hn,Fv).call(this,e),s=r.map(i=>i.observer.getOptimisticResult(i.defaultedQueryOptions));return[s,i=>Ie(this,Hn,Uv).call(this,i??s,t),()=>Ie(this,Hn,Iv).call(this,s,r)]}},au=new WeakMap,is=new WeakMap,ou=new WeakMap,lu=new WeakMap,as=new WeakMap,Fa=new WeakMap,Ff=new WeakMap,$f=new WeakMap,qf=new WeakMap,Hn=new WeakSet,Iv=function(e,t){return t.map((r,s)=>{const i=e[s];return r.defaultedQueryOptions.notifyOnChangeProps?i:r.observer.trackResult(i,o=>{t.forEach(c=>{c.observer.trackProp(o)})})})},Uv=function(e,t){return t?((!j(this,Fa)||j(this,is)!==j(this,$f)||t!==j(this,Ff))&&(le(this,Ff,t),le(this,$f,j(this,is)),le(this,Fa,gx(j(this,Fa),t(e)))),j(this,Fa)):e},Fv=function(e){const t=new Map(j(this,as).map(s=>[s.options.queryHash,s])),r=[];return e.forEach(s=>{const i=j(this,au).defaultQueryOptions(s),o=t.get(i.queryHash);o?r.push({defaultedQueryOptions:i,observer:o}):r.push({defaultedQueryOptions:i,observer:new bx(j(this,au),i)})}),r},$v=function(e,t){const r=j(this,as).indexOf(e);r!==-1&&(le(this,is,k3(j(this,is),r,t)),Ie(this,Hn,qv).call(this))},qv=function(){var e;if(this.hasListeners()){const t=j(this,Fa),r=Ie(this,Hn,Iv).call(this,j(this,is),j(this,qf)),s=Ie(this,Hn,Uv).call(this,r,(e=j(this,lu))==null?void 0:e.combine);t!==s&&nn.batch(()=>{this.listeners.forEach(i=>{i(j(this,is))})})}},jA),$a,qa,wr,zi,Ui,Fp,Hv,RA,E3=(RA=class extends Cl{constructor(t,r){super();_e(this,Ui);_e(this,$a);_e(this,qa);_e(this,wr);_e(this,zi);le(this,$a,t),this.setOptions(r),this.bindMethods(),Ie(this,Ui,Fp).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var s;const r=this.options;this.options=j(this,$a).defaultMutationOptions(t),rm(this.options,r)||j(this,$a).getMutationCache().notify({type:"observerOptionsUpdated",mutation:j(this,wr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&bl(r.mutationKey)!==bl(this.options.mutationKey)?this.reset():((s=j(this,wr))==null?void 0:s.state.status)==="pending"&&j(this,wr).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=j(this,wr))==null||t.removeObserver(this)}onMutationUpdate(t){Ie(this,Ui,Fp).call(this),Ie(this,Ui,Hv).call(this,t)}getCurrentResult(){return j(this,qa)}reset(){var t;(t=j(this,wr))==null||t.removeObserver(this),le(this,wr,void 0),Ie(this,Ui,Fp).call(this),Ie(this,Ui,Hv).call(this)}mutate(t,r){var s;return le(this,zi,r),(s=j(this,wr))==null||s.removeObserver(this),le(this,wr,j(this,$a).getMutationCache().build(j(this,$a),this.options)),j(this,wr).addObserver(this),j(this,wr).execute(t)}},$a=new WeakMap,qa=new WeakMap,wr=new WeakMap,zi=new WeakMap,Ui=new WeakSet,Fp=function(){var r;const t=((r=j(this,wr))==null?void 0:r.state)??yM();le(this,qa,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},Hv=function(t){nn.batch(()=>{var r,s,i,o,c,u,f,p;if(j(this,zi)&&this.hasListeners()){const m=j(this,qa).variables,y=j(this,qa).context;(t==null?void 0:t.type)==="success"?((s=(r=j(this,zi)).onSuccess)==null||s.call(r,t.data,m,y),(o=(i=j(this,zi)).onSettled)==null||o.call(i,t.data,null,m,y)):(t==null?void 0:t.type)==="error"&&((u=(c=j(this,zi)).onError)==null||u.call(c,t.error,m,y),(p=(f=j(this,zi)).onSettled)==null||p.call(f,void 0,t.error,m,y))}this.listeners.forEach(m=>{m(j(this,qa))})})},RA),bM=M.createContext(void 0),ii=n=>{const e=M.useContext(bM);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},T3=({client:n,children:e})=>(M.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),v.jsx(bM.Provider,{value:n,children:e})),xM=M.createContext(!1),wM=()=>M.useContext(xM);xM.Provider;function C3(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var A3=M.createContext(C3()),SM=()=>M.useContext(A3);function kM(n,e){return typeof n=="function"?n(...e):!!n}function im(){}var _M=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},EM=n=>{M.useEffect(()=>{n.clearReset()},[n])},TM=({result:n,errorResetBoundary:e,throwOnError:t,query:r,suspense:s})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&(s&&n.data===void 0||kM(t,[n.error,r])),CM=n=>{const e=n.staleTime;n.suspense&&(n.staleTime=typeof e=="function"?(...t)=>Math.max(e(...t),1e3):Math.max(e??1e3,1e3),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3)))},AM=(n,e)=>n.isLoading&&n.isFetching&&!e,Kv=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,am=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function M3({queries:n,...e},t){const r=ii(),s=wM(),i=SM(),o=M.useMemo(()=>n.map(S=>{const k=r.defaultQueryOptions(S);return k._optimisticResults=s?"isRestoring":"optimistic",k}),[n,r,s]);o.forEach(S=>{CM(S),_M(S,i)}),EM(i);const[c]=M.useState(()=>new _3(r,o,e)),[u,f,p]=c.getOptimisticResult(o,e.combine),m=!s&&e.subscribed!==!1;M.useSyncExternalStore(M.useCallback(S=>m?c.subscribe(nn.batchCalls(S)):im,[c,m]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),M.useEffect(()=>{c.setQueries(o,e,{listeners:!1})},[o,e,c]);const b=u.some((S,k)=>Kv(o[k],S))?u.flatMap((S,k)=>{const E=o[k];if(E){const T=new bx(r,E);if(Kv(E,S))return am(E,T,i);AM(S,s)&&am(E,T,i)}return[]}):[];if(b.length>0)throw Promise.all(b);const w=u.find((S,k)=>{const E=o[k];return E&&TM({result:S,errorResetBoundary:i,throwOnError:E.throwOnError,query:r.getQueryCache().get(E.queryHash),suspense:E.suspense})});if(w!=null&&w.error)throw w.error;return f(p())}function N3(n,e,t){var m,y,b,w,S;const r=ii(),s=wM(),i=SM(),o=r.defaultQueryOptions(n);(y=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||y.call(m,o),o._optimisticResults=s?"isRestoring":"optimistic",CM(o),_M(o,i),EM(i);const c=!r.getQueryCache().get(o.queryHash),[u]=M.useState(()=>new e(r,o)),f=u.getOptimisticResult(o),p=!s&&n.subscribed!==!1;if(M.useSyncExternalStore(M.useCallback(k=>{const E=p?u.subscribe(nn.batchCalls(k)):im;return u.updateResult(),E},[u,p]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),M.useEffect(()=>{u.setOptions(o,{listeners:!1})},[o,u]),Kv(o,f))throw am(o,u,i);if(TM({result:f,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw f.error;if((w=(b=r.getDefaultOptions().queries)==null?void 0:b._experimental_afterQuery)==null||w.call(b,o,f),o.experimental_prefetchInRender&&!vl&&AM(f,s)){const k=c?am(o,u,i):(S=r.getQueryCache().get(o.queryHash))==null?void 0:S.promise;k==null||k.catch(im).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?f:u.trackResult(f)}function Zi(n,e){return N3(n,bx)}function Al(n,e){const t=ii(),[r]=M.useState(()=>new E3(t,n));M.useEffect(()=>{r.setOptions(n)},[r,n]);const s=M.useSyncExternalStore(M.useCallback(o=>r.subscribe(nn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=M.useCallback((o,c)=>{r.mutate(o,c).catch(im)},[r]);if(s.error&&kM(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const Ht=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(n),Gv=n=>n.map(e=>{const t=e.variants.reduce((s,i)=>{const o=s.find(c=>c.color===i.color);return o?o.price=Math.min(o.price,i.price):s.push({color:i.color,price:i.price,name:i.color_name}),s},[]),r=Math.min(...t.map(s=>s.price));return{...e,price:r,colors:t.map(({name:s,color:i})=>({name:s,color:i})),variants:e.variants}}),Zf=n=>new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),O3=n=>n.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),j3=n=>{const e=n.split("/storage/v1/object/public/product-images/");if(e.length!==2)throw new Error(`Invalid URL format: ${n}`);return e[1]},R3=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>uu(async()=>{const{default:r}=await Promise.resolve().then(()=>Eu);return{default:r}},[]).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class wx extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class D3 extends wx{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class P3 extends wx{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class L3 extends wx{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Zv;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Zv||(Zv={}));var z3=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function c(p){try{f(r.next(p))}catch(m){o(m)}}function u(p){try{f(r.throw(p))}catch(m){o(m)}}function f(p){p.done?i(p.value):s(p.value).then(c,u)}f((r=r.apply(n,e||[])).next())})};class V3{constructor(e,{headers:t={},customFetch:r,region:s=Zv.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=R3(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return z3(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=t;let c={},{region:u}=t;u||(u=this.region),u&&u!=="any"&&(c["x-region"]=u);let f;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(c["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(c["Content-Type"]="application/json",f=JSON.stringify(o)));const p=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),s),body:f}).catch(w=>{throw new D3(w)}),m=p.headers.get("x-relay-error");if(m&&m==="true")throw new P3(p);if(!p.ok)throw new L3(p);let y=((r=p.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),b;return y==="application/json"?b=yield p.json():y==="application/octet-stream"?b=yield p.blob():y==="text/event-stream"?b=p:y==="multipart/form-data"?b=yield p.formData():b=yield p.text(),{data:b,error:null}}catch(s){return{data:null,error:s}}})}}var En={},yc={},vc={},bc={},xc={},wc={},B3=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},du=B3();const I3=du.fetch,MM=du.fetch.bind(du),NM=du.Headers,U3=du.Request,F3=du.Response,Eu=Object.freeze(Object.defineProperty({__proto__:null,Headers:NM,Request:U3,Response:F3,default:MM,fetch:I3},Symbol.toStringTag,{value:"Module"})),$3=hP(Eu);var wp={},rE;function OM(){if(rE)return wp;rE=1,Object.defineProperty(wp,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return wp.default=n,wp}var sE;function jM(){if(sE)return wc;sE=1;var n=wc&&wc.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(wc,"__esModule",{value:!0});const e=n($3),t=n(OM());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const c=this.fetch;let u=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var p,m,y;let b=null,w=null,S=null,k=f.status,E=f.statusText;if(f.ok){if(this.method!=="HEAD"){const A=await f.text();A===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?w=A:w=JSON.parse(A))}const N=(p=this.headers.Prefer)===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),U=(m=f.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");N&&U&&U.length>1&&(S=parseInt(U[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(b={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,S=null,k=406,E="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const N=await f.text();try{b=JSON.parse(N),Array.isArray(b)&&f.status===404&&(w=[],b=null,k=200,E="OK")}catch{f.status===404&&N===""?(k=204,E="No Content"):b={message:N}}if(b&&this.isMaybeSingle&&(!((y=b==null?void 0:b.details)===null||y===void 0)&&y.includes("0 rows"))&&(b=null,k=200,E="OK"),b&&this.shouldThrowOnError)throw new t.default(b)}return{error:b,data:w,count:S,status:k,statusText:E}});return this.shouldThrowOnError||(u=u.catch(f=>{var p,m,y;return{error:{message:`${(p=f==null?void 0:f.name)!==null&&p!==void 0?p:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(m=f==null?void 0:f.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(y=f==null?void 0:f.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),u.then(i,o)}returns(){return this}overrideTypes(){return this}}return wc.default=r,wc}var iE;function RM(){if(iE)return xc;iE=1;var n=xc&&xc.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(xc,"__esModule",{value:!0});const e=n(jM());class t extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:c,referencedTable:u=c}={}){const f=u?`${u}.order`:"order",p=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${p?`${p},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:c=o}={}){const u=typeof c>"u"?"offset":`${c}.offset`,f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${s}`),this.url.searchParams.set(f,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:c=!1,wal:u=!1,format:f="text"}={}){var p;const m=[s?"analyze":null,i?"verbose":null,o?"settings":null,c?"buffers":null,u?"wal":null].filter(Boolean).join("|"),y=(p=this.headers.Accept)!==null&&p!==void 0?p:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${f}; for="${y}"; options=${m};`,f==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return xc.default=t,xc}var aE;function Sx(){if(aE)return bc;aE=1;var n=bc&&bc.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(bc,"__esModule",{value:!0});const e=n(RM());class t extends e.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const o=Array.from(new Set(i)).map(c=>typeof c=="string"&&new RegExp("[,()]").test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:o,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const f=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${u}fts${f}.${i}`),this}match(s){return Object.entries(s).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(s,i,o){return this.url.searchParams.append(s,`not.${i}.${o}`),this}or(s,{foreignTable:i,referencedTable:o=i}={}){const c=o?`${o}.or`:"or";return this.url.searchParams.append(c,`(${s})`),this}filter(s,i,o){return this.url.searchParams.append(s,`${i}.${o}`),this}}return bc.default=t,bc}var oE;function DM(){if(oE)return vc;oE=1;var n=vc&&vc.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(vc,"__esModule",{value:!0});const e=n(Sx());class t{constructor(s,{headers:i={},schema:o,fetch:c}){this.url=s,this.headers=i,this.schema=o,this.fetch=c}select(s,{head:i=!1,count:o}={}){const c=i?"HEAD":"GET";let u=!1;const f=(s??"*").split("").map(p=>/\s/.test(p)&&!u?"":(p==='"'&&(u=!u),p)).join("");return this.url.searchParams.set("select",f),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:i,defaultToNull:o=!0}={}){const c="POST",u=[];if(this.headers.Prefer&&u.push(this.headers.Prefer),i&&u.push(`count=${i}`),o||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(s)){const f=s.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(f.length>0){const p=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:c,defaultToNull:u=!0}={}){const f="POST",p=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&p.push(this.headers.Prefer),c&&p.push(`count=${c}`),u||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(s)){const m=s.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(m.length>0){const y=[...new Set(m)].map(b=>`"${b}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:i}={}){const o="PATCH",c=[];return this.headers.Prefer&&c.push(this.headers.Prefer),i&&c.push(`count=${i}`),this.headers.Prefer=c.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const i="DELETE",o=[];return s&&o.push(`count=${s}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return vc.default=t,vc}var Td={},Cd={},lE;function q3(){return lE||(lE=1,Object.defineProperty(Cd,"__esModule",{value:!0}),Cd.version=void 0,Cd.version="0.0.0-automated"),Cd}var cE;function H3(){if(cE)return Td;cE=1,Object.defineProperty(Td,"__esModule",{value:!0}),Td.DEFAULT_HEADERS=void 0;const n=q3();return Td.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${n.version}`},Td}var uE;function K3(){if(uE)return yc;uE=1;var n=yc&&yc.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(yc,"__esModule",{value:!0});const e=n(DM()),t=n(Sx()),r=H3();class s{constructor(o,{headers:c={},schema:u,fetch:f}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),c),this.schemaName=u,this.fetch=f}from(o){const c=new URL(`${this.url}/${o}`);return new e.default(c,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new s(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,c={},{head:u=!1,get:f=!1,count:p}={}){let m;const y=new URL(`${this.url}/rpc/${o}`);let b;u||f?(m=u?"HEAD":"GET",Object.entries(c).filter(([S,k])=>k!==void 0).map(([S,k])=>[S,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([S,k])=>{y.searchParams.append(S,k)})):(m="POST",b=c);const w=Object.assign({},this.headers);return p&&(w.Prefer=`count=${p}`),new t.default({method:m,url:y,headers:w,schema:this.schemaName,body:b,fetch:this.fetch,allowEmpty:!1})}}return yc.default=s,yc}var dE;function G3(){if(dE)return En;dE=1;var n=En&&En.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(En,"__esModule",{value:!0}),En.PostgrestError=En.PostgrestBuilder=En.PostgrestTransformBuilder=En.PostgrestFilterBuilder=En.PostgrestQueryBuilder=En.PostgrestClient=void 0;const e=n(K3());En.PostgrestClient=e.default;const t=n(DM());En.PostgrestQueryBuilder=t.default;const r=n(Sx());En.PostgrestFilterBuilder=r.default;const s=n(RM());En.PostgrestTransformBuilder=s.default;const i=n(jM());En.PostgrestBuilder=i.default;const o=n(OM());return En.PostgrestError=o.default,En.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:i.default,PostgrestError:o.default},En}var Z3=G3();const Y3=Jb(Z3),{PostgrestClient:Q3,PostgrestQueryBuilder:WZ,PostgrestFilterBuilder:eY,PostgrestTransformBuilder:tY,PostgrestBuilder:nY,PostgrestError:rY}=Y3,J3="2.11.2",X3={"X-Client-Info":`realtime-js/${J3}`},W3="1.0.0",PM=1e4,ez=1e3;var Fc;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Fc||(Fc={}));var Rr;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Rr||(Rr={}));var Ts;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Ts||(Ts={}));var Yv;(function(n){n.websocket="websocket"})(Yv||(Yv={}));var Ko;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Ko||(Ko={}));class tz{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const s=t.getUint8(1),i=t.getUint8(2);let o=this.HEADER_LENGTH+2;const c=r.decode(e.slice(o,o+s));o=o+s;const u=r.decode(e.slice(o,o+i));o=o+i;const f=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:c,event:u,payload:f}}}class LM{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Pt;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Pt||(Pt={}));const fE=(n,e,t={})=>{var r;const s=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=nz(o,n,e,s),i),{})},nz=(n,e,t,r)=>{const s=e.find(c=>c.name===n),i=s==null?void 0:s.type,o=t[n];return i&&!r.includes(i)?zM(i,o):Qv(o)},zM=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return az(e,t)}switch(n){case Pt.bool:return rz(e);case Pt.float4:case Pt.float8:case Pt.int2:case Pt.int4:case Pt.int8:case Pt.numeric:case Pt.oid:return sz(e);case Pt.json:case Pt.jsonb:return iz(e);case Pt.timestamp:return oz(e);case Pt.abstime:case Pt.date:case Pt.daterange:case Pt.int4range:case Pt.int8range:case Pt.money:case Pt.reltime:case Pt.text:case Pt.time:case Pt.timestamptz:case Pt.timetz:case Pt.tsrange:case Pt.tstzrange:return Qv(e);default:return Qv(e)}},Qv=n=>n,rz=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},sz=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},iz=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},az=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let i;const o=n.slice(1,t);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(c=>zM(e,c))}return n},oz=n=>typeof n=="string"?n.replace(" ","T"):n,VM=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class T0{constructor(e,t,r={},s=PM){this.channel=e,this.event=t,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var hE;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(hE||(hE={}));class Hd{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hd.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=Hd.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Hd.syncDiff(this.state,s,i,o),c())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,s){const i=this.cloneDeep(e),o=this.transformState(t),c={},u={};return this.map(i,(f,p)=>{o[f]||(u[f]=p)}),this.map(o,(f,p)=>{const m=i[f];if(m){const y=p.map(k=>k.presence_ref),b=m.map(k=>k.presence_ref),w=p.filter(k=>b.indexOf(k.presence_ref)<0),S=m.filter(k=>y.indexOf(k.presence_ref)<0);w.length>0&&(c[f]=w),S.length>0&&(u[f]=S)}else c[f]=p}),this.syncDiff(i,{joins:c,leaves:u},r,s)}static syncDiff(e,t,r,s){const{joins:i,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(c,u)=>{var f;const p=(f=e[c])!==null&&f!==void 0?f:[];if(e[c]=this.cloneDeep(u),p.length>0){const m=e[c].map(b=>b.presence_ref),y=p.filter(b=>m.indexOf(b.presence_ref)<0);e[c].unshift(...y)}r(c,p,u)}),this.map(o,(c,u)=>{let f=e[c];if(!f)return;const p=u.map(m=>m.presence_ref);f=f.filter(m=>p.indexOf(m.presence_ref)<0),e[c]=f,s(c,f,u),f.length===0&&delete e[c]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const s=e[r];return"metas"in s?t[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[r]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var pE;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(pE||(pE={}));var mE;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(mE||(mE={}));var Ri;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Ri||(Ri={}));class kx{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Rr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new T0(this,Ts.join,this.params,this.timeout),this.rejoinTimer=new LM(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Rr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Rr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Rr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Rr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ts.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Hd(this),this.broadcastEndpointURL=VM(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:c}}=this.params;this._onError(p=>e==null?void 0:e(Ri.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(Ri.CLOSED));const u={},f={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],private:c};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:f},u)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket.setAuth(),p===void 0){e==null||e(Ri.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,b=(m=y==null?void 0:y.length)!==null&&m!==void 0?m:0,w=[];for(let S=0;S<b;S++){const k=y[S],{filter:{event:E,schema:T,table:N,filter:U}}=k,A=p&&p[S];if(A&&A.event===E&&A.schema===T&&A.table===N&&A.filter===U)w.push(Object.assign(Object.assign({},k),{id:A.id}));else{this.unsubscribe(),e==null||e(Ri.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(Ri.SUBSCRIBED);return}}).receive("error",p=>{e==null||e(Ri.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ri.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e,t={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=f.body)===null||s===void 0?void 0:s.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,c,u;const f=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),f.receive("ok",()=>i("ok")),f.receive("error",()=>i("error")),f.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Rr.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ts.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new T0(this,Ts.leave,{},e);s.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,t,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(i),o}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new T0(this,e,t,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var s,i;const o=e.toLocaleLowerCase(),{close:c,error:u,leave:f,join:p}=Ts;if(r&&[c,u,f,p].indexOf(o)>=0&&r!==this._joinRef())return;let y=this._onMessage(o,t,r);if(t&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(b=>{var w,S,k;return((w=b.filter)===null||w===void 0?void 0:w.event)==="*"||((k=(S=b.filter)===null||S===void 0?void 0:S.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(b=>b.callback(y,r)):(i=this.bindings[o])===null||i===void 0||i.filter(b=>{var w,S,k,E,T,N;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in b){const U=b.id,A=(w=b.filter)===null||w===void 0?void 0:w.event;return U&&((S=t.ids)===null||S===void 0?void 0:S.includes(U))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((k=t.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const U=(T=(E=b==null?void 0:b.filter)===null||E===void 0?void 0:E.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return U==="*"||U===((N=t==null?void 0:t.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===o}).map(b=>{if(typeof y=="object"&&"ids"in y){const w=y.data,{schema:S,table:k,commit_timestamp:E,type:T,errors:N}=w;y=Object.assign(Object.assign({},{schema:S,table:k,commit_timestamp:E,eventType:T,new:{},old:{},errors:N}),this._getPayloadRecords(w))}b.callback(y,r)})}_isClosed(){return this.state===Rr.closed}_isJoined(){return this.state===Rr.joined}_isJoining(){return this.state===Rr.joining}_isLeaving(){return this.state===Rr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const s=e.toLocaleLowerCase(),i={type:s,filter:t,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&kx.isEqual(s.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ts.close,{},e)}_onError(e){this._on(Ts.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Rr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=fE(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=fE(e.columns,e.old_record)),t}}const lz=()=>{},cz=typeof WebSocket<"u",uz=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class dz{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=X3,this.params={},this.timeout=PM,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=lz,this.conn=null,this.sendBuffer=[],this.serializer=new tz,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...c)=>uu(async()=>{const{default:u}=await Promise.resolve().then(()=>Eu);return{default:u}},void 0).then(({default:u})=>u(...c)):o=fetch,(...c)=>o(...c)},this.endPoint=`${e}/${Yv.websocket}`,this.httpEndpoint=VM(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(i,o)=>o(JSON.stringify(i)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new LM(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(cz){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new fz(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),uu(async()=>{const{default:e}=await import("./browser-BpzH1L7T.js").then(t=>t.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:W3}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Fc.connecting:return Ko.Connecting;case Fc.open:return Ko.Open;case Fc.closing:return Ko.Closing;default:return Ko.Closed}}isConnected(){return this.connectionState()===Ko.Open}channel(e,t={config:{}}){const r=new kx(`realtime:${e}`,t,this);return this.channels.push(r),r}push(e){const{topic:t,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,c=>{var u;(u=this.conn)===null||u===void 0||u.send(c)})};this.log("push",`${t} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let r=null;try{r=JSON.parse(atob(t.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=t,this.channels.forEach(s=>{t&&s.updateJoinPayload({access_token:t}),s.joinedOnce&&s._isJoined()&&s._push(Ts.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(ez,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:s,payload:i,ref:o}=t;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(c=>c(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ts.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${r}${s}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([uz],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}}class fz{constructor(e,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Fc.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class _x extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Tn(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class hz extends _x{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Jv extends _x{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var pz=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function c(p){try{f(r.next(p))}catch(m){o(m)}}function u(p){try{f(r.throw(p))}catch(m){o(m)}}function f(p){p.done?i(p.value):s(p.value).then(c,u)}f((r=r.apply(n,e||[])).next())})};const BM=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>uu(async()=>{const{default:r}=await Promise.resolve().then(()=>Eu);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},mz=()=>pz(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield uu(()=>Promise.resolve().then(()=>Eu),void 0)).Response:Response}),Xv=n=>{if(Array.isArray(n))return n.map(t=>Xv(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const s=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Xv(r)}),e};var Ml=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function c(p){try{f(r.next(p))}catch(m){o(m)}}function u(p){try{f(r.throw(p))}catch(m){o(m)}}function f(p){p.done?i(p.value):s(p.value).then(c,u)}f((r=r.apply(n,e||[])).next())})};const C0=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),gz=(n,e,t)=>Ml(void 0,void 0,void 0,function*(){const r=yield mz();n instanceof r&&!(t!=null&&t.noResolveJson)?n.json().then(s=>{e(new hz(C0(s),n.status||500))}).catch(s=>{e(new Jv(C0(s),s))}):e(new Jv(C0(n),n))}),yz=(n,e,t,r)=>{const s={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),t))};function Yf(n,e,t,r,s,i){return Ml(this,void 0,void 0,function*(){return new Promise((o,c)=>{n(t,yz(e,r,s,i)).then(u=>{if(!u.ok)throw u;return r!=null&&r.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>gz(u,c,r))})})}function om(n,e,t,r){return Ml(this,void 0,void 0,function*(){return Yf(n,"GET",e,t,r)})}function Ca(n,e,t,r,s){return Ml(this,void 0,void 0,function*(){return Yf(n,"POST",e,r,s,t)})}function vz(n,e,t,r,s){return Ml(this,void 0,void 0,function*(){return Yf(n,"PUT",e,r,s,t)})}function bz(n,e,t,r){return Ml(this,void 0,void 0,function*(){return Yf(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function IM(n,e,t,r,s){return Ml(this,void 0,void 0,function*(){return Yf(n,"DELETE",e,r,s,t)})}var br=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function c(p){try{f(r.next(p))}catch(m){o(m)}}function u(p){try{f(r.throw(p))}catch(m){o(m)}}function f(p){p.done?i(p.value):s(p.value).then(c,u)}f((r=r.apply(n,e||[])).next())})};const xz={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class wz{constructor(e,t={},r,s){this.url=e,this.headers=t,this.bucketId=r,this.fetch=BM(s)}uploadOrUpdate(e,t,r,s){return br(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},gE),s);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=r,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,u&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(c=Object.assign(Object.assign({},c),s.headers));const f=this._removeEmptyFolders(t),p=this._getFinalPath(f),m=yield this.fetch(`${this.url}/object/${p}`,Object.assign({method:e,body:i,headers:c},o!=null&&o.duplex?{duplex:o.duplex}:{})),y=yield m.json();return m.ok?{data:{path:f,id:y.Id,fullPath:y.Key},error:null}:{data:null,error:y}}catch(i){if(Tn(i))return{data:null,error:i};throw i}})}upload(e,t,r){return br(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,s){return br(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",t);try{let u;const f=Object.assign({upsert:gE.upsert},s),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",f.cacheControl)):(u=r,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType);const m=yield this.fetch(c.toString(),{method:"PUT",body:u,headers:p}),y=yield m.json();return m.ok?{data:{path:i,fullPath:y.Key},error:null}:{data:null,error:y}}catch(u){if(Tn(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,t){return br(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=yield Ca(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),c=o.searchParams.get("token");if(!c)throw new _x("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:c},error:null}}catch(r){if(Tn(r))return{data:null,error:r};throw r}})}update(e,t,r){return br(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return br(this,void 0,void 0,function*(){try{return{data:yield Ca(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Tn(s))return{data:null,error:s};throw s}})}copy(e,t,r){return br(this,void 0,void 0,function*(){try{return{data:{path:(yield Ca(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Tn(s))return{data:null,error:s};throw s}})}createSignedUrl(e,t,r){return br(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Ca(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Tn(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,r){return br(this,void 0,void 0,function*(){try{const s=yield Ca(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Tn(s))return{data:null,error:s};throw s}})}download(e,t){return br(this,void 0,void 0,function*(){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=i?`?${i}`:"";try{const c=this._getFinalPath(e);return{data:yield(yield om(this.fetch,`${this.url}/${s}/${c}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(Tn(c))return{data:null,error:c};throw c}})}info(e){return br(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield om(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Xv(r),error:null}}catch(r){if(Tn(r))return{data:null,error:r};throw r}})}exists(e){return br(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield bz(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Tn(r)&&r instanceof Jv){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),s=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&s.push(i);const c=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});u!==""&&s.push(u);let f=s.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${f}`)}}}remove(e){return br(this,void 0,void 0,function*(){try{return{data:yield IM(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Tn(t))return{data:null,error:t};throw t}})}list(e,t,r){return br(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},xz),t),{prefix:e||""});return{data:yield Ca(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Tn(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Sz="2.7.1",kz={"X-Client-Info":`storage-js/${Sz}`};var Sc=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function c(p){try{f(r.next(p))}catch(m){o(m)}}function u(p){try{f(r.throw(p))}catch(m){o(m)}}function f(p){p.done?i(p.value):s(p.value).then(c,u)}f((r=r.apply(n,e||[])).next())})};class _z{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},kz),t),this.fetch=BM(r)}listBuckets(){return Sc(this,void 0,void 0,function*(){try{return{data:yield om(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Tn(e))return{data:null,error:e};throw e}})}getBucket(e){return Sc(this,void 0,void 0,function*(){try{return{data:yield om(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Tn(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Sc(this,void 0,void 0,function*(){try{return{data:yield Ca(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Tn(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return Sc(this,void 0,void 0,function*(){try{return{data:yield vz(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Tn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Sc(this,void 0,void 0,function*(){try{return{data:yield Ca(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Tn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Sc(this,void 0,void 0,function*(){try{return{data:yield IM(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Tn(t))return{data:null,error:t};throw t}})}}class Ez extends _z{constructor(e,t={},r){super(e,t,r)}from(e){return new wz(this.url,this.headers,e,this.fetch)}}const Tz="2.49.4";let zd="";typeof Deno<"u"?zd="deno":typeof document<"u"?zd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zd="react-native":zd="node";const Cz={"X-Client-Info":`supabase-js-${zd}/${Tz}`},Az={headers:Cz},Mz={schema:"public"},Nz={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Oz={};var jz=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function c(p){try{f(r.next(p))}catch(m){o(m)}}function u(p){try{f(r.throw(p))}catch(m){o(m)}}function f(p){p.done?i(p.value):s(p.value).then(c,u)}f((r=r.apply(n,e||[])).next())})};const Rz=n=>{let e;return n?e=n:typeof fetch>"u"?e=MM:e=fetch,(...t)=>e(...t)},Dz=()=>typeof Headers>"u"?NM:Headers,Pz=(n,e,t)=>{const r=Rz(t),s=Dz();return(i,o)=>jz(void 0,void 0,void 0,function*(){var c;const u=(c=yield e())!==null&&c!==void 0?c:n;let f=new s(o==null?void 0:o.headers);return f.has("apikey")||f.set("apikey",n),f.has("Authorization")||f.set("Authorization",`Bearer ${u}`),r(i,Object.assign(Object.assign({},o),{headers:f}))})};var Lz=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function c(p){try{f(r.next(p))}catch(m){o(m)}}function u(p){try{f(r.throw(p))}catch(m){o(m)}}function f(p){p.done?i(p.value):s(p.value).then(c,u)}f((r=r.apply(n,e||[])).next())})};function zz(n){return n.replace(/\/$/,"")}function Vz(n,e){const{db:t,auth:r,realtime:s,global:i}=n,{db:o,auth:c,realtime:u,global:f}=e,p={db:Object.assign(Object.assign({},o),t),auth:Object.assign(Object.assign({},c),r),realtime:Object.assign(Object.assign({},u),s),global:Object.assign(Object.assign({},f),i),accessToken:()=>Lz(this,void 0,void 0,function*(){return""})};return n.accessToken?p.accessToken=n.accessToken:delete p.accessToken,p}const UM="2.69.1",Ac=30*1e3,Wv=3,A0=Wv*Ac,Bz="http://localhost:9999",Iz="supabase.auth.token",Uz={"X-Client-Info":`gotrue-js/${UM}`},eb="X-Supabase-Api-Version",FM={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Fz=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$z=6e5;class Ex extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function et(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class qz extends Ex{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function Hz(n){return et(n)&&n.name==="AuthApiError"}class $M extends Ex{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class co extends Ex{constructor(e,t,r,s){super(e,r,s),this.name=t,this.status=r}}class ka extends co{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Kz(n){return et(n)&&n.name==="AuthSessionMissingError"}class M0 extends co{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Sp extends co{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class kp extends co{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Gz(n){return et(n)&&n.name==="AuthImplicitGrantRedirectError"}class yE extends co{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tb extends co{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function N0(n){return et(n)&&n.name==="AuthRetryableFetchError"}class vE extends co{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Kd extends co{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const bE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xE=` 	
\r=`.split(""),Zz=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<xE.length;e+=1)n[xE[e].charCodeAt(0)]=-2;for(let e=0;e<bE.length;e+=1)n[bE[e].charCodeAt(0)]=e;return n})();function qM(n,e,t){const r=Zz[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function wE(n){const e=[],t=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Jz(o,r,t)};for(let o=0;o<n.length;o+=1)qM(n.charCodeAt(o),s,i);return e.join("")}function Yz(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function Qz(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|s)+65536,t+=1}Yz(r,e)}}function Jz(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Xz(n){const e=[],t={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<n.length;s+=1)qM(n.charCodeAt(s),t,r);return new Uint8Array(e)}function Wz(n){const e=[];return Qz(n,t=>e.push(t)),new Uint8Array(e)}function e5(n){return Math.round(Date.now()/1e3)+n}function t5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const Us=()=>typeof window<"u"&&typeof document<"u",Uo={tested:!1,writable:!1},Gd=()=>{if(!Us())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Uo.tested)return Uo.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Uo.tested=!0,Uo.writable=!0}catch{Uo.tested=!0,Uo.writable=!1}return Uo.writable};function n5(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return t.searchParams.forEach((r,s)=>{e[s]=r}),e}const HM=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>uu(async()=>{const{default:r}=await Promise.resolve().then(()=>Eu);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},r5=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",KM=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},_p=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Ep=async(n,e)=>{await n.removeItem(e)};class Fm{constructor(){this.promise=new Fm.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Fm.promiseConstructor=Promise;function O0(n){const e=n.split(".");if(e.length!==3)throw new Kd("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Fz.test(e[r]))throw new Kd("JWT not in base64url format");return{header:JSON.parse(wE(e[0])),payload:JSON.parse(wE(e[1])),signature:Xz(e[2]),raw:{header:e[0],payload:e[1]}}}async function s5(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function i5(n,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await n(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function a5(n){return("0"+n.toString(16)).substr(-2)}function o5(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let s="";for(let i=0;i<56;i++)s+=t.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,a5).join("")}async function l5(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function c5(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await l5(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kc(n,e,t=!1){const r=o5();let s=r;t&&(s+="/PASSWORD_RECOVERY"),await KM(n,`${e}-code-verifier`,s);const i=await c5(r);return[i,r===i?"plain":"s256"]}const u5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function d5(n){const e=n.headers.get(eb);if(!e||!e.match(u5))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function f5(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function h5(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var p5=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const $o=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),m5=[502,503,504];async function SE(n){var e;if(!r5(n))throw new tb($o(n),0);if(m5.includes(n.status))throw new tb($o(n),n.status);let t;try{t=await n.json()}catch(i){throw new $M($o(i),i)}let r;const s=d5(n);if(s&&s.getTime()>=FM["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new vE($o(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ka}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new vE($o(t),n.status,t.weak_password.reasons);throw new qz($o(t),n.status||500,r)}const g5=(n,e,t,r)=>{const s={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),t))};async function ut(n,e,t,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[eb]||(i[eb]=FM["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await y5(n,e,t+c,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(u):{data:Object.assign({},u),error:null}}async function y5(n,e,t,r,s,i){const o=g5(e,r,s,i);let c;try{c=await n(t,Object.assign({},o))}catch(u){throw console.error(u),new tb($o(u),0)}if(c.ok||await SE(c),r!=null&&r.noResolveJson)return c;try{return await c.json()}catch(u){await SE(u)}}function _a(n){var e;let t=null;w5(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=e5(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function kE(n){const e=_a(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Oa(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function v5(n){return{data:n,error:null}}function b5(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:s,verification_type:i}=n,o=p5(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:t,hashed_token:r,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:c,user:u},error:null}}function x5(n){return n}function w5(n){return n.access_token&&n.refresh_token&&n.expires_in}var S5=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class k5{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=HM(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await ut(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await ut(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Oa})}catch(r){if(et(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=S5(e,["options"]),s=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await ut(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:b5,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(et(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await ut(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Oa})}catch(t){if(et(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,s,i,o,c,u;try{const f={nextPage:null,lastPage:0,total:0},p=await ut(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:x5});if(p.error)throw p.error;const m=await p.json(),y=(o=p.headers.get("x-total-count"))!==null&&o!==void 0?o:0,b=(u=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return b.length>0&&(b.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(w.split(";")[1].split("=")[1]);f[`${k}Page`]=S}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(et(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){try{return await ut(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Oa})}catch(t){if(et(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await ut(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Oa})}catch(r){if(et(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){try{return await ut(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Oa})}catch(r){if(et(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:t,error:r}=await ut(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:r}}catch(t){if(et(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await ut(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(et(t))return{data:null,error:t};throw t}}}const _5={getItem:n=>Gd()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{Gd()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{Gd()&&globalThis.localStorage.removeItem(n)}};function _E(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function E5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const _c={debug:!!(globalThis&&Gd()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class GM extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class T5 extends GM{}async function C5(n,e,t){_c.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),_c.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){_c.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,s.name);try{return await t()}finally{_c.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,s.name)}}else{if(e===0)throw _c.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new T5(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(_c.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}E5();const A5={url:Bz,storageKey:Iz,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Uz,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function EE(n,e,t){return await t()}class of{constructor(e){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=of.nextInstanceID,of.nextInstanceID+=1,this.instanceID>0&&Us()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},A5),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new k5({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=HM(s.fetch),this.lock=s.lock||EE,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Us()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=C5:this.lock=EE,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Gd()?this.storage=_5:(this.memoryStorage={},this.storage=_E(this.memoryStorage)):(this.memoryStorage={},this.storage=_E(this.memoryStorage)),Us()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${UM}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=n5(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),Us()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(t,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Gz(i)){const u=(e=i.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return et(t)?{error:t}:{error:new $M("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,s;try{const i=await ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:_a}),{data:o,error:c}=i;if(c||!o)return{data:{user:null,session:null},error:c};const u=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:f,session:u},error:null}}catch(i){if(et(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,r,s;try{let i;if("email"in e){const{email:p,password:m,options:y}=e;let b=null,w=null;this.flowType==="pkce"&&([b,w]=await kc(this.storage,this.storageKey)),i=await ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:p,password:m,data:(t=y==null?void 0:y.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:b,code_challenge_method:w},xform:_a})}else if("phone"in e){const{phone:p,password:m,options:y}=e;i=await ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:m,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},channel:(s=y==null?void 0:y.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:_a})}else throw new Sp("You must provide either an email or phone number and a password");const{data:o,error:c}=i;if(c||!o)return{data:{user:null,session:null},error:c};const u=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:f,session:u},error:null}}catch(i){if(et(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:i,password:o,options:c}=e;t=await ut(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:kE})}else if("phone"in e){const{phone:i,password:o,options:c}=e;t=await ut(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:kE})}else throw new Sp("You must provide either an email or phone number and a password");const{data:r,error:s}=t;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new M0}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(t){if(et(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await _p(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(t??"").split("/");try{const{data:i,error:o}=await ut(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:_a});if(await Ep(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new M0}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(et(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:t,provider:r,token:s,access_token:i,nonce:o}=e,c=await ut(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:_a}),{data:u,error:f}=c;return f?{data:{user:null,session:null},error:f}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new M0}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:f})}catch(t){if(et(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,s,i,o;try{if("email"in e){const{email:c,options:u}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await kc(this.storage,this.storageKey));const{error:m}=await ut(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(t=u==null?void 0:u.data)!==null&&t!==void 0?t:{},create_user:(r=u==null?void 0:u.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in e){const{phone:c,options:u}=e,{data:f,error:p}=await ut(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:p}}throw new Sp("You must provide either an email or phone number.")}catch(c){if(et(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(e){var t,r;try{let s,i;"options"in e&&(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:c}=await ut(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:_a});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,f=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:f,session:u},error:null}}catch(s){if(et(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var t,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await kc(this.storage,this.storageKey)),await ut(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:v5})}catch(i){if(et(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new ka;const{error:s}=await ut(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(et(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await ut(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:c}=await ut(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:c}}throw new Sp("You must provide either an email or phone number and a type")}catch(t){if(et(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await _p(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<A0:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,f,p)=>(!o&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,f,p))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ut(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Oa}):await this._useSession(async t=>{var r,s,i;const{data:o,error:c}=t;if(c)throw c;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ka}:await ut(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Oa})})}catch(t){if(et(t))return Kz(t)&&(await this._removeSession(),await Ep(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new ka;const o=s.session;let c=null,u=null;this.flowType==="pkce"&&e.email!=null&&([c,u]=await kc(this.storage,this.storageKey));const{data:f,error:p}=await ut(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:u}),jwt:o.access_token,xform:Oa});if(p)throw p;return o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(et(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ka;const t=Date.now()/1e3;let r=t,s=!0,i=null;const{payload:o}=O0(e.access_token);if(o.exp&&(r=o.exp,s=r<=t),s){const{session:c,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!c)return{data:{user:null,session:null},error:null};i=c}else{const{data:c,error:u}=await this._getUser(e.access_token);if(u)throw u;i={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(et(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:o,error:c}=t;if(c)throw c;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new ka;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(et(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Us())throw new kp("No browser detected.");if(e.error||e.error_description||e.error_code)throw new kp(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new yE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new kp("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new yE("No code detected.");const{data:T,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:c,expires_at:u,token_type:f}=e;if(!i||!c||!o||!f)throw new kp("No session defined in URL");const p=Math.round(Date.now()/1e3),m=parseInt(c);let y=p+m;u&&(y=parseInt(u));const b=y-p;b*1e3<=Ac&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${m}s`);const w=y-m;p-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,y,p):p-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,y,p);const{data:S,error:k}=await this._getUser(i);if(k)throw k;const E={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:m,expires_at:y,refresh_token:o,token_type:f,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:e.type},error:null}}catch(r){if(et(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await _p(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:s,error:i}=t;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:c}=await this.admin.signOut(o,e);if(c&&!(Hz(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(await this._removeSession(),await Ep(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=t5(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,s;try{const{data:{session:i},error:o}=t;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,t={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await kc(this.storage,this.storageKey,!0));try{return await ut(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(et(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(et(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:s}=await this._useSession(async i=>{var o,c,u,f,p;const{data:m,error:y}=i;if(y)throw y;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await ut(this.fetch,"GET",b,{headers:this.headers,jwt:(p=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(s)throw s;return Us()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(et(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,s;const{data:i,error:o}=t;if(o)throw o;return await ut(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(t){if(et(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await i5(async s=>(s>0&&await s5(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await ut(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:_a})),(s,i)=>{const o=200*Math.pow(2,s);return i&&N0(i)&&Date.now()+o-r<Ac})}catch(r){if(this._debug(t,"error",r),et(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),Us()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=await _p(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r)){this._debug(t,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<A0;if(this._debug(t,`session has${s?"":" not"} expired with margin of ${A0}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),N0(i)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(t,"error",r),console.error(r);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new ka;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Fm;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new ka;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const c={session:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(s,"error",i),et(i)){const o={session:null,error:i};return N0(i)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,t)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await KM(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ep(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Us()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ac);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Ac);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ac}ms, refresh threshold is ${Wv} ticks`),s<=Wv&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof GM)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Us()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const s=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await kc(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(c.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:s,error:i}=t;return i?{data:null,error:i}:await ut(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(et(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,s;const{data:i,error:o}=t;if(o)return{data:null,error:o};const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:u,error:f}=await ut(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(e.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(t){if(et(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:s,error:i}=t;if(i)return{data:null,error:i};const{data:o,error:c}=await ut(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:c})})}catch(t){if(et(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:s,error:i}=t;return i?{data:null,error:i}:await ut(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(et(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=O0(s.access_token);let c=null;o.aal&&(c=o.aal);let u=c;((r=(t=s.user.factors)===null||t===void 0?void 0:t.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const p=o.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+$z>Date.now()))return r;const{data:s,error:i}=await ut(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Kd("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===e),!r)throw new Kd("No matching signing key found in JWKS");return r}async getClaims(e,t={keys:[]}){try{let r=e;if(!r){const{data:b,error:w}=await this.getSession();if(w||!b.session)return{data:null,error:w};r=b.session.access_token}const{header:s,payload:i,signature:o,raw:{header:c,payload:u}}=O0(r);if(f5(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:i,header:s,signature:o},error:null}}const f=h5(s.alg),p=await this.fetchJwk(s.kid,t),m=await crypto.subtle.importKey("jwk",p,f,!0,["verify"]);if(!await crypto.subtle.verify(f,m,o,Wz(`${c}.${u}`)))throw new Kd("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}}}of.nextInstanceID=0;const M5=of;class N5 extends M5{constructor(e){super(e)}}var O5=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function c(p){try{f(r.next(p))}catch(m){o(m)}}function u(p){try{f(r.throw(p))}catch(m){o(m)}}function f(p){p.done?i(p.value):s(p.value).then(c,u)}f((r=r.apply(n,e||[])).next())})};class j5{constructor(e,t,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const c=zz(e);this.realtimeUrl=`${c}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${c}/auth/v1`,this.storageUrl=`${c}/storage/v1`,this.functionsUrl=`${c}/functions/v1`;const u=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,f={db:Mz,realtime:Oz,auth:Object.assign(Object.assign({},Nz),{storageKey:u}),global:Az},p=Vz(r??{},f);this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=p.global.headers)!==null&&i!==void 0?i:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(m,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=p.auth)!==null&&o!==void 0?o:{},this.headers,p.global.fetch),this.fetch=Pz(t,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new Q3(`${c}/rest/v1`,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new V3(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ez(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return O5(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:c,debug:u},f,p){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new N5({url:this.authUrl,headers:Object.assign(Object.assign({},m),f),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,flowType:o,lock:c,debug:u,fetch:p,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new dz(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const R5=(n,e,t)=>new j5(n,e,t),D5="https://ytqtfazibpwawbtggqvd.supabase.co",P5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inl0cXRmYXppYnB3YXdidGdncXZkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM0ODU5ODEsImV4cCI6MjA1OTA2MTk4MX0.bMyuDUkFEfqeSwXwWSz__61dATkEs6arFnFz4kbDFZM",Ue=R5(D5,P5),L5=async n=>{const t=(n-1)*12,r=t+12-1,{data:s,error:i,count:o}=await Ue.from("products").select("*, variants(*)",{count:"exact"}).order("created_at",{ascending:!1}).range(t,r);if(i)throw console.log(i.message),new Error(i.message);return{products:s,count:o}},z5=async({page:n=1,brand:e=[]})=>{const r=(n-1)*12,s=r+12-1;let i=Ue.from("products").select("*, variants(*)",{count:"exact"}).order("created_at",{ascending:!1}).range(r,s);e.length>0&&(i=i.in("brand",e));const{data:o,error:c,count:u}=await i;if(c)throw console.log(c.message),new Error(c.message);return{data:o,count:u}},V5=async()=>{const{data:n,error:e}=await Ue.from("products").select("*, variants(*)").order("created_at",{ascending:!1}).limit(4);if(e)throw console.log(e.message),new Error(e.message);return n},B5=async()=>{const{data:n,error:e}=await Ue.from("products").select("*, variants(*)").order("created_at",{ascending:!1}).limit(20);if(e)throw console.log(e.message),new Error(e.message);return n.sort(()=>.5-Math.random()).slice(0,8)},I5=async n=>{const{data:e,error:t}=await Ue.from("products").select("*, variants(*)").eq("slug",n).single();if(t)throw console.log(t.message),new Error(t.message);return e},U5=async n=>{const{data:e,error:t}=await Ue.from("products").select("*, variants(*)").ilike("name",`%${n}%`);if(t)throw console.log(t.message),new Error(t.message);return e},F5=async n=>{try{const{data:e,error:t}=await Ue.from("products").insert({name:n.name,brand:n.brand,slug:n.slug,features:n.features,description:n.description,images:[]}).select().single();if(t)throw new Error(t.message);const r=e.id,s=await Promise.all(n.images.map(async u=>{const{data:f,error:p}=await Ue.storage.from("product-images").upload(`${r}/${e.id}-${u.name}`,u);if(p)throw new Error(p.message);return`${Ue.storage.from("product-images").getPublicUrl(f.path).data.publicUrl}`})),{error:i}=await Ue.from("products").update({images:s}).eq("id",e.id);if(i)throw new Error(i.message);const o=n.variants.map(u=>({product_id:e.id,stock:u.stock,price:u.price,size:u.size,color:u.color,color_name:u.colorName})),{error:c}=await Ue.from("variants").insert(o);if(c)throw new Error(c.message);return e}catch(e){throw console.log(e),new Error("Error creating product")}},$5=async n=>{const{error:e}=await Ue.from("variants").delete().eq("product_id",n);if(e)throw new Error(e.message);const{data:t,error:r}=await Ue.from("products").select("images").eq("id",n).single();if(r)throw new Error(r.message);const{error:s}=await Ue.from("products").delete().eq("id",n);if(s)throw new Error(s.message);if(t.images.length>0){const i=n,o=t.images.map(u=>{const f=u.split("/").pop();return`${i}/${f}`}),{error:c}=await Ue.storage.from("product-images").remove(o);if(c)throw new Error(c.message)}return!0},q5=async(n,e)=>{const{data:t,error:r}=await Ue.from("products").select("images").eq("id",n).single();if(r)throw new Error(r.message);const s=t.images||[],{data:i,error:o}=await Ue.from("products").update({name:e.name,brand:e.brand,slug:e.slug,features:e.features,description:e.description}).eq("id",n).select().single();if(o)throw new Error(o.message);const c=n,u=e.images.filter(T=>T),p=s.filter(T=>!u.includes(T)).map(j3);if(p.length>0){const{error:T}=await Ue.storage.from("product-images").remove(p);if(T)throw console.log(T),new Error(T.message);console.log(`Images deleted: ${p.join(", ")}`)}const m=await Promise.all(u.map(async T=>{if(T instanceof File){const{data:N,error:U}=await Ue.storage.from("product-images").upload(`${c}/${n}-${T.name}`,T);if(U)throw new Error(U.message);return Ue.storage.from("product-images").getPublicUrl(N.path).data.publicUrl}else{if(typeof T=="string")return T;throw new Error("Invalid image format")}})),{error:y}=await Ue.from("products").update({images:m}).eq("id",n);if(y)throw new Error(y.message);const b=e.variants.filter(T=>T.id),w=e.variants.filter(T=>!T.id);if(b.length>0){const{error:T}=await Ue.from("variants").upsert(b.map(N=>({id:N.id,product_id:n,stock:N.stock,price:N.price,size:N.size,color:N.color,color_name:N.colorName})),{onConflict:"id"});if(T)throw new Error(T.message)}let S=[];if(w.length>0){const{data:T,error:N}=await Ue.from("variants").insert(w.map(U=>({product_id:n,stock:U.stock,price:U.price,size:U.size,color:U.color,color_name:U.colorName}))).select();if(N)throw new Error(N.message);S=T.map(U=>U.id)}const k=[...b.map(T=>T.id),...S],{error:E}=await Ue.from("variants").delete().eq("product_id",n).not("id","in",`(${k?k.join(","):0})`);if(E)throw new Error(E.message);return i},H5=async({email:n,password:e,fullname:t,phone:r})=>{var s;try{const{data:i,error:o}=await Ue.auth.signUp({email:n,password:e});if(o)throw new Error(o.message);const c=(s=i.user)==null?void 0:s.id;if(!c)throw new Error("User not found");const{error:u}=await Ue.auth.signInWithPassword({email:n,password:e});if(u)throw console.log(u),new Error("Error signing in user");const{error:f}=await Ue.from("user_roles").insert({user_id:c,role:"customer"});if(f)throw console.log(f),new Error("Error creating user role");const{error:p}=await Ue.from("customers").insert({user_id:c,full_name:t,phone:r,email:n});if(p)throw console.log(p),new Error("Error creating customer profile");return i}catch(i){throw console.log(i),new Error("Error in sign up")}},K5=async({email:n,password:e})=>{const{data:t,error:r}=await Ue.auth.signInWithPassword({email:n,password:e});if(r)throw console.log(r),new Error("Error signing in");return t},ZM=async()=>{const{error:n}=await Ue.auth.signOut();if(n)throw console.log(n),new Error("Error signing out")},YM=async()=>{const{data:n,error:e}=await Ue.auth.getSession();if(e)throw console.log(e),new Error("Error getting session");return n},QM=async n=>{const{data:e,error:t}=await Ue.from("user_roles").select("role").eq("user_id",n).single();if(t)throw console.log(t),new Error("Error getting user role");return e.role},G5=async n=>{const{data:e,error:t}=await Ue.auth.getUser();if(t)throw console.log(t),new Error(t.message);const r=e.user.id,{data:s,error:i}=await Ue.from("customers").select("id").eq("user_id",r).single();if(i)throw console.log(i),new Error(i.message);const o=s.id;for(const b of n.cartItems){const{data:w,error:S}=await Ue.from("variants").select("stock").eq("id",b.variantId).single();if(S)throw console.log(S),new Error(S.message);if(w.stock<b.quantity)throw new Error("Not enough stock for variant")}const{data:c,error:u}=await Ue.from("addresses").insert({address_line1:n.address.addressLine1,address_line2:n.address.addressLine2,city:n.address.city,state:n.address.state,postal_code:n.address.postalCode,country:n.address.country,customer_id:o}).select().single();if(u)throw console.log(u),new Error(u.message);const{data:f,error:p}=await Ue.from("orders").insert({customer_id:o,address_id:c.id,total_amount:n.totalAmount,status:"Pending"}).select().single();if(p)throw console.log(p),new Error(p.message);const m=n.cartItems.map(b=>({order_id:f.id,variant_id:b.variantId,quantity:b.quantity,price:b.price})),{error:y}=await Ue.from("order_items").insert(m);if(y)throw console.log(y),new Error(y.message);for(const b of n.cartItems){const{data:w}=await Ue.from("variants").select("stock").eq("id",b.variantId).single();if(!w)throw new Error("Not found variant");const S=w.stock-b.quantity,{error:k}=await Ue.from("variants").update({stock:S}).eq("id",b.variantId);if(k)throw console.log(k),new Error("Error updating stock for variant")}return f},Z5=async()=>{const{data:n,error:e}=await Ue.auth.getUser();if(e)throw console.log(e),new Error(e.message);const{data:t,error:r}=await Ue.from("customers").select("id").eq("user_id",n.user.id).single();if(r)throw console.log(r),new Error(r.message);const s=t.id,{data:i,error:o}=await Ue.from("orders").select("id, total_amount, status, created_at").eq("customer_id",s).order("created_at",{ascending:!1});if(o)throw console.log(o),new Error(o.message);return i},JM=async n=>{var r,s,i,o,c,u,f,p;const{data:e,error:t}=await Ue.from("orders").select("*, addresses(*), customers(full_name, email), order_items(quantity, price, variants(color_name, size, products(name, images)))").eq("id",n).single();if(t)throw console.log(t),new Error(t.message);if(!e)throw new Error("Order not found");return{customer:{email:(r=e==null?void 0:e.customers)==null?void 0:r.email,full_name:(s=e.customers)==null?void 0:s.full_name},totalAmount:e.total_amount,status:e.status,created_at:e.created_at,address:{addressLine1:(i=e.addresses)==null?void 0:i.address_line1,addressLine2:(o=e.addresses)==null?void 0:o.address_line2,city:(c=e.addresses)==null?void 0:c.city,state:(u=e.addresses)==null?void 0:u.state,postalCode:(f=e.addresses)==null?void 0:f.postal_code,country:(p=e.addresses)==null?void 0:p.country},orderItems:e.order_items.map(m=>{var y,b,w,S,k,E;return{quantity:m.quantity,price:m.price,color_name:(y=m.variants)==null?void 0:y.color_name,size:(b=m.variants)==null?void 0:b.size,productName:(S=(w=m.variants)==null?void 0:w.products)==null?void 0:S.name,productImage:(E=(k=m.variants)==null?void 0:k.products)==null?void 0:E.images[0]}})}},Y5=async()=>{const{data:n,error:e}=await Ue.from("orders").select("id, total_amount, status, created_at, customers(full_name, email)").order("created_at",{ascending:!1});if(e)throw console.log(e),new Error(e.message);return n},Q5=async({id:n,status:e})=>{const{error:t}=await Ue.from("orders").update({status:e}).eq("id",n);if(t)throw console.log(t),new Error(t.message)},J5=({page:n=1})=>{const{data:e,isLoading:t}=Zi({queryKey:["products",n],queryFn:()=>L5(n),staleTime:3e5});return{products:e==null?void 0:e.products,isLoading:t,totalProducts:(e==null?void 0:e.count)??0}},X5=({page:n,brand:e})=>{const{data:t,isLoading:r}=Zi({queryKey:["filteredProducts",n,e],queryFn:()=>z5({page:n,brand:e}),retry:!1});return{data:t==null?void 0:t.data,isLoading:r,totalProducts:(t==null?void 0:t.count)??0}},W5=()=>{const n=M3({queries:[{queryKey:["recentProducts"],queryFn:V5},{queryKey:["popularProducts"],queryFn:B5}]}),[e,t]=n,r=e.isLoading||t.isLoading,s=e.error||t.error;return{recentProducts:e.data||[],popularProducts:t.data||[],isLoading:r,isError:s}};let eV={data:""},tV=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||eV,nV=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,rV=/\/\*[^]*?\*\/|  +/g,TE=/\n+/g,ja=(n,e)=>{let t="",r="",s="";for(let i in n){let o=n[i];i[0]=="@"?i[1]=="i"?t=i+" "+o+";":r+=i[1]=="f"?ja(o,i):i+"{"+ja(o,i[1]=="k"?"":e)+"}":typeof o=="object"?r+=ja(o,e?e.replace(/([^,])+/g,c=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,c):c?c+" "+u:u)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=ja.p?ja.p(i,o):i+":"+o+";")}return t+(e&&s?e+"{"+s+"}":s)+r},Ai={},XM=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+XM(n[t]);return e}return n},sV=(n,e,t,r,s)=>{let i=XM(n),o=Ai[i]||(Ai[i]=(u=>{let f=0,p=11;for(;f<u.length;)p=101*p+u.charCodeAt(f++)>>>0;return"go"+p})(i));if(!Ai[o]){let u=i!==n?n:(f=>{let p,m,y=[{}];for(;p=nV.exec(f.replace(rV,""));)p[4]?y.shift():p[3]?(m=p[3].replace(TE," ").trim(),y.unshift(y[0][m]=y[0][m]||{})):y[0][p[1]]=p[2].replace(TE," ").trim();return y[0]})(n);Ai[o]=ja(s?{["@keyframes "+o]:u}:u,t?"":"."+o)}let c=t&&Ai.g?Ai.g:null;return t&&(Ai.g=Ai[o]),((u,f,p,m)=>{m?f.data=f.data.replace(m,u):f.data.indexOf(u)===-1&&(f.data=p?u+f.data:f.data+u)})(Ai[o],e,r,c),o},iV=(n,e,t)=>n.reduce((r,s,i)=>{let o=e[i];if(o&&o.call){let c=o(t),u=c&&c.props&&c.props.className||/^go/.test(c)&&c;o=u?"."+u:c&&typeof c=="object"?c.props?"":ja(c,""):c===!1?"":c}return r+s+(o??"")},"");function $m(n){let e=this||{},t=n.call?n(e.p):n;return sV(t.unshift?t.raw?iV(t,[].slice.call(arguments,1),e.p):t.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):t,tV(e.target),e.g,e.o,e.k)}let WM,nb,rb;$m.bind({g:1});let $i=$m.bind({k:1});function aV(n,e,t,r){ja.p=e,WM=n,nb=t,rb=r}function uo(n,e){let t=this||{};return function(){let r=arguments;function s(i,o){let c=Object.assign({},i),u=c.className||s.className;t.p=Object.assign({theme:nb&&nb()},c),t.o=/ *go\d+/.test(u),c.className=$m.apply(t,r)+(u?" "+u:"");let f=n;return n[0]&&(f=c.as||n,delete c.as),rb&&f[0]&&rb(c),WM(f,c)}return s}}var oV=n=>typeof n=="function",lm=(n,e)=>oV(n)?n(e):n,lV=(()=>{let n=0;return()=>(++n).toString()})(),eN=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),cV=20,tN=(n,e)=>{switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,cV)};case 1:return{...n,toasts:n.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:t}=e;return tN(n,{type:n.toasts.find(i=>i.id===t.id)?1:0,toast:t});case 3:let{toastId:r}=e;return{...n,toasts:n.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let s=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},$p=[],Qo={toasts:[],pausedAt:void 0},Nl=n=>{Qo=tN(Qo,n),$p.forEach(e=>{e(Qo)})},uV={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},dV=(n={})=>{let[e,t]=M.useState(Qo),r=M.useRef(Qo);M.useEffect(()=>(r.current!==Qo&&t(Qo),$p.push(t),()=>{let i=$p.indexOf(t);i>-1&&$p.splice(i,1)}),[]);let s=e.toasts.map(i=>{var o,c,u;return{...n,...n[i.type],...i,removeDelay:i.removeDelay||((o=n[i.type])==null?void 0:o.removeDelay)||(n==null?void 0:n.removeDelay),duration:i.duration||((c=n[i.type])==null?void 0:c.duration)||(n==null?void 0:n.duration)||uV[i.type],style:{...n.style,...(u=n[i.type])==null?void 0:u.style,...i.style}}});return{...e,toasts:s}},fV=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:(t==null?void 0:t.id)||lV()}),Qf=n=>(e,t)=>{let r=fV(e,n,t);return Nl({type:2,toast:r}),r.id},Un=(n,e)=>Qf("blank")(n,e);Un.error=Qf("error");Un.success=Qf("success");Un.loading=Qf("loading");Un.custom=Qf("custom");Un.dismiss=n=>{Nl({type:3,toastId:n})};Un.remove=n=>Nl({type:4,toastId:n});Un.promise=(n,e,t)=>{let r=Un.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof n=="function"&&(n=n()),n.then(s=>{let i=e.success?lm(e.success,s):void 0;return i?Un.success(i,{id:r,...t,...t==null?void 0:t.success}):Un.dismiss(r),s}).catch(s=>{let i=e.error?lm(e.error,s):void 0;i?Un.error(i,{id:r,...t,...t==null?void 0:t.error}):Un.dismiss(r)}),n};var hV=(n,e)=>{Nl({type:1,toast:{id:n,height:e}})},pV=()=>{Nl({type:5,time:Date.now()})},Zd=new Map,mV=1e3,gV=(n,e=mV)=>{if(Zd.has(n))return;let t=setTimeout(()=>{Zd.delete(n),Nl({type:4,toastId:n})},e);Zd.set(n,t)},yV=n=>{let{toasts:e,pausedAt:t}=dV(n);M.useEffect(()=>{if(t)return;let i=Date.now(),o=e.map(c=>{if(c.duration===1/0)return;let u=(c.duration||0)+c.pauseDuration-(i-c.createdAt);if(u<0){c.visible&&Un.dismiss(c.id);return}return setTimeout(()=>Un.dismiss(c.id),u)});return()=>{o.forEach(c=>c&&clearTimeout(c))}},[e,t]);let r=M.useCallback(()=>{t&&Nl({type:6,time:Date.now()})},[t]),s=M.useCallback((i,o)=>{let{reverseOrder:c=!1,gutter:u=8,defaultPosition:f}=o||{},p=e.filter(b=>(b.position||f)===(i.position||f)&&b.height),m=p.findIndex(b=>b.id===i.id),y=p.filter((b,w)=>w<m&&b.visible).length;return p.filter(b=>b.visible).slice(...c?[y+1]:[0,y]).reduce((b,w)=>b+(w.height||0)+u,0)},[e]);return M.useEffect(()=>{e.forEach(i=>{if(i.dismissed)gV(i.id,i.removeDelay);else{let o=Zd.get(i.id);o&&(clearTimeout(o),Zd.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:hV,startPause:pV,endPause:r,calculateOffset:s}}},vV=$i`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,bV=$i`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,xV=$i`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,wV=uo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${vV} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${bV} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${xV} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,SV=$i`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,kV=uo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${SV} 1s linear infinite;
`,_V=$i`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,EV=$i`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,TV=uo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_V} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${EV} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,CV=uo("div")`
  position: absolute;
`,AV=uo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,MV=$i`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,NV=uo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${MV} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,OV=({toast:n})=>{let{icon:e,type:t,iconTheme:r}=n;return e!==void 0?typeof e=="string"?M.createElement(NV,null,e):e:t==="blank"?null:M.createElement(AV,null,M.createElement(kV,{...r}),t!=="loading"&&M.createElement(CV,null,t==="error"?M.createElement(wV,{...r}):M.createElement(TV,{...r})))},jV=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,RV=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,DV="0%{opacity:0;} 100%{opacity:1;}",PV="0%{opacity:1;} 100%{opacity:0;}",LV=uo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,zV=uo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,VV=(n,e)=>{let t=n.includes("top")?1:-1,[r,s]=eN()?[DV,PV]:[jV(t),RV(t)];return{animation:e?`${$i(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${$i(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},BV=M.memo(({toast:n,position:e,style:t,children:r})=>{let s=n.height?VV(n.position||e||"top-center",n.visible):{opacity:0},i=M.createElement(OV,{toast:n}),o=M.createElement(zV,{...n.ariaProps},lm(n.message,n));return M.createElement(LV,{className:n.className,style:{...s,...t,...n.style}},typeof r=="function"?r({icon:i,message:o}):M.createElement(M.Fragment,null,i,o))});aV(M.createElement);var IV=({id:n,className:e,style:t,onHeightUpdate:r,children:s})=>{let i=M.useCallback(o=>{if(o){let c=()=>{let u=o.getBoundingClientRect().height;r(n,u)};c(),new MutationObserver(c).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[n,r]);return M.createElement("div",{ref:i,className:e,style:t},s)},UV=(n,e)=>{let t=n.includes("top"),r=t?{top:0}:{bottom:0},s=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:eN()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...r,...s}},FV=$m`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Tp=16,$V=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:r,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:c,handlers:u}=yV(t);return M.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Tp,left:Tp,right:Tp,bottom:Tp,pointerEvents:"none",...i},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(f=>{let p=f.position||e,m=u.calculateOffset(f,{reverseOrder:n,gutter:r,defaultPosition:e}),y=UV(p,m);return M.createElement(IV,{id:f.id,key:f.id,onHeightUpdate:u.updateHeight,className:f.visible?FV:"",style:y},f.type==="custom"?lm(f.message,f):s?s(f):M.createElement(BV,{toast:f,position:p}))}))},Vr=Un;const qV=()=>{const n=ii(),e=bn(),{mutate:t,isPending:r}=Al({mutationFn:F5,onSuccess:()=>{n.invalidateQueries({queryKey:["products"]}),e("/dashboard/product")},onError:s=>{Vr.error("Error creating product"),console.log(s)}});return{mutate:t,isPending:r}},nN=n=>{const{data:e,isLoading:t,isError:r}=Zi({queryKey:["product",n],queryFn:()=>I5(n),retry:!1});return{product:e,isError:r,isLoading:t}},HV=()=>{const n=ii(),{mutate:e,isPending:t}=Al({mutationFn:$5,onSuccess:()=>{n.invalidateQueries({queryKey:["products"]}),Vr.success("Product deleted successfully",{position:"bottom-right"})},onError:r=>{console.log(r),Vr.error("Error deleted product",{position:"bottom-right"})}});return{mutate:e,isPending:t}},KV=n=>{const e=ii(),t=bn(),{mutate:r,isPending:s}=Al({mutationFn:async i=>q5(n,i),onSuccess:()=>{e.invalidateQueries({queryKey:["products"]}),Vr.success("Product updated successfully",{position:"bottom-right"}),t("/dashboard/product")},onError:i=>{console.log(i),Vr.error("Error updating product",{position:"bottom-right"})}});return{mutate:r,isPending:s}},Ol=()=>{const{data:n,isLoading:e}=Zi({queryKey:["user"],queryFn:YM,retry:!1,refetchOnWindowFocus:!0});return{session:n==null?void 0:n.session,isLoading:e}},GV=()=>{const n=bn(),e=ii(),{mutate:t,isPending:r}=Al({mutationFn:K5,onSuccess:()=>{e.invalidateQueries({queryKey:["user"]}),n("/")},onError:s=>{Vr.error(s.message,{position:"bottom-right",duration:2e3})}});return{mutate:t,isPending:r}},ZV=()=>{const n=bn(),e=ii(),{mutate:t,isPending:r}=Al({mutationFn:H5,onSuccess:()=>{e.invalidateQueries({queryKey:["user"]}),n("/")},onError:s=>{Vr.error(s.message,{position:"bottom-right",duration:2e3})}});return{mutate:t,isPending:r}},YV=n=>{const{data:e,isLoading:t}=Zi({queryKey:["rol-user"],queryFn:async()=>await QM(n),enabled:!!n});return{data:e,isLoading:t}},QV=()=>{const n=ii(),e=bn(),{mutate:t,isPending:r}=Al({mutationFn:G5,onSuccess:s=>{n.invalidateQueries({queryKey:["orders"]}),e(`/checkout/${s.id}/thank-you`)},onError:s=>{Vr.error(s.message,{position:"bottom-right",duration:2e3})}});return{mutate:t,isPending:r}},rN=n=>{const{data:e,isLoading:t,isError:r}=Zi({queryKey:["order",n],queryFn:()=>JM(n),enabled:!!n,retry:!1});return{data:e,isLoading:t,isError:r}},JV=()=>{const{data:n,isLoading:e}=Zi({queryKey:["orders"],queryFn:Z5,retry:!1});return{data:n,isLoading:e}},XV=()=>{const n=ii(),{mutate:e,isPending:t}=Al({mutationFn:Q5,onSuccess:()=>{n.invalidateQueries({queryKey:["orders","admin"]}),Vr.success("Order status updated",{position:"bottom-right",duration:2e3})},onError:r=>{console.log(r),Vr.error("Something went wrong",{position:"bottom-right",duration:2e3})}});return{mutate:e,isPending:t}},WV=n=>{const{data:e,isLoading:t}=Zi({queryKey:["order","admin",n],queryFn:()=>JM(n),enabled:!!n,retry:!1});return{data:e,isLoading:t}},On=()=>v.jsx("div",{className:"flex items-center flex-col justify-center mt-20",children:v.jsx(R4,{className:"animate-spin-clockwise text-black",size:60})}),eB=()=>{const n=Fi(i=>i.setActiveNavMobile),e=Fi(i=>i.openSheet),t=_r(i=>i.totalItemsInCart),{session:r,isLoading:s}=Ol();return r==null||r.user.id,v.jsx("div",{children:v.jsxs("header",{className:"flex justify-between items-center py-4 px-5 lg:px-12",children:[v.jsx(px,{}),v.jsx("nav",{className:"space-x-5 hidden md:flex",children:lM.map(i=>v.jsx(cu,{to:i.href,className:({isActive:o})=>o?"text-black hover:text-gray-600 transition mx-2":"text-black hover:text-gray-500 transition mx-2",children:i.title},i.id))}),v.jsxs("div",{className:"flex items-center gap-5 mr-24 md:mr-0 ",children:[v.jsx("button",{onClick:()=>e("search"),children:v.jsx(aM,{stroke:1.5,width:25,height:25,className:"text-black"})}),s?v.jsx(On,{}):r?v.jsx("div",{className:"relative",children:v.jsx(bt,{to:"/account",children:v.jsx($4,{stroke:1.5,size:25,className:"text-black"})})}):v.jsx(bt,{to:"/login",children:v.jsx(q4,{stroke:1.5,size:25,className:"text-black"})}),v.jsxs("button",{className:"relative",onClick:()=>e("cart"),children:[v.jsx("span",{className:"absolute top-[-5px] right-[-10px] h-4 w-4 bg-red-500 rounded-full flex items-center justify-center text-white text-xs",children:t}),v.jsx(oM,{stroke:1.5,width:25,height:25,className:"text-black"})]})]}),v.jsx("button",{className:"md:hidden",onClick:()=>n(!0),children:v.jsx(P4,{stroke:1.5,width:25,height:25,className:"text-black"})})]})})},tB=()=>v.jsx(bt,{to:"/",className:"flex items-center",children:v.jsx("img",{src:"/logo.jpeg",alt:"Logo",height:85,width:85,className:"mx-4"})}),nB=()=>v.jsxs("footer",{className:"py-16 flex px-4 justify-between flex-wrap gap-8 bg-black text-white text-sm mt-10",children:[v.jsx("div",{className:"flex items-center",children:v.jsx(tB,{})}),v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsx("h4",{className:"text-lg font-bold uppercase",children:"Company"}),v.jsx(bt,{to:"/about",className:"hover:text-gray-500",children:"About Us"}),v.jsx(bt,{to:"/Contact us",className:"hover:text-gray-500",children:"Contact Us"}),v.jsx(bt,{to:"/Shop All",className:"hover:text-gray-500",children:"Shop All"})]}),v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsx("h4",{className:"text-lg font-bold uppercase",children:"Support"}),v.jsx(bt,{to:"/faq",className:"hover:text-gray-300",children:"FAQ"}),v.jsx(bt,{to:"/shipping",className:"hover:text-gray-500",children:"Shipping"}),v.jsx(bt,{to:"/returns",className:"hover:text-gray-500",children:"Returns"})]}),v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsx("h4",{className:"text-lg font-bold uppercase",children:"Follow Me"}),v.jsx("p",{className:"text-gray-300",children:" Follow me for more projects"}),v.jsx("div",{className:"flex gap-2",children:Z4.map(n=>v.jsx("a",{href:n.href,target:"_blank",rel:"noreferrer",className:"hover:text-gray-500 border border-gray-500 w-10 h-10 flex items-center justify-center rounded-full transition-all",children:v.jsx(n.icon,{className:"w-6 h-6"})},n.id))})]})]}),rB=()=>v.jsx("div",{children:v.jsxs("div",{className:"flex flex-col items-center justify-center w-full py-32",children:[v.jsx("h1",{className:"text-6xl animate-fade-in animate-delay-200 font-bold text-center animate-text-gradient inline-flex bg-gradient-to-r from-neutral-900 via-slate-500 to-neutral-500 bg-[200%_auto] bg-clip-text leading-tight text-transparent  dark:via-slate-400 dark:to-neutral-400",children:"Welcome to A & N Ecommerce"}),v.jsx("p",{className:"text-lg font-normal mt-2 text-center leading-6 text-black ",children:"The best place to shop online"}),v.jsxs("div",{className:"mt-10 flex gap-4",children:[v.jsx(bt,{to:"/Shop All",children:v.jsxs("button",{className:"inline-flex items-center justify-center text-sm font-medium bg-gray-600 rounded-full bg-secondary text-secondary-foreground hover:bg-slate-400 transition-all h-10 px-4 py-2",children:["Go to shop",v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"pl-0.5",children:[v.jsx("path",{d:"M5 12h14"}),v.jsx("path",{d:"m12 5 7 7-7 7"})]})]})}),v.jsx(bt,{to:"/about",children:v.jsx("button",{className:"inline-flex items-center justify-center text-sm font-medium bg-gray-600 rounded-full bg-secondary text-secondary-foreground hover:bg-slate-400 h-10 px-4 py-2",children:" About Us"})})]})]})}),Tx=M.createContext({});function Cx(n){const e=M.useRef(null);return e.current===null&&(e.current=n()),e.current}const Ax=typeof window<"u",sN=Ax?M.useLayoutEffect:M.useEffect,qm=M.createContext(null),Mx=M.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class sB extends M.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=t.offsetParent,s=r instanceof HTMLElement&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function iB({children:n,isPresent:e,anchorX:t}){const r=M.useId(),s=M.useRef(null),i=M.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=M.useContext(Mx);return M.useInsertionEffect(()=>{const{width:c,height:u,top:f,left:p,right:m}=i.current;if(e||!s.current||!c||!u)return;const y=t==="left"?`left: ${p}`:`right: ${m}`;s.current.dataset.motionPopId=r;const b=document.createElement("style");return o&&(b.nonce=o),document.head.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${y}px !important;
            top: ${f}px !important;
          }
        `),()=>{document.head.removeChild(b)}},[e]),v.jsx(sB,{isPresent:e,childRef:s,sizeRef:i,children:M.cloneElement(n,{ref:s})})}const aB=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:c})=>{const u=Cx(oB),f=M.useId();let p=!0,m=M.useMemo(()=>(p=!1,{id:f,initial:e,isPresent:t,custom:s,onExitComplete:y=>{u.set(y,!0);for(const b of u.values())if(!b)return;r&&r()},register:y=>(u.set(y,!1),()=>u.delete(y))}),[t,u,r]);return i&&p&&(m={...m}),M.useMemo(()=>{u.forEach((y,b)=>u.set(b,!1))},[t]),M.useEffect(()=>{!t&&!u.size&&r&&r()},[t]),o==="popLayout"&&(n=v.jsx(iB,{isPresent:t,anchorX:c,children:n})),v.jsx(qm.Provider,{value:m,children:n})};function oB(){return new Map}function iN(n=!0){const e=M.useContext(qm);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:s}=e,i=M.useId();M.useEffect(()=>{if(n)return s(i)},[n]);const o=M.useCallback(()=>n&&r&&r(i),[i,r,n]);return!t&&r?[!1,o]:[!0]}const Cp=n=>n.key||"";function CE(n){const e=[];return M.Children.forEach(n,t=>{M.isValidElement(t)&&e.push(t)}),e}const lB=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:c="left"})=>{const[u,f]=iN(o),p=M.useMemo(()=>CE(n),[n]),m=o&&!u?[]:p.map(Cp),y=M.useRef(!0),b=M.useRef(p),w=Cx(()=>new Map),[S,k]=M.useState(p),[E,T]=M.useState(p);sN(()=>{y.current=!1,b.current=p;for(let A=0;A<E.length;A++){const L=Cp(E[A]);m.includes(L)?w.delete(L):w.get(L)!==!0&&w.set(L,!1)}},[E,m.length,m.join("-")]);const N=[];if(p!==S){let A=[...p];for(let L=0;L<E.length;L++){const I=E[L],F=Cp(I);m.includes(F)||(A.splice(L,0,I),N.push(I))}return i==="wait"&&N.length&&(A=N),T(CE(A)),k(p),null}const{forceRender:U}=M.useContext(Tx);return v.jsx(v.Fragment,{children:E.map(A=>{const L=Cp(A),I=o&&!u?!1:p===E||m.includes(L),F=()=>{if(w.has(L))w.set(L,!0);else return;let z=!0;w.forEach(te=>{te||(z=!1)}),z&&(U==null||U(),T(b.current),o&&(f==null||f()),r&&r())};return v.jsx(aB,{isPresent:I,initial:!y.current||t?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,onExitComplete:I?void 0:F,anchorX:c,children:A},L)})})};function Nx(n,e){n.indexOf(e)===-1&&n.push(e)}function Ox(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const qi=(n,e,t)=>t>e?e:t<n?n:t;let jx=()=>{};const Hi={},aN=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),oN=n=>/^0[^.\s]+$/u.test(n);function Rx(n){let e;return()=>(e===void 0&&(e=n()),e)}const ps=n=>n,cB=(n,e)=>t=>e(n(t)),Jf=(...n)=>n.reduce(cB),lf=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class Dx{constructor(){this.subscriptions=[]}add(e){return Nx(this.subscriptions,e),()=>Ox(this.subscriptions,e)}notify(e,t,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Js=n=>n*1e3,Xs=n=>n/1e3;function lN(n,e){return e?n*(1e3/e):0}const cN=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,uB=1e-7,dB=12;function fB(n,e,t,r,s){let i,o,c=0;do o=e+(t-e)/2,i=cN(o,r,s)-n,i>0?t=o:e=o;while(Math.abs(i)>uB&&++c<dB);return o}function Xf(n,e,t,r){if(n===e&&t===r)return ps;const s=i=>fB(i,0,1,n,t);return i=>i===0||i===1?i:cN(s(i),e,r)}const uN=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,dN=n=>e=>1-n(1-e),fN=Xf(.33,1.53,.69,.99),Px=dN(fN),hN=uN(Px),pN=n=>(n*=2)<1?.5*Px(n):.5*(2-Math.pow(2,-10*(n-1))),Lx=n=>1-Math.sin(Math.acos(n)),mN=dN(Lx),gN=uN(Lx),hB=Xf(.42,0,1,1),pB=Xf(0,0,.58,1),yN=Xf(.42,0,.58,1),mB=n=>Array.isArray(n)&&typeof n[0]!="number",vN=n=>Array.isArray(n)&&typeof n[0]=="number",gB={linear:ps,easeIn:hB,easeInOut:yN,easeOut:pB,circIn:Lx,circInOut:gN,circOut:mN,backIn:Px,backInOut:hN,backOut:fN,anticipate:pN},yB=n=>typeof n=="string",AE=n=>{if(vN(n)){jx(n.length===4);const[e,t,r,s]=n;return Xf(e,t,r,s)}else if(yB(n))return gB[n];return n},Ap=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],ME={value:null};function vB(n,e){let t=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},u=0;function f(m){o.has(m)&&(p.schedule(m),n()),u++,m(c)}const p={schedule:(m,y=!1,b=!1)=>{const S=b&&s?t:r;return y&&o.add(m),S.has(m)||S.add(m),m},cancel:m=>{r.delete(m),o.delete(m)},process:m=>{if(c=m,s){i=!0;return}s=!0,[t,r]=[r,t],t.forEach(f),e&&ME.value&&ME.value.frameloop[e].push(u),u=0,t.clear(),s=!1,i&&(i=!1,p.process(m))}};return p}const bB=40;function bN(n,e){let t=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>t=!0,o=Ap.reduce((N,U)=>(N[U]=vB(i,e?U:void 0),N),{}),{setup:c,read:u,resolveKeyframes:f,preUpdate:p,update:m,preRender:y,render:b,postRender:w}=o,S=()=>{const N=Hi.useManualTiming?s.timestamp:performance.now();t=!1,Hi.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(N-s.timestamp,bB),1)),s.timestamp=N,s.isProcessing=!0,c.process(s),u.process(s),f.process(s),p.process(s),m.process(s),y.process(s),b.process(s),w.process(s),s.isProcessing=!1,t&&e&&(r=!1,n(S))},k=()=>{t=!0,r=!0,s.isProcessing||n(S)};return{schedule:Ap.reduce((N,U)=>{const A=o[U];return N[U]=(L,I=!1,F=!1)=>(t||k(),A.schedule(L,I,F)),N},{}),cancel:N=>{for(let U=0;U<Ap.length;U++)o[Ap[U]].cancel(N)},state:s,steps:o}}const{schedule:Lt,cancel:eo,state:In,steps:j0}=bN(typeof requestAnimationFrame<"u"?requestAnimationFrame:ps,!0);let qp;function xB(){qp=void 0}const Sr={now:()=>(qp===void 0&&Sr.set(In.isProcessing||Hi.useManualTiming?In.timestamp:performance.now()),qp),set:n=>{qp=n,queueMicrotask(xB)}},xN=n=>e=>typeof e=="string"&&e.startsWith(n),zx=xN("--"),wB=xN("var(--"),Vx=n=>wB(n)?SB.test(n.split("/*")[0].trim()):!1,SB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Tu={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},cf={...Tu,transform:n=>qi(0,1,n)},Mp={...Tu,default:1},Yd=n=>Math.round(n*1e5)/1e5,Bx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kB(n){return n==null}const _B=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ix=(n,e)=>t=>!!(typeof t=="string"&&_B.test(t)&&t.startsWith(n)||e&&!kB(t)&&Object.prototype.hasOwnProperty.call(t,e)),wN=(n,e,t)=>r=>{if(typeof r!="string")return r;const[s,i,o,c]=r.match(Bx);return{[n]:parseFloat(s),[e]:parseFloat(i),[t]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},EB=n=>qi(0,255,n),R0={...Tu,transform:n=>Math.round(EB(n))},Jo={test:Ix("rgb","red"),parse:wN("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+R0.transform(n)+", "+R0.transform(e)+", "+R0.transform(t)+", "+Yd(cf.transform(r))+")"};function TB(n){let e="",t="",r="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const sb={test:Ix("#"),parse:TB,transform:Jo.transform},Wf=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Ea=Wf("deg"),Ws=Wf("%"),$e=Wf("px"),CB=Wf("vh"),AB=Wf("vw"),NE={...Ws,parse:n=>Ws.parse(n)/100,transform:n=>Ws.transform(n*100)},jc={test:Ix("hsl","hue"),parse:wN("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Ws.transform(Yd(e))+", "+Ws.transform(Yd(t))+", "+Yd(cf.transform(r))+")"},Qn={test:n=>Jo.test(n)||sb.test(n)||jc.test(n),parse:n=>Jo.test(n)?Jo.parse(n):jc.test(n)?jc.parse(n):sb.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Jo.transform(n):jc.transform(n)},MB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function NB(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Bx))==null?void 0:e.length)||0)+(((t=n.match(MB))==null?void 0:t.length)||0)>0}const SN="number",kN="color",OB="var",jB="var(",OE="${}",RB=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function uf(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},s=[];let i=0;const c=e.replace(RB,u=>(Qn.test(u)?(r.color.push(i),s.push(kN),t.push(Qn.parse(u))):u.startsWith(jB)?(r.var.push(i),s.push(OB),t.push(u)):(r.number.push(i),s.push(SN),t.push(parseFloat(u))),++i,OE)).split(OE);return{values:t,split:c,indexes:r,types:s}}function _N(n){return uf(n).values}function EN(n){const{split:e,types:t}=uf(n),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const c=t[o];c===SN?i+=Yd(s[o]):c===kN?i+=Qn.transform(s[o]):i+=s[o]}return i}}const DB=n=>typeof n=="number"?0:n;function PB(n){const e=_N(n);return EN(n)(e.map(DB))}const to={test:NB,parse:_N,createTransformer:EN,getAnimatableNone:PB};function D0(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function LB({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let s=0,i=0,o=0;if(!e)s=i=o=t;else{const c=t<.5?t*(1+e):t+e-t*e,u=2*t-c;s=D0(u,c,n+1/3),i=D0(u,c,n),o=D0(u,c,n-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function cm(n,e){return t=>t>0?e:n}const Kt=(n,e,t)=>n+(e-n)*t,P0=(n,e,t)=>{const r=n*n,s=t*(e*e-r)+r;return s<0?0:Math.sqrt(s)},zB=[sb,Jo,jc],VB=n=>zB.find(e=>e.test(n));function jE(n){const e=VB(n);if(!e)return!1;let t=e.parse(n);return e===jc&&(t=LB(t)),t}const RE=(n,e)=>{const t=jE(n),r=jE(e);if(!t||!r)return cm(n,e);const s={...t};return i=>(s.red=P0(t.red,r.red,i),s.green=P0(t.green,r.green,i),s.blue=P0(t.blue,r.blue,i),s.alpha=Kt(t.alpha,r.alpha,i),Jo.transform(s))},ib=new Set(["none","hidden"]);function BB(n,e){return ib.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function IB(n,e){return t=>Kt(n,e,t)}function Ux(n){return typeof n=="number"?IB:typeof n=="string"?Vx(n)?cm:Qn.test(n)?RE:$B:Array.isArray(n)?TN:typeof n=="object"?Qn.test(n)?RE:UB:cm}function TN(n,e){const t=[...n],r=t.length,s=n.map((i,o)=>Ux(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)t[o]=s[o](i);return t}}function UB(n,e){const t={...n,...e},r={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(r[s]=Ux(n[s])(n[s],e[s]));return s=>{for(const i in r)t[i]=r[i](s);return t}}function FB(n,e){const t=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=n.indexes[i][r[i]],c=n.values[o]??0;t[s]=c,r[i]++}return t}const $B=(n,e)=>{const t=to.createTransformer(e),r=uf(n),s=uf(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?ib.has(n)&&!s.values.length||ib.has(e)&&!r.values.length?BB(n,e):Jf(TN(FB(r,s),s.values),t):cm(n,e)};function CN(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Kt(n,e,t):Ux(n)(n,e)}const qB=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Lt.update(e,!0),stop:()=>eo(e),now:()=>In.isProcessing?In.timestamp:Sr.now()}},AN=(n,e,t=10)=>{let r="";const s=Math.max(Math.round(e/t),2);for(let i=0;i<s;i++)r+=n(i/(s-1))+", ";return`linear(${r.substring(0,r.length-2)})`},um=2e4;function Fx(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<um;)e+=t,r=n.next(e);return e>=um?1/0:e}function HB(n,e=100,t){const r=t({...n,keyframes:[0,e]}),s=Math.min(Fx(r),um);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Xs(s)}}const KB=5;function MN(n,e,t){const r=Math.max(e-KB,0);return lN(t-n(r),e-r)}const en={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},DE=.001;function GB({duration:n=en.duration,bounce:e=en.bounce,velocity:t=en.velocity,mass:r=en.mass}){let s,i,o=1-e;o=qi(en.minDamping,en.maxDamping,o),n=qi(en.minDuration,en.maxDuration,Xs(n)),o<1?(s=f=>{const p=f*o,m=p*n,y=p-t,b=ab(f,o),w=Math.exp(-m);return DE-y/b*w},i=f=>{const m=f*o*n,y=m*t+t,b=Math.pow(o,2)*Math.pow(f,2)*n,w=Math.exp(-m),S=ab(Math.pow(f,2),o);return(-s(f)+DE>0?-1:1)*((y-b)*w)/S}):(s=f=>{const p=Math.exp(-f*n),m=(f-t)*n+1;return-.001+p*m},i=f=>{const p=Math.exp(-f*n),m=(t-f)*(n*n);return p*m});const c=5/n,u=YB(s,i,c);if(n=Js(n),isNaN(u))return{stiffness:en.stiffness,damping:en.damping,duration:n};{const f=Math.pow(u,2)*r;return{stiffness:f,damping:o*2*Math.sqrt(r*f),duration:n}}}const ZB=12;function YB(n,e,t){let r=t;for(let s=1;s<ZB;s++)r=r-n(r)/e(r);return r}function ab(n,e){return n*Math.sqrt(1-e*e)}const QB=["duration","bounce"],JB=["stiffness","damping","mass"];function PE(n,e){return e.some(t=>n[t]!==void 0)}function XB(n){let e={velocity:en.velocity,stiffness:en.stiffness,damping:en.damping,mass:en.mass,isResolvedFromDuration:!1,...n};if(!PE(n,JB)&&PE(n,QB))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),s=r*r,i=2*qi(.05,1,1-(n.bounce||0))*Math.sqrt(s);e={...e,mass:en.mass,stiffness:s,damping:i}}else{const t=GB(n);e={...e,...t,mass:en.mass},e.isResolvedFromDuration=!0}return e}function dm(n=en.visualDuration,e=en.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:s}=t;const i=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],c={done:!1,value:i},{stiffness:u,damping:f,mass:p,duration:m,velocity:y,isResolvedFromDuration:b}=XB({...t,velocity:-Xs(t.velocity||0)}),w=y||0,S=f/(2*Math.sqrt(u*p)),k=o-i,E=Xs(Math.sqrt(u/p)),T=Math.abs(k)<5;r||(r=T?en.restSpeed.granular:en.restSpeed.default),s||(s=T?en.restDelta.granular:en.restDelta.default);let N;if(S<1){const A=ab(E,S);N=L=>{const I=Math.exp(-S*E*L);return o-I*((w+S*E*k)/A*Math.sin(A*L)+k*Math.cos(A*L))}}else if(S===1)N=A=>o-Math.exp(-E*A)*(k+(w+E*k)*A);else{const A=E*Math.sqrt(S*S-1);N=L=>{const I=Math.exp(-S*E*L),F=Math.min(A*L,300);return o-I*((w+S*E*k)*Math.sinh(F)+A*k*Math.cosh(F))/A}}const U={calculatedDuration:b&&m||null,next:A=>{const L=N(A);if(b)c.done=A>=m;else{let I=A===0?w:0;S<1&&(I=A===0?Js(w):MN(N,A,L));const F=Math.abs(I)<=r,z=Math.abs(o-L)<=s;c.done=F&&z}return c.value=c.done?o:L,c},toString:()=>{const A=Math.min(Fx(U),um),L=AN(I=>U.next(A*I).value,A,30);return A+"ms "+L},toTransition:()=>{}};return U}dm.applyToOptions=n=>{const e=HB(n,100,dm);return n.ease=e.ease,n.duration=Js(e.duration),n.type="keyframes",n};function ob({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:c,max:u,restDelta:f=.5,restSpeed:p}){const m=n[0],y={done:!1,value:m},b=F=>c!==void 0&&F<c||u!==void 0&&F>u,w=F=>c===void 0?u:u===void 0||Math.abs(c-F)<Math.abs(u-F)?c:u;let S=t*e;const k=m+S,E=o===void 0?k:o(k);E!==k&&(S=E-m);const T=F=>-S*Math.exp(-F/r),N=F=>E+T(F),U=F=>{const z=T(F),te=N(F);y.done=Math.abs(z)<=f,y.value=y.done?E:te};let A,L;const I=F=>{b(y.value)&&(A=F,L=dm({keyframes:[y.value,w(y.value)],velocity:MN(N,F,y.value),damping:s,stiffness:i,restDelta:f,restSpeed:p}))};return I(0),{calculatedDuration:null,next:F=>{let z=!1;return!L&&A===void 0&&(z=!0,U(F),I(F)),A!==void 0&&F>=A?L.next(F-A):(!z&&U(F),y)}}}function WB(n,e,t){const r=[],s=t||Hi.mix||CN,i=n.length-1;for(let o=0;o<i;o++){let c=s(n[o],n[o+1]);if(e){const u=Array.isArray(e)?e[o]||ps:e;c=Jf(u,c)}r.push(c)}return r}function eI(n,e,{clamp:t=!0,ease:r,mixer:s}={}){const i=n.length;if(jx(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=n[0]===n[1];n[0]>n[i-1]&&(n=[...n].reverse(),e=[...e].reverse());const c=WB(e,r,s),u=c.length,f=p=>{if(o&&p<n[0])return e[0];let m=0;if(u>1)for(;m<n.length-2&&!(p<n[m+1]);m++);const y=lf(n[m],n[m+1],p);return c[m](y)};return t?p=>f(qi(n[0],n[i-1],p)):f}function tI(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const s=lf(0,e,r);n.push(Kt(t,1,s))}}function nI(n){const e=[0];return tI(e,n.length-1),e}function rI(n,e){return n.map(t=>t*e)}function sI(n,e){return n.map(()=>e||yN).splice(0,n.length-1)}function Qd({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const s=mB(r)?r.map(AE):AE(r),i={done:!1,value:e[0]},o=rI(t&&t.length===e.length?t:nI(e),n),c=eI(o,e,{ease:Array.isArray(s)?s:sI(e,s)});return{calculatedDuration:n,next:u=>(i.value=c(u),i.done=u>=n,i)}}const iI=n=>n!==null;function $x(n,{repeat:e,repeatType:t="loop"},r,s=1){const i=n.filter(iI),c=s<0||e&&t!=="loop"&&e%2===1?0:i.length-1;return!c||r===void 0?i[c]:r}const aI={decay:ob,inertia:ob,tween:Qd,keyframes:Qd,spring:dm};function NN(n){typeof n.type=="string"&&(n.type=aI[n.type])}class qx{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const oI=n=>n/100;class ON extends qx{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;if(t&&t.updatedAt!==Sr.now()&&this.tick(Sr.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:r}=this.options;r&&r()},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;NN(e);const{type:t=Qd,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:c}=e;const u=t||Qd;u!==Qd&&typeof c[0]!="number"&&(this.mixKeyframes=Jf(oI,CN(c[0],c[1])),c=[0,100]);const f=u({...e,keyframes:c});i==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...c].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=Fx(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=f}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:p,repeat:m,repeatType:y,repeatDelay:b,type:w,onUpdate:S,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const E=this.currentTime-f*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?E<0:E>s;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let N=this.currentTime,U=r;if(m){const F=Math.min(this.currentTime,s)/c;let z=Math.floor(F),te=F%1;!te&&F>=1&&(te=1),te===1&&z--,z=Math.min(z,m+1),!!(z%2)&&(y==="reverse"?(te=1-te,b&&(te-=b/c)):y==="mirror"&&(U=o)),N=qi(0,1,te)*c}const A=T?{done:!1,value:p[0]}:U.next(N);i&&(A.value=i(A.value));let{done:L}=A;!T&&u!==null&&(L=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return I&&w!==ob&&(A.value=$x(p,this.options,k,this.speed)),S&&S(A.value),I&&this.finish(),A}then(e,t){return this.finished.then(e,t)}get duration(){return Xs(this.calculatedDuration)}get time(){return Xs(this.currentTime)}set time(e){e=Js(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Sr.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Xs(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=qB,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),t&&t();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.state==="finished"?(this.updateFinished(),this.startTime=s):this.startTime||(this.startTime=r??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Sr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),e.observe(this)}}function lI(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Xo=n=>n*180/Math.PI,lb=n=>{const e=Xo(Math.atan2(n[1],n[0]));return cb(e)},cI={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:lb,rotateZ:lb,skewX:n=>Xo(Math.atan(n[1])),skewY:n=>Xo(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},cb=n=>(n=n%360,n<0&&(n+=360),n),LE=lb,zE=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),VE=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),uI={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:zE,scaleY:VE,scale:n=>(zE(n)+VE(n))/2,rotateX:n=>cb(Xo(Math.atan2(n[6],n[5]))),rotateY:n=>cb(Xo(Math.atan2(-n[2],n[0]))),rotateZ:LE,rotate:LE,skewX:n=>Xo(Math.atan(n[4])),skewY:n=>Xo(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function BE(n){return n.includes("scale")?1:0}function ub(n,e){if(!n||n==="none")return BE(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(t)r=uI,s=t;else{const c=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=cI,s=c}if(!s)return BE(e);const i=r[e],o=s[1].split(",").map(fI);return typeof i=="function"?i(o):o[i]}const dI=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return ub(t,e)};function fI(n){return parseFloat(n.trim())}const Cu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jl=new Set(Cu),IE=n=>n===Tu||n===$e,hI=new Set(["x","y","z"]),pI=Cu.filter(n=>!hI.has(n));function mI(n){const e=[];return pI.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const fu={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>ub(e,"x"),y:(n,{transform:e})=>ub(e,"y")};fu.translateX=fu.x;fu.translateY=fu.y;const dl=new Set;let db=!1,fb=!1,hb=!1;function jN(){if(fb){const n=Array.from(dl).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const s=mI(r);s.length&&(t.set(r,s),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=t.get(r);s&&s.forEach(([i,o])=>{var c;(c=r.getValue(i))==null||c.set(o)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}fb=!1,db=!1,dl.forEach(n=>n.complete(hb)),dl.clear()}function RN(){dl.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(fb=!0)})}function gI(){hb=!0,RN(),jN(),hb=!1}class Hx{constructor(e,t,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(dl.add(this),db||(db=!0,Lt.read(RN),Lt.resolveKeyframes(jN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&t){const c=r.readValue(t,o);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}lI(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),dl.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,dl.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const yI=n=>n.startsWith("--");function vI(n,e,t){yI(e)?n.style.setProperty(e,t):n.style[e]=t}const bI=Rx(()=>window.ScrollTimeline!==void 0),xI={};function wI(n,e){const t=Rx(n);return()=>xI[e]??t()}const DN=wI(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Vd=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,UE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vd([0,.65,.55,1]),circOut:Vd([.55,0,1,.45]),backIn:Vd([.31,.01,.66,-.59]),backOut:Vd([.33,1.53,.69,.99])};function PN(n,e){if(n)return typeof n=="function"?DN()?AN(n,e):"ease-out":vN(n)?Vd(n):Array.isArray(n)?n.map(t=>PN(t,e)||UE.easeOut):UE[n]}function SI(n,e,t,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:c="easeOut",times:u}={},f=void 0){const p={[e]:t};u&&(p.offset=u);const m=PN(c,s);Array.isArray(m)&&(p.easing=m);const y={delay:r,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return f&&(y.pseudoElement=f),n.animate(p,y)}function LN(n){return typeof n=="function"&&"applyToOptions"in n}function kI({type:n,...e}){return LN(n)&&DN()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class _I extends qx{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,jx(typeof e.type!="string");const u=kI(e);this.animation=SI(t,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const f=$x(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(f):vI(t,r,f),this.animation.cancel()}this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,r;const e=((r=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:r.call(t).duration)||0;return Xs(Number(e))}get time(){return Xs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Js(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&bI()?(this.animation.timeline=e,ps):t(this)}}const zN={anticipate:pN,backInOut:hN,circInOut:gN};function EI(n){return n in zN}function TI(n){typeof n.ease=="string"&&EI(n.ease)&&(n.ease=zN[n.ease])}const FE=10;class CI extends _I{constructor(e){TI(e),NN(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const c=new ON({...o,autoplay:!1}),u=Js(this.finishedTime??this.time);t.setWithVelocity(c.sample(u-FE).value,c.sample(u).value,FE),c.stop()}}const $E=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(to.test(n)||n==="0")&&!n.startsWith("url("));function AI(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function MI(n,e,t,r){const s=n[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=n[n.length-1],o=$E(s,e),c=$E(i,e);return!o||!c?!1:AI(n)||(t==="spring"||LN(t))&&r}const NI=new Set(["opacity","clipPath","filter","transform"]),OI=Rx(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function jI(n){const{motionValue:e,name:t,repeatDelay:r,repeatType:s,damping:i,type:o}=n;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return OI()&&t&&NI.has(t)&&(t!=="transform"||!u)&&!c&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const RI=40;class DI extends qx{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:c,name:u,motionValue:f,element:p,...m}){var w;super(),this.stop=()=>{var S,k;this._animation?(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)):(k=this.keyframeResolver)==null||k.cancel()},this.createdAt=Sr.now();const y={autoplay:e,delay:t,type:r,repeat:s,repeatDelay:i,repeatType:o,name:u,motionValue:f,element:p,...m},b=(p==null?void 0:p.KeyframeResolver)||Hx;this.keyframeResolver=new b(c,(S,k,E)=>this.onKeyframesResolved(S,k,y,!E),u,f,p),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,t,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:c,delay:u,isHandoff:f,onUpdate:p,onComplete:m}=r;this.resolvedAt=Sr.now(),MI(e,i,o,c)||((Hi.instantAnimations||!u)&&(p==null||p($x(e,r,t))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const b={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>RI?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},w=!f&&jI(b)?new CI({...b,element:b.motionValue.owner.current}):new ON(b);w.finished.then(()=>{m==null||m(),this.notifyFinished()}).catch(ps),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||gI(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const PI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function LI(n){const e=PI.exec(n);if(!e)return[,];const[,t,r,s]=e;return[`--${t??r}`,s]}function VN(n,e,t=1){const[r,s]=LI(n);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return aN(o)?parseFloat(o):o}return Vx(s)?VN(s,e,t+1):s}function Kx(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const BN=new Set(["width","height","top","left","right","bottom",...Cu]),zI={test:n=>n==="auto",parse:n=>n},IN=n=>e=>e.test(n),UN=[Tu,$e,Ws,Ea,AB,CB,zI],qE=n=>UN.find(IN(n));function VI(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||oN(n):!0}const BI=new Set(["brightness","contrast","saturate","opacity"]);function II(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Bx)||[];if(!r)return n;const s=t.replace(r,"");let i=BI.has(e)?1:0;return r!==t&&(i*=100),e+"("+i+s+")"}const UI=/\b([a-z-]*)\(.*?\)/gu,pb={...to,getAnimatableNone:n=>{const e=n.match(UI);return e?e.map(II).join(" "):n}},HE={...Tu,transform:Math.round},FI={rotate:Ea,rotateX:Ea,rotateY:Ea,rotateZ:Ea,scale:Mp,scaleX:Mp,scaleY:Mp,scaleZ:Mp,skew:Ea,skewX:Ea,skewY:Ea,distance:$e,translateX:$e,translateY:$e,translateZ:$e,x:$e,y:$e,z:$e,perspective:$e,transformPerspective:$e,opacity:cf,originX:NE,originY:NE,originZ:$e},Gx={borderWidth:$e,borderTopWidth:$e,borderRightWidth:$e,borderBottomWidth:$e,borderLeftWidth:$e,borderRadius:$e,radius:$e,borderTopLeftRadius:$e,borderTopRightRadius:$e,borderBottomRightRadius:$e,borderBottomLeftRadius:$e,width:$e,maxWidth:$e,height:$e,maxHeight:$e,top:$e,right:$e,bottom:$e,left:$e,padding:$e,paddingTop:$e,paddingRight:$e,paddingBottom:$e,paddingLeft:$e,margin:$e,marginTop:$e,marginRight:$e,marginBottom:$e,marginLeft:$e,backgroundPositionX:$e,backgroundPositionY:$e,...FI,zIndex:HE,fillOpacity:cf,strokeOpacity:cf,numOctaves:HE},$I={...Gx,color:Qn,backgroundColor:Qn,outlineColor:Qn,fill:Qn,stroke:Qn,borderColor:Qn,borderTopColor:Qn,borderRightColor:Qn,borderBottomColor:Qn,borderLeftColor:Qn,filter:pb,WebkitFilter:pb},FN=n=>$I[n];function $N(n,e){let t=FN(n);return t!==pb&&(t=to),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const qI=new Set(["auto","none","0"]);function HI(n,e,t){let r=0,s;for(;r<n.length&&!s;){const i=n[r];typeof i=="string"&&!qI.has(i)&&uf(i).values.length&&(s=n[r]),r++}if(s&&t)for(const i of e)n[i]=$N(t,s)}class KI extends Hx{constructor(e,t,r,s,i){super(e,t,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let f=e[u];if(typeof f=="string"&&(f=f.trim(),Vx(f))){const p=VN(f,t.current);p!==void 0&&(e[u]=p),u===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!BN.has(r)||e.length!==2)return;const[s,i]=e,o=qE(s),c=qE(i);if(o!==c)if(IE(o)&&IE(c))for(let u=0;u<e.length;u++){const f=e[u];typeof f=="string"&&(e[u]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||VI(e[s]))&&r.push(s);r.length&&HI(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=fu[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var c;const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(t);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=fu[t](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([u,f])=>{e.getValue(u).set(f)}),this.resolveNoneKeyframes()}}const{schedule:Zx}=bN(queueMicrotask,!1),Ss={x:!1,y:!1};function qN(){return Ss.x||Ss.y}function GI(n){return n==="x"||n==="y"?Ss[n]?null:(Ss[n]=!0,()=>{Ss[n]=!1}):Ss.x||Ss.y?null:(Ss.x=Ss.y=!0,()=>{Ss.x=Ss.y=!1})}function ZI(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const s=(t==null?void 0:t[n])??r.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}function HN(n,e){const t=ZI(n),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[t,s,()=>r.abort()]}function KE(n){return!(n.pointerType==="touch"||qN())}function YI(n,e,t={}){const[r,s,i]=HN(n,t),o=c=>{if(!KE(c))return;const{target:u}=c,f=e(u,c);if(typeof f!="function"||!u)return;const p=m=>{KE(m)&&(f(m),u.removeEventListener("pointerleave",p))};u.addEventListener("pointerleave",p,s)};return r.forEach(c=>{c.addEventListener("pointerenter",o,s)}),i}const KN=(n,e)=>e?n===e?!0:KN(n,e.parentElement):!1,Yx=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,QI=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function JI(n){return QI.has(n.tagName)||n.tabIndex!==-1}const Bd=new WeakSet;function GE(n){return e=>{e.key==="Enter"&&n(e)}}function L0(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const XI=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=GE(()=>{if(Bd.has(t))return;L0(t,"down");const s=GE(()=>{L0(t,"up")}),i=()=>L0(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",i,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function ZE(n){return Yx(n)&&!qN()}function WI(n,e,t={}){const[r,s,i]=HN(n,t),o=c=>{const u=c.currentTarget;if(!ZE(c)||Bd.has(u))return;Bd.add(u);const f=e(u,c),p=(b,w)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",y),!(!ZE(b)||!Bd.has(u))&&(Bd.delete(u),typeof f=="function"&&f(b,{success:w}))},m=b=>{p(b,u===window||u===document||t.useGlobalTarget||KN(u,b.target))},y=b=>{p(b,!1)};window.addEventListener("pointerup",m,s),window.addEventListener("pointercancel",y,s)};return r.forEach(c=>{(t.useGlobalTarget?window:c).addEventListener("pointerdown",o,s),c instanceof HTMLElement&&(c.addEventListener("focus",f=>XI(f,s)),!JI(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),i}const YE=30,eU=n=>!isNaN(parseFloat(n));class tU{constructor(e,t={}){this.version="12.8.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Sr.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Sr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=eU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Dx);const r=this.events[e].add(t);return e==="change"?()=>{r(),Lt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){e==="none"&&console.trace(),!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Sr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>YE)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,YE);return lN(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e;(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function df(n,e){return new tU(n,e)}const nU=[...UN,Qn,to],rU=n=>nU.find(IN(n)),GN=(n,e)=>e&&typeof n=="number"?e.transform(n):n,ZN=M.createContext({strict:!1}),QE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hu={};for(const n in QE)hu[n]={isEnabled:e=>QE[n].some(t=>!!e[t])};function sU(n){for(const e in n)hu[e]={...hu[e],...n[e]}}const iU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fm(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||iU.has(n)}let YN=n=>!fm(n);function aU(n){n&&(YN=e=>e.startsWith("on")?!fm(e):n(e))}try{aU(require("@emotion/is-prop-valid").default)}catch{}function oU(n,e,t){const r={};for(const s in n)s==="values"&&typeof n.values=="object"||(YN(s)||t===!0&&fm(s)||!e&&!fm(s)||n.draggable&&s.startsWith("onDrag"))&&(r[s]=n[s]);return r}function lU(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,s)=>s==="create"?n:(e.has(s)||e.set(s,n(s)),e.get(s))})}const Hm=M.createContext({});function Km(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function ff(n){return typeof n=="string"||Array.isArray(n)}const Qx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Jx=["initial",...Qx];function Gm(n){return Km(n.animate)||Jx.some(e=>ff(n[e]))}function QN(n){return!!(Gm(n)||n.variants)}function cU(n,e){if(Gm(n)){const{initial:t,animate:r}=n;return{initial:t===!1||ff(t)?t:void 0,animate:ff(r)?r:void 0}}return n.inherit!==!1?e:{}}function uU(n){const{initial:e,animate:t}=cU(n,M.useContext(Hm));return M.useMemo(()=>({initial:e,animate:t}),[JE(e),JE(t)])}function JE(n){return Array.isArray(n)?n.join(" "):n}const dU=Symbol.for("motionComponentSymbol");function Rc(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function fU(n,e,t){return M.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Rc(t)&&(t.current=r))},[e])}const Xx=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),hU="framerAppearId",JN="data-"+Xx(hU),XN=M.createContext({});function pU(n,e,t,r,s){var S,k;const{visualElement:i}=M.useContext(Hm),o=M.useContext(ZN),c=M.useContext(qm),u=M.useContext(Mx).reducedMotion,f=M.useRef(null);r=r||o.renderer,!f.current&&r&&(f.current=r(n,{visualState:e,parent:i,props:t,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const p=f.current,m=M.useContext(XN);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&mU(f.current,t,s,m);const y=M.useRef(!1);M.useInsertionEffect(()=>{p&&y.current&&p.update(t,c)});const b=t[JN],w=M.useRef(!!b&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,b))&&((k=window.MotionHasOptimisedAnimation)==null?void 0:k.call(window,b)));return sN(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),Zx.render(p.render),w.current&&p.animationState&&p.animationState.animateChanges())}),M.useEffect(()=>{p&&(!w.current&&p.animationState&&p.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)==null||E.call(window,b)}),w.current=!1))}),p}function mU(n,e,t,r){const{layoutId:s,layout:i,drag:o,dragConstraints:c,layoutScroll:u,layoutRoot:f,layoutCrossfade:p}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:WN(n.parent)),n.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||c&&Rc(c),visualElement:n,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:u,layoutRoot:f})}function WN(n){if(n)return n.options.allowProjection!==!1?n.projection:WN(n.parent)}function gU({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:s}){n&&sU(n);function i(c,u){let f;const p={...M.useContext(Mx),...c,layoutId:yU(c)},{isStatic:m}=p,y=uU(c),b=r(c,m);if(!m&&Ax){vU();const w=bU(p);f=w.MeasureLayout,y.visualElement=pU(s,b,p,e,w.ProjectionNode)}return v.jsxs(Hm.Provider,{value:y,children:[f&&y.visualElement?v.jsx(f,{visualElement:y.visualElement,...p}):null,t(s,c,fU(b,y.visualElement,u),b,m,y.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=M.forwardRef(i);return o[dU]=s,o}function yU({layoutId:n}){const e=M.useContext(Tx).id;return e&&n!==void 0?e+"-"+n:n}function vU(n,e){M.useContext(ZN).strict}function bU(n){const{drag:e,layout:t}=hu;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const hf={};function xU(n){for(const e in n)hf[e]=n[e],zx(e)&&(hf[e].isCSSVariable=!0)}function eO(n,{layout:e,layoutId:t}){return jl.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!hf[n]||n==="opacity")}const Wn=n=>!!(n&&n.getVelocity),wU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},SU=Cu.length;function kU(n,e,t){let r="",s=!0;for(let i=0;i<SU;i++){const o=Cu[i],c=n[o];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(o.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||t){const f=GN(c,Gx[o]);if(!u){s=!1;const p=wU[o]||o;r+=`${p}(${f}) `}t&&(e[o]=f)}}return r=r.trim(),t?r=t(e,s?"":r):s&&(r="none"),r}function Wx(n,e,t){const{style:r,vars:s,transformOrigin:i}=n;let o=!1,c=!1;for(const u in e){const f=e[u];if(jl.has(u)){o=!0;continue}else if(zx(u)){s[u]=f;continue}else{const p=GN(f,Gx[u]);u.startsWith("origin")?(c=!0,i[u]=p):r[u]=p}}if(e.transform||(o||t?r.transform=kU(e,n.transform,t):r.transform&&(r.transform="none")),c){const{originX:u="50%",originY:f="50%",originZ:p=0}=i;r.transformOrigin=`${u} ${f} ${p}`}}const ew=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function tO(n,e,t){for(const r in e)!Wn(e[r])&&!eO(r,t)&&(n[r]=e[r])}function _U({transformTemplate:n},e){return M.useMemo(()=>{const t=ew();return Wx(t,e,n),Object.assign({},t.vars,t.style)},[e])}function EU(n,e){const t=n.style||{},r={};return tO(r,t,n),Object.assign(r,_U(n,e)),r}function TU(n,e){const t={},r=EU(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const CU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tw(n){return typeof n!="string"||n.includes("-")?!1:!!(CU.indexOf(n)>-1||/[A-Z]/u.test(n))}const AU={offset:"stroke-dashoffset",array:"stroke-dasharray"},MU={offset:"strokeDashoffset",array:"strokeDasharray"};function NU(n,e,t=1,r=0,s=!0){n.pathLength=1;const i=s?AU:MU;n[i.offset]=$e.transform(-r);const o=$e.transform(e),c=$e.transform(t);n[i.array]=`${o} ${c}`}function XE(n,e,t){return typeof n=="string"?n:$e.transform(e+t*n)}function OU(n,e,t){const r=XE(e,n.x,n.width),s=XE(t,n.y,n.height);return`${r} ${s}`}function nw(n,{attrX:e,attrY:t,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:c=1,pathOffset:u=0,...f},p,m){if(Wx(n,f,m),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:y,style:b,dimensions:w}=n;y.transform&&(w&&(b.transform=y.transform),delete y.transform),w&&(s!==void 0||i!==void 0||b.transform)&&(b.transformOrigin=OU(w,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(y.x=e),t!==void 0&&(y.y=t),r!==void 0&&(y.scale=r),o!==void 0&&NU(y,o,c,u,!1)}const nO=()=>({...ew(),attrs:{}}),rw=n=>typeof n=="string"&&n.toLowerCase()==="svg";function jU(n,e,t,r){const s=M.useMemo(()=>{const i=nO();return nw(i,e,rw(r),n.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(n.style){const i={};tO(i,n.style,n),s.style={...i,...s.style}}return s}function RU(n=!1){return(t,r,s,{latestValues:i},o)=>{const u=(tw(t)?jU:TU)(r,i,o,t),f=oU(r,typeof t=="string",n),p=t!==M.Fragment?{...f,...u,ref:s}:{},{children:m}=r,y=M.useMemo(()=>Wn(m)?m.get():m,[m]);return M.createElement(t,{...p,children:y})}}function WE(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function sw(n,e,t,r){if(typeof e=="function"){const[s,i]=WE(r);e=e(t!==void 0?t:n.custom,s,i)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[s,i]=WE(r);e=e(t!==void 0?t:n.custom,s,i)}return e}function Hp(n){return Wn(n)?n.get():n}function DU({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,s,i){const o={latestValues:PU(r,s,i,n),renderState:e()};return t&&(o.onMount=c=>t({props:r,current:c,...o}),o.onUpdate=c=>t(c)),o}const rO=n=>(e,t)=>{const r=M.useContext(Hm),s=M.useContext(qm),i=()=>DU(n,e,r,s);return t?i():Cx(i)};function PU(n,e,t,r){const s={},i=r(n,{});for(const y in i)s[y]=Hp(i[y]);let{initial:o,animate:c}=n;const u=Gm(n),f=QN(n);e&&f&&!u&&n.inherit!==!1&&(o===void 0&&(o=e.initial),c===void 0&&(c=e.animate));let p=t?t.initial===!1:!1;p=p||o===!1;const m=p?c:o;if(m&&typeof m!="boolean"&&!Km(m)){const y=Array.isArray(m)?m:[m];for(let b=0;b<y.length;b++){const w=sw(n,y[b]);if(w){const{transitionEnd:S,transition:k,...E}=w;for(const T in E){let N=E[T];if(Array.isArray(N)){const U=p?N.length-1:0;N=N[U]}N!==null&&(s[T]=N)}for(const T in S)s[T]=S[T]}}}return s}function iw(n,e,t){var i;const{style:r}=n,s={};for(const o in r)(Wn(r[o])||e.style&&Wn(e.style[o])||eO(o,n)||((i=t==null?void 0:t.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const LU={useVisualState:rO({scrapeMotionValuesFromProps:iw,createRenderState:ew})};function sO(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function iO(n,{style:e,vars:t},r,s){Object.assign(n.style,e,s&&s.getProjectionStyles(r));for(const i in t)n.style.setProperty(i,t[i])}const aO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function oO(n,e,t,r){iO(n,e,void 0,r);for(const s in e.attrs)n.setAttribute(aO.has(s)?s:Xx(s),e.attrs[s])}function lO(n,e,t){const r=iw(n,e,t);for(const s in n)if(Wn(n[s])||Wn(e[s])){const i=Cu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=n[s]}return r}const eT=["x","y","width","height","cx","cy","r"],zU={useVisualState:rO({scrapeMotionValuesFromProps:lO,createRenderState:nO,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:s})=>{if(!t)return;let i=!!n.drag;if(!i){for(const c in s)if(jl.has(c)){i=!0;break}}if(!i)return;let o=!e;if(e)for(let c=0;c<eT.length;c++){const u=eT[c];n[u]!==e[u]&&(o=!0)}o&&Lt.read(()=>{sO(t,r),Lt.render(()=>{nw(r,s,rw(t.tagName),n.transformTemplate),oO(t,r)})})}})};function VU(n,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...tw(r)?zU:LU,preloadedFeatures:n,useRender:RU(s),createVisualElement:e,Component:r};return gU(o)}}function pf(n,e,t){const r=n.getProps();return sw(r,e,t!==void 0?t:r.custom,n)}const mb=n=>Array.isArray(n);function BU(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,df(t))}function IU(n){return mb(n)?n[n.length-1]||0:n}function UU(n,e){const t=pf(n,e);let{transitionEnd:r={},transition:s={},...i}=t||{};i={...i,...r};for(const o in i){const c=IU(i[o]);BU(n,o,c)}}function FU(n){return!!(Wn(n)&&n.add)}function gb(n,e){const t=n.getValue("willChange");if(FU(t))return t.add(e);if(!t&&Hi.WillChange){const r=new Hi.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function cO(n){return n.props[JN]}const $U=n=>n!==null;function qU(n,{repeat:e,repeatType:t="loop"},r){const s=n.filter($U),i=e&&t!=="loop"&&e%2===1?0:s.length-1;return s[i]}const HU={type:"spring",stiffness:500,damping:25,restSpeed:10},KU=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),GU={type:"keyframes",duration:.8},ZU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},YU=(n,{keyframes:e})=>e.length>2?GU:jl.has(n)?n.startsWith("scale")?KU(e[1]):HU:ZU;function QU({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:c,from:u,elapsed:f,...p}){return!!Object.keys(p).length}const aw=(n,e,t,r={},s,i)=>o=>{const c=Kx(r,n)||{},u=c.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Js(u);const p={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:y=>{e.set(y),c.onUpdate&&c.onUpdate(y)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:n,motionValue:e,element:i?void 0:s};QU(c)||Object.assign(p,YU(n,p)),p.duration&&(p.duration=Js(p.duration)),p.repeatDelay&&(p.repeatDelay=Js(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let m=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(m=!0)),(Hi.instantAnimations||Hi.skipAnimations)&&(m=!0,p.duration=0,p.delay=0),p.allowFlatten=!c.type&&!c.ease,m&&!i&&e.get()!==void 0){const y=qU(p.keyframes,c);if(y!==void 0){Lt.update(()=>{p.onUpdate(y),p.onComplete()});return}}return new DI(p)};function JU({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function uO(n,e,{delay:t=0,transitionOverride:r,type:s}={}){let{transition:i=n.getDefaultTransition(),transitionEnd:o,...c}=e;r&&(i=r);const u=[],f=s&&n.animationState&&n.animationState.getState()[s];for(const p in c){const m=n.getValue(p,n.latestValues[p]??null),y=c[p];if(y===void 0||f&&JU(f,p))continue;const b={delay:t,...Kx(i||{},p)};let w=!1;if(window.MotionHandoffAnimation){const k=cO(n);if(k){const E=window.MotionHandoffAnimation(k,p,Lt);E!==null&&(b.startTime=E,w=!0)}}gb(n,p),m.start(aw(p,m,y,n.shouldReduceMotion&&BN.has(p)?{type:!1}:b,n,w));const S=m.animation;S&&u.push(S)}return o&&Promise.all(u).then(()=>{Lt.update(()=>{o&&UU(n,o)})}),u}function yb(n,e,t={}){var u;const r=pf(n,e,t.type==="exit"?(u=n.presenceContext)==null?void 0:u.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(s=t.transitionOverride);const i=r?()=>Promise.all(uO(n,r,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:m,staggerDirection:y}=s;return XU(n,e,p+f,m,y,t)}:()=>Promise.resolve(),{when:c}=s;if(c){const[f,p]=c==="beforeChildren"?[i,o]:[o,i];return f().then(()=>p())}else return Promise.all([i(),o(t.delay)])}function XU(n,e,t=0,r=0,s=1,i){const o=[],c=(n.variantChildren.size-1)*r,u=s===1?(f=0)=>f*r:(f=0)=>c-f*r;return Array.from(n.variantChildren).sort(WU).forEach((f,p)=>{f.notify("AnimationStart",e),o.push(yb(f,e,{...i,delay:t+u(p)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(o)}function WU(n,e){return n.sortNodePosition(e)}function eF(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>yb(n,i,t));r=Promise.all(s)}else if(typeof e=="string")r=yb(n,e,t);else{const s=typeof e=="function"?pf(n,e,t.custom):e;r=Promise.all(uO(n,s,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function dO(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const tF=Jx.length;function fO(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?fO(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<tF;t++){const r=Jx[t],s=n.props[r];(ff(s)||s===!1)&&(e[r]=s)}return e}const nF=[...Qx].reverse(),rF=Qx.length;function sF(n){return e=>Promise.all(e.map(({animation:t,options:r})=>eF(n,t,r)))}function iF(n){let e=sF(n),t=tT(),r=!0;const s=u=>(f,p)=>{var y;const m=pf(n,p,u==="exit"?(y=n.presenceContext)==null?void 0:y.custom:void 0);if(m){const{transition:b,transitionEnd:w,...S}=m;f={...f,...S,...w}}return f};function i(u){e=u(n)}function o(u){const{props:f}=n,p=fO(n.parent)||{},m=[],y=new Set;let b={},w=1/0;for(let k=0;k<rF;k++){const E=nF[k],T=t[E],N=f[E]!==void 0?f[E]:p[E],U=ff(N),A=E===u?T.isActive:null;A===!1&&(w=k);let L=N===p[E]&&N!==f[E]&&U;if(L&&r&&n.manuallyAnimateOnMount&&(L=!1),T.protectedKeys={...b},!T.isActive&&A===null||!N&&!T.prevProp||Km(N)||typeof N=="boolean")continue;const I=aF(T.prevProp,N);let F=I||E===u&&T.isActive&&!L&&U||k>w&&U,z=!1;const te=Array.isArray(N)?N:[N];let Ce=te.reduce(s(E),{});A===!1&&(Ce={});const{prevResolvedValues:Oe={}}=T,De={...Oe,...Ce},st=ue=>{F=!0,y.has(ue)&&(z=!0,y.delete(ue)),T.needsAnimating[ue]=!0;const fe=n.getValue(ue);fe&&(fe.liveStyle=!1)};for(const ue in De){const fe=Ce[ue],Ge=Oe[ue];if(b.hasOwnProperty(ue))continue;let D=!1;mb(fe)&&mb(Ge)?D=!dO(fe,Ge):D=fe!==Ge,D?fe!=null?st(ue):y.add(ue):fe!==void 0&&y.has(ue)?st(ue):T.protectedKeys[ue]=!0}T.prevProp=N,T.prevResolvedValues=Ce,T.isActive&&(b={...b,...Ce}),r&&n.blockInitialAnimation&&(F=!1),F&&(!(L&&I)||z)&&m.push(...te.map(ue=>({animation:ue,options:{type:E}})))}if(y.size){const k={};if(typeof f.initial!="boolean"){const E=pf(n,Array.isArray(f.initial)?f.initial[0]:f.initial);E&&E.transition&&(k.transition=E.transition)}y.forEach(E=>{const T=n.getBaseTarget(E),N=n.getValue(E);N&&(N.liveStyle=!0),k[E]=T??null}),m.push({animation:k})}let S=!!m.length;return r&&(f.initial===!1||f.initial===f.animate)&&!n.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(m):Promise.resolve()}function c(u,f){var m;if(t[u].isActive===f)return Promise.resolve();(m=n.variantChildren)==null||m.forEach(y=>{var b;return(b=y.animationState)==null?void 0:b.setActive(u,f)}),t[u].isActive=f;const p=o(u);for(const y in t)t[y].protectedKeys={};return p}return{animateChanges:o,setActive:c,setAnimateFunction:i,getState:()=>t,reset:()=>{t=tT(),r=!0}}}function aF(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!dO(e,n):!1}function Fo(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function tT(){return{animate:Fo(!0),whileInView:Fo(),whileHover:Fo(),whileTap:Fo(),whileDrag:Fo(),whileFocus:Fo(),exit:Fo()}}class fo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class oF extends fo{constructor(e){super(e),e.animationState||(e.animationState=iF(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Km(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let lF=0;class cF extends fo{constructor(){super(...arguments),this.id=lF++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const uF={animation:{Feature:oF},exit:{Feature:cF}};function mf(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function eh(n){return{point:{x:n.pageX,y:n.pageY}}}const dF=n=>e=>Yx(e)&&n(e,eh(e));function Jd(n,e,t,r){return mf(n,e,dF(t),r)}function hO({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function fF({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function hF(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}const pO=1e-4,pF=1-pO,mF=1+pO,mO=.01,gF=0-mO,yF=0+mO;function lr(n){return n.max-n.min}function vF(n,e,t){return Math.abs(n-e)<=t}function nT(n,e,t,r=.5){n.origin=r,n.originPoint=Kt(e.min,e.max,n.origin),n.scale=lr(t)/lr(e),n.translate=Kt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=pF&&n.scale<=mF||isNaN(n.scale))&&(n.scale=1),(n.translate>=gF&&n.translate<=yF||isNaN(n.translate))&&(n.translate=0)}function Xd(n,e,t,r){nT(n.x,e.x,t.x,r?r.originX:void 0),nT(n.y,e.y,t.y,r?r.originY:void 0)}function rT(n,e,t){n.min=t.min+e.min,n.max=n.min+lr(e)}function bF(n,e,t){rT(n.x,e.x,t.x),rT(n.y,e.y,t.y)}function sT(n,e,t){n.min=e.min-t.min,n.max=n.min+lr(e)}function Wd(n,e,t){sT(n.x,e.x,t.x),sT(n.y,e.y,t.y)}const iT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Dc=()=>({x:iT(),y:iT()}),aT=()=>({min:0,max:0}),an=()=>({x:aT(),y:aT()});function rs(n){return[n("x"),n("y")]}function z0(n){return n===void 0||n===1}function vb({scale:n,scaleX:e,scaleY:t}){return!z0(n)||!z0(e)||!z0(t)}function qo(n){return vb(n)||gO(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function gO(n){return oT(n.x)||oT(n.y)}function oT(n){return n&&n!=="0%"}function hm(n,e,t){const r=n-t,s=e*r;return t+s}function lT(n,e,t,r,s){return s!==void 0&&(n=hm(n,s,r)),hm(n,t,r)+e}function bb(n,e=0,t=1,r,s){n.min=lT(n.min,e,t,r,s),n.max=lT(n.max,e,t,r,s)}function yO(n,{x:e,y:t}){bb(n.x,e.translate,e.scale,e.originPoint),bb(n.y,t.translate,t.scale,t.originPoint)}const cT=.999999999999,uT=1.0000000000001;function xF(n,e,t,r=!1){const s=t.length;if(!s)return;e.x=e.y=1;let i,o;for(let c=0;c<s;c++){i=t[c],o=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Lc(n,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,yO(n,o)),r&&qo(i.latestValues)&&Lc(n,i.latestValues))}e.x<uT&&e.x>cT&&(e.x=1),e.y<uT&&e.y>cT&&(e.y=1)}function Pc(n,e){n.min=n.min+e,n.max=n.max+e}function dT(n,e,t,r,s=.5){const i=Kt(n.min,n.max,s);bb(n,e,t,i,r)}function Lc(n,e){dT(n.x,e.x,e.scaleX,e.scale,e.originX),dT(n.y,e.y,e.scaleY,e.scale,e.originY)}function vO(n,e){return hO(hF(n.getBoundingClientRect(),e))}function wF(n,e,t){const r=vO(n,t),{scroll:s}=e;return s&&(Pc(r.x,s.offset.x),Pc(r.y,s.offset.y)),r}const bO=({current:n})=>n?n.ownerDocument.defaultView:null,fT=(n,e)=>Math.abs(n-e);function SF(n,e){const t=fT(n.x,e.x),r=fT(n.y,e.y);return Math.sqrt(t**2+r**2)}class xO{constructor(e,t,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=B0(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,b=SF(m.offset,{x:0,y:0})>=3;if(!y&&!b)return;const{point:w}=m,{timestamp:S}=In;this.history.push({...w,timestamp:S});const{onStart:k,onMove:E}=this.handlers;y||(k&&k(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,m)},this.handlePointerMove=(m,y)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=V0(y,this.transformPagePoint),Lt.update(this.updatePoint,!0)},this.handlePointerUp=(m,y)=>{this.end();const{onEnd:b,onSessionEnd:w,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=B0(m.type==="pointercancel"?this.lastMoveEventInfo:V0(y,this.transformPagePoint),this.history);this.startEvent&&b&&b(m,k),w&&w(m,k)},!Yx(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=r,this.contextWindow=s||window;const o=eh(e),c=V0(o,this.transformPagePoint),{point:u}=c,{timestamp:f}=In;this.history=[{...u,timestamp:f}];const{onSessionStart:p}=t;p&&p(e,B0(c,this.history)),this.removeListeners=Jf(Jd(this.contextWindow,"pointermove",this.handlePointerMove),Jd(this.contextWindow,"pointerup",this.handlePointerUp),Jd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),eo(this.updatePoint)}}function V0(n,e){return e?{point:e(n.point)}:n}function hT(n,e){return{x:n.x-e.x,y:n.y-e.y}}function B0({point:n},e){return{point:n,delta:hT(n,wO(e)),offset:hT(n,kF(e)),velocity:_F(e,.1)}}function kF(n){return n[0]}function wO(n){return n[n.length-1]}function _F(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const s=wO(n);for(;t>=0&&(r=n[t],!(s.timestamp-r.timestamp>Js(e)));)t--;if(!r)return{x:0,y:0};const i=Xs(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function EF(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?Kt(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?Kt(t,n,r.max):Math.min(n,t)),n}function pT(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function TF(n,{top:e,left:t,bottom:r,right:s}){return{x:pT(n.x,t,s),y:pT(n.y,e,r)}}function mT(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function CF(n,e){return{x:mT(n.x,e.x),y:mT(n.y,e.y)}}function AF(n,e){let t=.5;const r=lr(n),s=lr(e);return s>r?t=lf(e.min,e.max-r,n.min):r>s&&(t=lf(n.min,n.max-s,e.min)),qi(0,1,t)}function MF(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const xb=.35;function NF(n=xb){return n===!1?n=0:n===!0&&(n=xb),{x:gT(n,"left","right"),y:gT(n,"top","bottom")}}function gT(n,e,t){return{min:yT(n,e),max:yT(n,t)}}function yT(n,e){return typeof n=="number"?n:n[e]||0}const OF=new WeakMap;class jF{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=an(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(eh(p).point)},i=(p,m)=>{const{drag:y,dragPropagation:b,onDragStart:w}=this.getProps();if(y&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=GI(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rs(k=>{let E=this.getAxisMotionValue(k).get()||0;if(Ws.test(E)){const{projection:T}=this.visualElement;if(T&&T.layout){const N=T.layout.layoutBox[k];N&&(E=lr(N)*(parseFloat(E)/100))}}this.originPoint[k]=E}),w&&Lt.postRender(()=>w(p,m)),gb(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(p,m)=>{const{dragPropagation:y,dragDirectionLock:b,onDirectionLock:w,onDrag:S}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:k}=m;if(b&&this.currentDirection===null){this.currentDirection=RF(k),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",m.point,k),this.updateAxis("y",m.point,k),this.visualElement.render(),S&&S(p,m)},c=(p,m)=>this.stop(p,m),u=()=>rs(p=>{var m;return this.getAnimationState(p)==="paused"&&((m=this.getAxisMotionValue(p).animation)==null?void 0:m.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new xO(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:bO(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Lt.postRender(()=>i(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:s}=this.getProps();if(!r||!Np(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=EF(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&Rc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=TF(r.layoutBox,e):this.constraints=!1,this.elastic=NF(t),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&rs(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=MF(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Rc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=wF(r,s.root,this.visualElement.getTransformPagePoint());let o=CF(s.layout.layoutBox,i);if(t){const c=t(fF(o));this.hasMutatedConstraints=!!c,c&&(o=hO(c))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},f=rs(p=>{if(!Np(p,t,this.currentDirection))return;let m=u&&u[p]||{};o&&(m={min:0,max:0});const y=s?200:1e6,b=s?40:1e7,w={type:"inertia",velocity:r?e[p]:0,bounceStiffness:y,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(p,w)});return Promise.all(f).then(c)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return gb(this.visualElement,e),r.start(aw(e,r,0,t,this.visualElement,!1))}stopAnimation(){rs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){rs(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[t];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){rs(t=>{const{drag:r}=this.getProps();if(!Np(t,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(t);if(s&&s.layout){const{min:o,max:c}=s.layout.layoutBox[t];i.set(e[t]-Kt(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Rc(t)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};rs(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const u=c.get();s[o]=AF({min:u,max:u},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),rs(o=>{if(!Np(o,e,null))return;const c=this.getAxisMotionValue(o),{min:u,max:f}=this.constraints[o];c.set(Kt(u,f,s[o]))})}addListeners(){if(!this.visualElement.current)return;OF.set(this.visualElement,this);const e=this.visualElement.current,t=Jd(e,"pointerdown",u=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Rc(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Lt.read(r);const o=mf(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f})=>{this.isDragging&&f&&(rs(p=>{const m=this.getAxisMotionValue(p);m&&(this.originPoint[p]+=u[p].translate,m.set(m.get()+u[p].translate))}),this.visualElement.render())});return()=>{o(),t(),i(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=xb,dragMomentum:c=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:c}}}function Np(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function RF(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class DF extends fo{constructor(e){super(e),this.removeGroupControls=ps,this.removeListeners=ps,this.controls=new jF(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ps}unmount(){this.removeGroupControls(),this.removeListeners()}}const vT=n=>(e,t)=>{n&&Lt.postRender(()=>n(e,t))};class PF extends fo{constructor(){super(...arguments),this.removePointerDownListener=ps}onPointerDown(e){this.session=new xO(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bO(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:vT(e),onStart:vT(t),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Lt.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Jd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Kp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bT(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Ad={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if($e.test(n))n=parseFloat(n);else return n;const t=bT(n,e.target.x),r=bT(n,e.target.y);return`${t}% ${r}%`}},LF={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,s=to.parse(n);if(s.length>5)return r;const i=to.createTransformer(n),o=typeof s[0]!="number"?1:0,c=t.x.scale*e.x,u=t.y.scale*e.y;s[0+o]/=c,s[1+o]/=u;const f=Kt(c,u,.5);return typeof s[2+o]=="number"&&(s[2+o]/=f),typeof s[3+o]=="number"&&(s[3+o]/=f),i(s)}};class zF extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;xU(VF),i&&(t.group&&t.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Kp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==t||t===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Lt.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Zx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function SO(n){const[e,t]=iN(),r=M.useContext(Tx);return v.jsx(zF,{...n,layoutGroup:r,switchLayoutGroup:M.useContext(XN),isPresent:e,safeToRemove:t})}const VF={borderRadius:{...Ad,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ad,borderTopRightRadius:Ad,borderBottomLeftRadius:Ad,borderBottomRightRadius:Ad,boxShadow:LF};function BF(n,e,t){const r=Wn(n)?n:df(n);return r.start(aw("",r,e,t)),r.animation}function IF(n){return n instanceof SVGElement&&n.tagName!=="svg"}const UF=(n,e)=>n.depth-e.depth;class FF{constructor(){this.children=[],this.isDirty=!1}add(e){Nx(this.children,e),this.isDirty=!0}remove(e){Ox(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(UF),this.isDirty=!1,this.children.forEach(e)}}function $F(n,e){const t=Sr.now(),r=({timestamp:s})=>{const i=s-t;i>=e&&(eo(r),n(i-e))};return Lt.setup(r,!0),()=>eo(r)}const kO=["TopLeft","TopRight","BottomLeft","BottomRight"],qF=kO.length,xT=n=>typeof n=="string"?parseFloat(n):n,wT=n=>typeof n=="number"||$e.test(n);function HF(n,e,t,r,s,i){s?(n.opacity=Kt(0,t.opacity??1,KF(r)),n.opacityExit=Kt(e.opacity??1,0,GF(r))):i&&(n.opacity=Kt(e.opacity??1,t.opacity??1,r));for(let o=0;o<qF;o++){const c=`border${kO[o]}Radius`;let u=ST(e,c),f=ST(t,c);if(u===void 0&&f===void 0)continue;u||(u=0),f||(f=0),u===0||f===0||wT(u)===wT(f)?(n[c]=Math.max(Kt(xT(u),xT(f),r),0),(Ws.test(f)||Ws.test(u))&&(n[c]+="%")):n[c]=f}(e.rotate||t.rotate)&&(n.rotate=Kt(e.rotate||0,t.rotate||0,r))}function ST(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const KF=_O(0,.5,mN),GF=_O(.5,.95,ps);function _O(n,e,t){return r=>r<n?0:r>e?1:t(lf(n,e,r))}function kT(n,e){n.min=e.min,n.max=e.max}function ns(n,e){kT(n.x,e.x),kT(n.y,e.y)}function _T(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function ET(n,e,t,r,s){return n-=e,n=hm(n,1/t,r),s!==void 0&&(n=hm(n,1/s,r)),n}function ZF(n,e=0,t=1,r=.5,s,i=n,o=n){if(Ws.test(e)&&(e=parseFloat(e),e=Kt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let c=Kt(i.min,i.max,r);n===i&&(c-=e),n.min=ET(n.min,e,t,c,s),n.max=ET(n.max,e,t,c,s)}function TT(n,e,[t,r,s],i,o){ZF(n,e[t],e[r],e[s],e.scale,i,o)}const YF=["x","scaleX","originX"],QF=["y","scaleY","originY"];function CT(n,e,t,r){TT(n.x,e,YF,t?t.x:void 0,r?r.x:void 0),TT(n.y,e,QF,t?t.y:void 0,r?r.y:void 0)}function AT(n){return n.translate===0&&n.scale===1}function EO(n){return AT(n.x)&&AT(n.y)}function MT(n,e){return n.min===e.min&&n.max===e.max}function JF(n,e){return MT(n.x,e.x)&&MT(n.y,e.y)}function NT(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function TO(n,e){return NT(n.x,e.x)&&NT(n.y,e.y)}function OT(n){return lr(n.x)/lr(n.y)}function jT(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class XF{constructor(){this.members=[]}add(e){Nx(this.members,e),e.scheduleRender()}remove(e){if(Ox(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let r;for(let s=t;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function WF(n,e,t){let r="";const s=n.x.translate/e.x,i=n.y.translate/e.y,o=(t==null?void 0:t.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:f,rotate:p,rotateX:m,rotateY:y,skewX:b,skewY:w}=t;f&&(r=`perspective(${f}px) ${r}`),p&&(r+=`rotate(${p}deg) `),m&&(r+=`rotateX(${m}deg) `),y&&(r+=`rotateY(${y}deg) `),b&&(r+=`skewX(${b}deg) `),w&&(r+=`skewY(${w}deg) `)}const c=n.x.scale*e.x,u=n.y.scale*e.y;return(c!==1||u!==1)&&(r+=`scale(${c}, ${u})`),r||"none"}const I0=["","X","Y","Z"],e6={visibility:"hidden"},RT=1e3;let t6=0;function U0(n,e,t,r){const{latestValues:s}=e;s[n]&&(t[n]=s[n],e.setStaticValue(n,0),r&&(r[n]=0))}function CO(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=cO(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:i}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Lt,!(s||i))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&CO(r)}function AO({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},c=e==null?void 0:e()){this.id=t6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(s6),this.nodes.forEach(c6),this.nodes.forEach(u6),this.nodes.forEach(i6)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new FF)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Dx),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const u=this.eventHandlers.get(o);u&&u.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=IF(o),this.instance=o;const{layoutId:u,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(f||u)&&(this.isLayoutDirty=!0),n){let m;const y=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=$F(y,250),Kp.hasAnimatedSinceResize&&(Kp.hasAnimatedSinceResize=!1,this.nodes.forEach(PT))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||f)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:y,hasRelativeLayoutChanged:b,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||p.getDefaultTransition()||m6,{onLayoutAnimationStart:k,onLayoutAnimationComplete:E}=p.getProps(),T=!this.targetLayout||!TO(this.targetLayout,w),N=!y&&b;if(this.options.layoutRoot||this.resumeFrom||N||y&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,N);const U={...Kx(S,"layout"),onPlay:k,onComplete:E};(p.shouldReduceMotion||this.options.layoutRoot)&&(U.delay=0,U.type=!1),this.startAnimation(U)}else y||PT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,eo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(d6),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&CO(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const m=this.path[p];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(DT);return}this.isUpdating||this.nodes.forEach(o6),this.isUpdating=!1,this.nodes.forEach(l6),this.nodes.forEach(n6),this.nodes.forEach(r6),this.clearAllSnapshots();const c=Sr.now();In.delta=qi(0,1e3/60,c-In.timestamp),In.timestamp=c,In.isProcessing=!0,j0.update.process(In),j0.preRender.process(In),j0.render.process(In),In.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Zx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(a6),this.sharedNodes.forEach(f6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Lt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Lt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!lr(this.snapshot.measuredBox.x)&&!lr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=an(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!EO(this.projectionDelta),u=this.getTransformTemplate(),f=u?u(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;o&&(c||qo(this.latestValues)||p)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return o&&(u=this.removeTransform(u)),g6(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:o}=this.options;if(!o)return an();const c=o.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(y6))){const{scroll:p}=this.root;p&&(Pc(c.x,p.offset.x),Pc(c.y,p.offset.y))}return c}removeElementScroll(o){var u;const c=an();if(ns(c,o),(u=this.scroll)!=null&&u.wasRoot)return c;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:m,options:y}=p;p!==this.root&&m&&y.layoutScroll&&(m.wasRoot&&ns(c,o),Pc(c.x,m.offset.x),Pc(c.y,m.offset.y))}return c}applyTransform(o,c=!1){const u=an();ns(u,o);for(let f=0;f<this.path.length;f++){const p=this.path[f];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Lc(u,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),qo(p.latestValues)&&Lc(u,p.latestValues)}return qo(this.latestValues)&&Lc(u,this.latestValues),u}removeTransform(o){const c=an();ns(c,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];if(!f.instance||!qo(f.latestValues))continue;vb(f.latestValues)&&f.updateSnapshot();const p=an(),m=f.measurePageBox();ns(p,m),CT(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return qo(this.latestValues)&&CT(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==In.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var y;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:m}=this.options;if(!(!this.layout||!(p||m))){if(this.resolvedRelativeTargetAt=In.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=an(),this.relativeTargetOrigin=an(),Wd(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),ns(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=an(),this.targetWithTransforms=an()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bF(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ns(this.target,this.layout.layoutBox),yO(this.target,this.targetDelta)):ns(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=an(),this.relativeTargetOrigin=an(),Wd(this.relativeTargetOrigin,this.target,b.target),ns(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||vb(this.parent.latestValues)||gO(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===In.timestamp&&(u=!1),u)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;ns(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,y=this.treeScale.y;xF(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=an());const{target:b}=o;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_T(this.prevProjectionDelta.x,this.projectionDelta.x),_T(this.prevProjectionDelta.y,this.projectionDelta.y)),Xd(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==y||!jT(this.projectionDelta.x,this.prevProjectionDelta.x)||!jT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Dc(),this.projectionDelta=Dc(),this.projectionDeltaWithTransform=Dc()}setAnimationOrigin(o,c=!1){const u=this.snapshot,f=u?u.latestValues:{},p={...this.latestValues},m=Dc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const y=an(),b=u?u.source:void 0,w=this.layout?this.layout.source:void 0,S=b!==w,k=this.getStack(),E=!k||k.members.length<=1,T=!!(S&&!E&&this.options.crossfade===!0&&!this.path.some(p6));this.animationProgress=0;let N;this.mixTargetDelta=U=>{const A=U/1e3;LT(m.x,o.x,A),LT(m.y,o.y,A),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wd(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),h6(this.relativeTarget,this.relativeTargetOrigin,y,A),N&&JF(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=an()),ns(N,this.relativeTarget)),S&&(this.animationValues=p,HF(p,f,this.latestValues,A,T,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(eo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Lt.update(()=>{Kp.hasAnimatedSinceResize=!0,this.currentAnimation=BF(0,RT,{...o,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(RT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:u,layout:f,latestValues:p}=o;if(!(!c||!u||!f)){if(this!==o&&this.layout&&f&&MO(this.options.animationType,this.layout.layoutBox,f.layoutBox)){u=this.target||an();const m=lr(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+m;const y=lr(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+y}ns(c,u),Lc(c,p),Xd(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new XF),this.sharedNodes.get(o).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var c;const{layoutId:o}=this.options;return o?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:o}=this.options;return o?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:u}={}){const f=this.getStack();f&&f.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const f={};u.z&&U0("z",o,f,this.animationValues);for(let p=0;p<I0.length;p++)U0(`rotate${I0[p]}`,o,f,this.animationValues),U0(`skew${I0[p]}`,o,f,this.animationValues);o.render();for(const p in f)o.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return e6;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Hp(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=Hp(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!qo(this.latestValues)&&(b.transform=u?u({},""):"none",this.hasProjected=!1),b}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=WF(this.projectionDeltaWithTransform,this.treeScale,p),u&&(c.transform=u(p,c.transform));const{x:m,y}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,f.animationValues?c.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const b in hf){if(p[b]===void 0)continue;const{correct:w,applyTo:S,isCSSVariable:k}=hf[b],E=c.transform==="none"?p[b]:w(p[b],f);if(S){const T=S.length;for(let N=0;N<T;N++)c[S[N]]=E}else k?this.options.visualElement.renderState.vars[b]=E:c[b]=E}return this.options.layoutId&&(c.pointerEvents=f===this?Hp(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var c;return(c=o.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(DT),this.root.sharedNodes.clear()}}}function n6(n){n.updateLayout()}function r6(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=n.layout,{animationType:i}=n.options,o=e.source!==n.layout.source;i==="size"?rs(m=>{const y=o?e.measuredBox[m]:e.layoutBox[m],b=lr(y);y.min=r[m].min,y.max=y.min+b}):MO(i,e.layoutBox,r)&&rs(m=>{const y=o?e.measuredBox[m]:e.layoutBox[m],b=lr(r[m]);y.max=y.min+b,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[m].max=n.relativeTarget[m].min+b)});const c=Dc();Xd(c,r,e.layoutBox);const u=Dc();o?Xd(u,n.applyTransform(s,!0),e.measuredBox):Xd(u,r,e.layoutBox);const f=!EO(c);let p=!1;if(!n.resumeFrom){const m=n.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:y,layout:b}=m;if(y&&b){const w=an();Wd(w,e.layoutBox,y.layoutBox);const S=an();Wd(S,r,b.layoutBox),TO(w,S)||(p=!0),m.options.layoutRoot&&(n.relativeTarget=S,n.relativeTargetOrigin=w,n.relativeParent=m)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:u,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function s6(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function i6(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function a6(n){n.clearSnapshot()}function DT(n){n.clearMeasurements()}function o6(n){n.isLayoutDirty=!1}function l6(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function PT(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function c6(n){n.resolveTargetDelta()}function u6(n){n.calcProjection()}function d6(n){n.resetSkewAndRotation()}function f6(n){n.removeLeadSnapshot()}function LT(n,e,t){n.translate=Kt(e.translate,0,t),n.scale=Kt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function zT(n,e,t,r){n.min=Kt(e.min,t.min,r),n.max=Kt(e.max,t.max,r)}function h6(n,e,t,r){zT(n.x,e.x,t.x,r),zT(n.y,e.y,t.y,r)}function p6(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const m6={duration:.45,ease:[.4,0,.1,1]},VT=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),BT=VT("applewebkit/")&&!VT("chrome/")?Math.round:ps;function IT(n){n.min=BT(n.min),n.max=BT(n.max)}function g6(n){IT(n.x),IT(n.y)}function MO(n,e,t){return n==="position"||n==="preserve-aspect"&&!vF(OT(e),OT(t),.2)}function y6(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const v6=AO({attachResizeListener:(n,e)=>mf(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),F0={current:void 0},NO=AO({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!F0.current){const n=new v6({});n.mount(window),n.setOptions({layoutScroll:!0}),F0.current=n}return F0.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),b6={pan:{Feature:PF},drag:{Feature:DF,ProjectionNode:NO,MeasureLayout:SO}};function UT(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,i=r[s];i&&Lt.postRender(()=>i(e,eh(e)))}class x6 extends fo{mount(){const{current:e}=this.node;e&&(this.unmount=YI(e,(t,r)=>(UT(this.node,r,"Start"),s=>UT(this.node,s,"End"))))}unmount(){}}class w6 extends fo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Jf(mf(this.node.current,"focus",()=>this.onFocus()),mf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function FT(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),i=r[s];i&&Lt.postRender(()=>i(e,eh(e)))}class S6 extends fo{mount(){const{current:e}=this.node;e&&(this.unmount=WI(e,(t,r)=>(FT(this.node,r,"Start"),(s,{success:i})=>FT(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const wb=new WeakMap,$0=new WeakMap,k6=n=>{const e=wb.get(n.target);e&&e(n)},_6=n=>{n.forEach(k6)};function E6({root:n,...e}){const t=n||document;$0.has(t)||$0.set(t,{});const r=$0.get(t),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(_6,{root:n,...e})),r[s]}function T6(n,e,t){const r=E6(e);return wb.set(n,t),r.observe(n),()=>{wb.delete(n),r.unobserve(n)}}const C6={some:0,all:1};class A6 extends fo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:s="some",once:i}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:C6[s]},c=u=>{const{isIntersecting:f}=u;if(this.isInView===f||(this.isInView=f,i&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:m}=this.node.getProps(),y=f?p:m;y&&y(u)};return T6(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(M6(e,t))&&this.startObserver()}unmount(){}}function M6({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const N6={inView:{Feature:A6},tap:{Feature:S6},focus:{Feature:w6},hover:{Feature:x6}},O6={layout:{ProjectionNode:NO,MeasureLayout:SO}},Sb={current:null},OO={current:!1};function j6(){if(OO.current=!0,!!Ax)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Sb.current=n.matches;n.addListener(e),e()}else Sb.current=!1}const R6=new WeakMap;function D6(n,e,t){for(const r in e){const s=e[r],i=t[r];if(Wn(s))n.addValue(r,s);else if(Wn(i))n.addValue(r,df(s,{owner:n}));else if(i!==s)if(n.hasValue(r)){const o=n.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=n.getStaticValue(r);n.addValue(r,df(o!==void 0?o:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const $T=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class P6{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Hx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Sr.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Lt.render(this.render,!1,!0))};const{latestValues:u,renderState:f,onUpdate:p}=o;this.onUpdate=p,this.latestValues=u,this.baseTarget={...u},this.initialValues=t.initial?{...u}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!i,this.isControllingVariants=Gm(t),this.isVariantNode=QN(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...y}=this.scrapeMotionValuesFromProps(t,{},this);for(const b in y){const w=y[b];u[b]!==void 0&&Wn(w)&&w.set(u[b],!1)}}mount(e){this.current=e,R6.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),OO.current||j6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Sb.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),eo(this.notifyUpdate),eo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=jl.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=t.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Lt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=t.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in hu){const t=hu[e];if(!t)continue;const{isEnabled:r,Feature:s}=t;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):an()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<$T.length;r++){const s=$T[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=D6(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=df(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(aN(r)||oN(r))?r=parseFloat(r):!rU(r)&&to.test(t)&&(r=$N(e,t)),this.setBaseTarget(e,Wn(r)?r.get():r)),Wn(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var i;const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const o=sw(this.props,t,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(t&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Wn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Dx),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class jO extends P6{constructor(){super(...arguments),this.KeyframeResolver=KI}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Wn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function L6(n){return window.getComputedStyle(n)}class z6 extends jO{constructor(){super(...arguments),this.type="html",this.renderInstance=iO}readValueFromInstance(e,t){if(jl.has(t))return dI(e,t);{const r=L6(e),s=(zx(t)?r.getPropertyValue(t):r[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return vO(e,t)}build(e,t,r){Wx(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return iw(e,t,r)}}class V6 extends jO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=an,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&sO(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(jl.has(t)){const r=FN(t);return r&&r.default||0}return t=aO.has(t)?t:Xx(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return lO(e,t,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&Lt.postRender(this.updateDimensions)}build(e,t,r){nw(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,s){oO(e,t,r,s)}mount(e){this.isSVGTag=rw(e.tagName),super.mount(e)}}const B6=(n,e)=>tw(n)?new V6(e):new z6(e,{allowProjection:n!==M.Fragment}),I6=VU({...uF,...N6,...b6,...O6},B6),$t=lU(I6),U6=({item:n})=>{const e=_r(i=>i.removeItem),t=_r(i=>i.updateQuantity),r=()=>{t(n.variantId,n.quantity+1)},s=()=>{n.quantity>1&&t(n.variantId,n.quantity-1)};return v.jsxs($t.li,{layout:!0,initial:{opacity:0,scale:.85},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9,y:20},transition:{duration:1.5,ease:"easeInOut"},className:"flex justify-between items-center gap-5",children:[v.jsx("div",{className:"flex",children:v.jsx("img",{src:n.image,alt:n.name,className:"w-20 h-20 object-contain"})}),v.jsxs("div",{className:"flex-1 space-y-3",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("p",{className:"font-semibold text-black",children:n.name}),v.jsx("p",{className:"text-sm font-medium text-gray-600 mt-1",children:Ht(n.price*n.quantity)})]}),v.jsx("div",{className:"flex gap-3",children:v.jsxs("p",{className:"text-[13px] text-gray-600",children:[n.size," / ",n.color]})}),v.jsxs("div",{className:"flex gap-4",children:[v.jsxs("div",{className:"flex items-center gap-5 px-2 border border-slate-200 w-fit rounded-full",children:[v.jsx("button",{onClick:s,disabled:n.quantity===1,children:v.jsx(iM,{size:15,className:"text-black"})}),v.jsx("span",{className:"text-slate-500 text-sm",children:n.quantity}),v.jsx("button",{onClick:r,children:v.jsx(fx,{size:15,className:"text-black"})})]}),v.jsx("button",{className:"underline font-medium text-[10px]",onClick:()=>e(n.variantId),children:"Delete"})]})]})]})},F6=()=>{const n=Fi(s=>s.closeSheet),e=_r(s=>s.items),t=_r(s=>s.clearCart),r=_r(s=>s.totalItemsInCart);return v.jsxs("div",{className:"flex flex-col h-full",children:[v.jsxs("div",{className:"px-5 py-7 flex justify-between items-center border-b border-slate-200",children:[v.jsx("span",{className:"flex gap-3 items-center font-semibold",children:v.jsx(I4,{size:25})}),r," items",v.jsx("button",{onClick:n,children:v.jsx(hx,{stroke:2,size:25,className:"text-black"})})]}),r>0?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"p-7 overflow-auto flex-1",children:v.jsx("ul",{className:"space-y-9",children:e.map(s=>v.jsx(U6,{item:s},s.variantId))})}),v.jsxs("div",{className:"mt-4 p-7",children:[v.jsxs(bt,{to:"/checkout",className:"w-full bg-black text-white py-3.5 rounded-full flex items-center justify-center gap-3",children:[v.jsx(B4,{size:25}),"Continue shopping"]}),v.jsx("button",{className:"mt-3 w-full text-black border border-black rounded-full py-3",onClick:t,children:"Clean cart"})]})]}):v.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-7",children:[v.jsx("p",{className:"text-sm font-medium tracking-tight text-slate-500",children:"Cart is empty"}),v.jsx(bt,{to:"/shop all",className:"py-4 bg-black text-white rounded-full px-7 text-xs uppercase tracking-widest font-semibold",onClick:n,children:"Go shopping"})]})]})},$6=()=>{const[n,e]=M.useState(""),t=Fi(c=>c.closeSheet),[r,s]=M.useState([]),i=bn(),o=async c=>{if(c.preventDefault(),n.trim()){const u=await U5(n);s(u)}};return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"py-5 px-7 flex gap-10 items-center border-b border-slate-200",children:[v.jsxs("form",{className:"flex items-center flex-1 gap-3",onSubmit:o,children:[v.jsx(aM,{size:22}),v.jsx("input",{type:"text",placeholder:"what are you looking for?",className:"outline-none w-full text-sm text-slate-400",value:n,onChange:c=>e(c.target.value)})]}),v.jsx("button",{onClick:t,children:v.jsx(hx,{size:25,className:"text-black"})})]}),v.jsx("div",{className:"p-5",children:r.length>0?v.jsx("ul",{children:r.map(c=>v.jsx("li",{className:"py-2 group",children:v.jsxs("button",{className:"flex items-center gap-3",onClick:()=>{i(`/products/${c.slug}`),t()},children:[v.jsx("img",{src:c.images[0],alt:c.name,className:"h-20 w-20 object-contain p-3"}),v.jsxs("div",{className:"flex flex-col gap-1",children:[v.jsx("p",{className:"text-sm font-semibold group-hover:underline",children:c.name}),v.jsxs("p",{className:"text-[13px] text-gray-600",children:[c.variants[0].size," /"," ",c.variants[0].color_name]}),v.jsx("p",{className:"text-sm font-medium text-gray-600",children:Ht(c.variants[0].price)})]})]})},c.id))}):v.jsx("p",{className:"text-sm text-gray-600",children:"No results found"})})]})},q6=()=>{const n=Fi(s=>s.sheetContent),e=Fi(s=>s.closeSheet),t=M.useRef(null);M.useEffect(()=>{document.body.style.overflow="hidden";const s=i=>{t.current&&!t.current.contains(i.target)&&e()};return document.addEventListener("mousedown",s),()=>{document.body.style.overflow="unset",document.removeEventListener("mousedown",s)}},[e]);const r=()=>{switch(n){case"cart":return v.jsx(F6,{});case"search":return v.jsx($6,{});default:return null}};return v.jsx("div",{className:"fixed inset-0 bg-opacity-50 z-50 flex justify-end animate-fade-in-left delay-200",children:v.jsx("div",{ref:t,className:"bg-white text-black h-screen w-[500px] md:w-[50%] shadow-lg animate-slide-in-left",children:r()})})},H6=()=>v.jsx(bt,{to:"/",className:"flex items-center",children:v.jsx("img",{src:"/logo.PNG",alt:"Logo",height:140,width:140,className:"mx-4"})}),K6=()=>{const n=Fi(e=>e.setActiveNavMobile);return v.jsxs("div",{className:"bg-white fixed py-32 text-black h-screen w-full shadow-lg animate-slide-in-left delay-1000 z-50 flex justify-center",children:[v.jsx("button",{className:"absolute top-5 right-5",onClick:()=>n(!1),children:v.jsx(hx,{size:30,className:"text-black hover:text-slate-800 cursor-pointer"})}),v.jsxs("div",{className:"flex flex-col gap-16",children:[v.jsx(bt,{to:"/",onClick:()=>n(!1),children:v.jsx(H6,{})}),v.jsx("nav",{className:"flex flex-col items-center gap-5",children:lM.map(e=>v.jsx(cu,{to:e.href,className:({isActive:t})=>`
                            ${t?"text-slate-950 underline":""} transition all duration-300 
                            font-semibold text-xl hover:underline} 
                            `,children:e.title},e.id))})]})]})},G6=()=>{const{pathname:n}=Gi(),e=Fi(r=>r.isSheetOpen),t=Fi(r=>r.activeNavMobile);return v.jsxs("div",{className:"h-screen flex flex-col",children:[v.jsx(eB,{}),n==="/"&&v.jsx(rB,{}),v.jsx("main",{className:"container mx-auto my-8 flex-1",children:v.jsx(ix,{})}),e&&v.jsx(q6,{}),t&&v.jsx(K6,{}),v.jsx(nB,{})]})},Z6=[{image:"/brands/chrome.png",alt:"Chrome Hearts",url:"https://www.chromehearts.com"},{image:"/brands/denimTears.png",alt:"Denim Tears",url:"https://denimtears.com/do/"},{image:"/brands/erickemmanuel.png",alt:"erick emmanuel",url:"https://www.ericemanuel.com"},{image:"/brands/essentials.png",alt:"essentials",url:"https://fearofgod.com/en-do"},{image:"/brands/galleryDept.png",alt:"Gallery Dept",url:"https://www.chromehearts.com"},{image:"/brands/NB.png",alt:"New Balance",url:"https://www.newbalance.com"},{image:"/brands/Nike.png",alt:"Nike",url:"https://www.nike.com/es/"},{image:"/brands/RHUDE.png",alt:"RHUDE",url:"https://rh-ude.com"},{image:"/brands/YZY.png",alt:"Yezzy",url:"https://www.adidas.com/us"},{image:"/brands/Godspeed.png",alt:"Godspeed",url:"https://www.godspeednewyork.com"},{image:"/brands/Hellstar_Logo.png",alt:"Hellstar",url:"https://www.hellstar.com"},{image:"/brands/AntiSocial.png",alt:"Anti Social Club",url:"https://www.antisocialsocialclub.com"}],Y6=()=>v.jsxs("div",{className:"container mx-auto px-4 flex flex-col items-center text-center gap-6 pt-16 pb-12",children:[v.jsx("h2",{className:"font-bold text-5xl text-black",children:"Brands available"}),v.jsx("p",{className:"w-full max-w-2xl text-lg text-black",children:"Discover our exclusive collection of clothing from top brands at unbeatable prices."}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-x-12 gap-y-8 mt-8 justify-center",children:Z6.map((n,e)=>v.jsx("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center justify-center h-32 w-32 md:h-40 md:w-40 bg-gradient-to-b from-black/10 via-black/5 to-transparent px-6 py-4 rounded-lg hover:opacity-80",children:v.jsx("img",{src:n.image,alt:n.alt,className:"w-24 h-24 object-contain"})},e))})]}),Q6=n=>{const e=n.toLowerCase();return e==="New"?"bg-slate-800":e==="Sold out"?"bg-red-600":"bg-slate-400"},RO=({contentTag:n})=>v.jsx("div",{className:`text-white w-fit px-2 ${Q6(n)}`,children:v.jsx("p",{className:"uppercase text-xs font-medium",children:n})}),DO=({img:n,name:e,price:t,slug:r,colors:s,variants:i})=>{const[o,c]=M.useState(s.length>0?s[0]:null),u=i.find(y=>y.color===(o==null?void 0:o.color)),f=(u==null?void 0:u.stock)||0,p=_r(y=>y.addItem),m=y=>{y.preventDefault(),u&&u.stock>0?(p({variantId:u.id,productId:r,name:e,image:n,color:(o==null?void 0:o.name)||"Unknown",price:u.price,size:u.size,quantity:1}),Vr.success("Product added to cart successfully",{position:"bottom-right"})):Vr.error("Product out of stock",{position:"bottom-right"})};return v.jsxs("div",{className:"flex flex-col gap-6 relative",children:[v.jsxs(bt,{to:`/products/${r}`,className:"flex relative group overflow-hidden",children:[v.jsx("div",{className:"flex h-[350px] w-full items-center justify-center py-2 lg:h-[250px]",children:v.jsx("img",{src:n,alt:e,className:"object-contain h-full w-full"})}),v.jsxs("button",{onClick:m,className:`bg-black border-slate-200 text-white absolute w-full bottom-0 py-3 rounded-3xl flex items-center justify-center gap-1
                    text-sm font-medium hover:bg-stone-400 translate-y-[100%] transition-all duration-300 group-hover:translate-y-0`,children:[v.jsx(fx,{}),"Add cart"]})]}),v.jsxs("div",{className:"flex flex-col gap-1 items-center",children:[v.jsx("p",{className:"text-[15px] font-medium text-black",children:e}),v.jsx("p",{className:"text-[15px] font-medium text-black",children:Ht(t)}),s.length>0&&v.jsx("div",{className:"flex gap-3",children:s.map(y=>v.jsx("span",{className:`grid place-items-center w-5 h-5 rounded-full cursor-pointer ${(o==null?void 0:o.color)===y.color?"border border-black":""}`,onClick:()=>c(y),children:v.jsx("span",{className:"w-[14px] h-[14px] rounded-full",style:{backgroundColor:y.color}})},y.name))})]}),v.jsx("div",{className:"absolute top-2 left-2",children:f===0&&v.jsx(RO,{contentTag:"Sold Out"})})]})},qT=({title:n,products:e})=>v.jsxs("div",{className:"my-32",children:[v.jsx("h2",{className:"text-5xl font-semibold text-center mb-8 w-full text-black",children:n}),v.jsx("div",{className:"grid grid-cols-1 gap-4 gap-y-8 sm:grid-cols-2 lg:grid-cols-4 items-center justify-center",children:e.map(t=>v.jsx(DO,{name:t.name,price:t.price,colors:t.colors,img:t.images[0],slug:t.slug,variants:t.variants},t.id))})]}),J6=()=>v.jsxs("div",{className:"grid grid-cols-2 gap-8 mt-6 mb-16 md:grid-cols-2 lg:grid-cols-4 lg:gap-5 ",children:[v.jsxs("div",{className:"flex items-center gap-4 ",children:[v.jsx(F4,{className:"text-gray-400 w-10 h-10 min-w-[40px] min-h-[40px]"}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("p",{className:"font-semibold text-black",children:"Free Shipping"}),v.jsx("p",{className:"text-sm text-black",children:"Get free shipping on all orders over $50"})]})]}),v.jsxs("div",{className:"flex items-center gap-4 ",children:[v.jsx(V4,{className:"text-gray-400 w-10 h-10 min-w-[40px] min-h-[40px]"}),v.jsxs("div",{className:"space-y-1 text-black",children:[v.jsx("p",{className:"font-semibold",children:"Money Back Guarantee"}),v.jsx("p",{className:"text-sm",children:"30-day money back guarantee"})]})]}),v.jsxs("div",{className:"flex items-center gap-4 ",children:[v.jsx(O4,{className:"text-gray-400 w-10 h-10 min-w-[40px] min-h-[40px]"}),v.jsxs("div",{className:"space-y-1 text-black",children:[v.jsx("p",{className:"font-semibold",children:"Secure Payment"}),v.jsx("p",{className:"text-sm",children:"100% secure payment "})]})]}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx(H4,{className:"text-gray-400 w-10 h-10 min-w-[40px] min-h-[40px]"}),v.jsxs("div",{className:"space-y-1 text-black",children:[v.jsx("p",{className:"font-semibold",children:"24/7 Support"}),v.jsx("p",{className:"text-sm",children:"We offer 24/7 customer support "})]})]})]}),HT=({numberOfProducts:n})=>v.jsx("div",{className:"my-20",children:v.jsx("div",{className:"grid grid-col-1 sm:grid-cols-2 lg:grid-col-4 gap-4 gap-y-8 animate-pulse",children:Array.from({length:n}).map((e,t)=>v.jsx("div",{className:"bg-gray-200 h-[250px]"},t))})}),X6=()=>{const{recentProducts:n,popularProducts:e,isLoading:t}=W5(),r=Gv(n),s=Gv(e);return v.jsxs("div",{children:[v.jsx(J6,{}),t?v.jsx(HT,{numberOfProducts:4}):v.jsx(qT,{title:"Recent Products",products:r}),t?v.jsx(HT,{numberOfProducts:4}):v.jsx(qT,{title:"Popular Products",products:s}),v.jsx(Y6,{})]})},W6=[{id:1,title:"Github",href:"https://github.com/A3xxx23/",icon:lx},{id:2,title:"Linkedin",href:"https://www.linkedin.com/in/angel-emilio-aquino/",icon:cx},{id:3,title:"Cellphone",href:"https://wa.me/18094038309",icon:dx},{id:4,title:"Gmail",href:"mailto:angelemilioaquino6@gmail.com",icon:ux}],e$=[{id:1,title:"Github",href:"https://github.com/ingtineo",icon:lx},{id:2,title:"Linkedin",href:"https://www.linkedin.com/in/nicole-tineo-2555a32ba/",icon:cx},{id:3,title:"Cellphone",href:"https://wa.me/18297034070",icon:dx},{id:4,title:"Gmail",href:"mailto:nicoletineo06@gmail.com",icon:ux}],t$=()=>v.jsxs($t.div,{className:"grid xl:grid-cols-3 xl:grid-rows-6 md:grid-cols-2 grid-cols-1 gap-5 h-full text-white p-5",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[v.jsx($t.div,{className:"col-span-1 xl:row-span-3 flex flex-col",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6},children:v.jsxs("div",{className:"grid-container bg-black rounded-lg shadow-lg p-4 flex-grow",children:[v.jsx("img",{src:"/avatarNicole.png",alt:"Avatar Nicole",className:"w-full sm:h-[276px] h-fit object-contain rounded-md mb-4"}),v.jsxs("div",{className:"flex-grow",children:[v.jsx("p",{className:"grid-headtext text-gray-300 font-bold text-lg",children:"Hi, I'm Nicole Tineo"}),v.jsx("p",{className:"grid-subtext text-gray-300 mt-2 text-md",children:"Stack: HTML, CSS, Javascript, Python, Django, Java, SQL Server, Figma, Photoshop, Bootstrap"}),v.jsx("p",{className:"grid-subtext text-gray-300 mt-2 text-md",children:"I'm a Systems Engineering student at UNPHU with a passion for graphic design and frontend development. I enjoy creating visually appealing and user-friendly web experiences."})]})]})}),v.jsx($t.div,{className:"col-span-1 xl:row-span-3 flex flex-col",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.7},children:v.jsxs("div",{className:"grid-container bg-black rounded-lg shadow-lg p-4 flex-grow",children:[v.jsx("img",{src:"/avatarAngel.png",alt:"Avatar Angel",className:"w-full sm:h-[276px] h-fit object-contain rounded-md mb-4"}),v.jsxs("div",{className:"flex-grow",children:[v.jsx("p",{className:"grid-headtext text-gray-300 font-bold text-lg",children:"Hi, I'm Angel Aquino"}),v.jsx("p",{className:"grid-subtext text-gray-300 mt-2 text-md",children:"Stack: HTML, CSS, Javascript, Python, Django, Java, React, TailwindCSS, PHP, MySQL, SQL Server, Figma, Bootstrap"}),v.jsx("p",{className:"grid-subtext text-gray-300 mt-2 text-md",children:"I'm a Systems Engineering student at UNPHU with a strong passion for frontend development and UX/UI design. I enjoy crafting intuitive and visually engaging user experiences."})]})]})}),v.jsx($t.div,{className:"col-span-1 xl:row-span-3 flex flex-col",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8},children:v.jsxs("div",{className:"grid-container bg-black rounded-lg shadow-lg p-2 flex-grow",children:[v.jsx("div",{className:"rounded-3xl w-full sm:h-[250px] h-fit flex justify-center items-center mb-4",children:v.jsx("img",{src:"/logoRemove.png",alt:"Logo",className:"max-w-[150px] max-h-[150px] object-contain"})}),v.jsxs("div",{className:"mt-6 text-center flex-grow",children:[v.jsx("p",{className:"grid-headtext text-gray-300 text-lg font-semibold leading-relaxed",children:"A&N Ecommerce was born with the vision of creating an online store that is not only functional, but also visually appealing and easy to use."}),v.jsx("p",{className:"grid-subtext text-gray-100 text-lg font-semibold mt-3 mb-1 leading-relaxed",children:"We focus on offering an intuitive, fluid, and modern user experience, combining design and technology to make every interaction enjoyable and efficient."})]})]})}),v.jsx($t.div,{className:"xl:col-span-2 xl:row-span-3",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:v.jsxs("div",{className:"grid-container bg-black rounded-lg shadow-lg p-4 flex flex-col items-center",children:[v.jsx("p",{className:"grid-headtext text-gray-300 lg:text-3xl font-bold mb-2 sm:text-2xl pt-1 sm:text-center bg-gradient-to-r from-neutral-900 via-slate-500 to-neutral-500 bg-[200%_auto] bg-clip-text leading-tight dark:via-slate-400 dark:to-neutral-400",children:"🚀 Technology Behind A&N Ecommerce"}),v.jsx("p",{className:"grid-subtext text-gray-100 lg:text-lg text-center mb-4 sm:text-md pt-1",children:"A&N Ecommerce is built using a modern and scalable technology stack, ensuring a seamless shopping experience. We leverage powerful tools and frameworks to create a fast, secure, and intuitive platform for our users."}),v.jsxs("div",{className:"flex flex-wrap justify-center gap-2 pt-7",children:[v.jsx($t.img,{src:"/stack/react_dark.svg",alt:"React",className:"h-12 w-12",whileHover:{scale:1.2}}),v.jsx($t.img,{src:"/stack/supabase.svg",alt:"Supabase",className:"h-12 w-12",whileHover:{scale:1.2}}),v.jsx($t.img,{src:"/stack/tanstack.svg",alt:"Tan Stack",className:"h-12 w-12",whileHover:{scale:1.2}}),v.jsx($t.img,{src:"/stack/reactrouter.svg",alt:"ReactRouter",className:"h-12 w-12",whileHover:{scale:1.2}}),v.jsx($t.img,{src:"/stack/tailwindcss.svg",alt:"tailwindCSS",className:"h-12 w-12",whileHover:{scale:1.2}}),v.jsx($t.img,{src:"/stack/typescript.svg",alt:"Typescript",className:"h-12 w-12",whileHover:{scale:1.2}}),v.jsx($t.img,{src:"/stack/zod.svg",alt:"Zod",className:"h-12 w-12",whileHover:{scale:1.2}}),v.jsx($t.img,{src:"/stack/netlify.svg",alt:"Netlify",className:"h-12 w-12",whileHover:{scale:1.2}}),v.jsx($t.img,{src:"/stack/motion_dark.svg",alt:"Framer Motion",className:"h-12 w-12",whileHover:{scale:1.2}})]})]})}),v.jsx($t.div,{className:"xl:col-span-1 xl:row-span-2",initial:{opacity:0},animate:{opacity:1},transition:{duration:1.2},children:v.jsxs("div",{className:"grid-container bg-black rounded-lg shadow-lg p-2 flex flex-col items-center",children:[v.jsx("h2",{className:"py-2 text-center text-xl font-bold text-gray-300",children:"Follow Nicole and Angel on social media"}),v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("h2",{className:"text-center text-xl font-semibold text-white mb-4 2xl:mb-1",children:"Nicole Tineo"}),v.jsx("div",{className:"flex justify-center gap-2",children:e$.map(n=>v.jsx($t.a,{href:n.href,target:"_blank",rel:"noreferrer",whileHover:{scale:1.2},children:v.jsx(n.icon,{className:"w-8 h-8 text-white hover:text-gray-500"})},n.id))})]}),v.jsx("div",{className:"w-full border-t border-gray-500 my-4"}),v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("h2",{className:"text-center text-xl font-semibold text-white mb-4 2xl:mb-0.5",children:"Angel Aquino"}),v.jsx("div",{className:"flex justify-center gap-2",children:W6.map(n=>v.jsx($t.a,{href:n.href,target:"_blank",rel:"noreferrer",whileHover:{scale:1.2},children:v.jsx(n.icon,{className:"w-8 h-12 text-white hover:text-gray-500 pb-1"})},n.id))})]})]})})]});class th{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const n$=()=>{if(!(typeof localStorage>"u"))return{get:n=>Promise.resolve(localStorage.getItem(n)),set:(n,e)=>Promise.resolve(localStorage.setItem(n,e)),remove:n=>Promise.resolve(localStorage.removeItem(n))}},Fn={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:n$()},ow=n=>n?typeof n=="string"?{publicKey:n}:n.toString()==="[object Object]"?n:{}:{},r$=(n,e="https://api.emailjs.com")=>{if(!n)return;const t=ow(n);Fn.publicKey=t.publicKey,Fn.blockHeadless=t.blockHeadless,Fn.storageProvider=t.storageProvider,Fn.blockList=t.blockList,Fn.limitRate=t.limitRate,Fn.origin=t.origin||e},PO=async(n,e,t={})=>{const r=await fetch(Fn.origin+n,{method:"POST",headers:t,body:e}),s=await r.text(),i=new th(r.status,s);if(r.ok)return i;throw i},LO=(n,e,t)=>{if(!n||typeof n!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},s$=n=>{if(n&&n.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},zO=n=>n.webdriver||!n.languages||n.languages.length===0,VO=()=>new th(451,"Unavailable For Headless Browser"),i$=(n,e)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},a$=n=>{var e;return!((e=n.list)!=null&&e.length)||!n.watchVariable},o$=(n,e)=>n instanceof FormData?n.get(e):n[e],BO=(n,e)=>{if(a$(n))return!1;i$(n.list,n.watchVariable);const t=o$(e,n.watchVariable);return typeof t!="string"?!1:n.list.includes(t)},IO=()=>new th(403,"Forbidden"),l$=(n,e)=>{if(typeof n!="number"||n<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},c$=async(n,e,t)=>{const r=Number(await t.get(n)||0);return e-Date.now()+r},UO=async(n,e,t)=>{if(!e.throttle||!t)return!1;l$(e.throttle,e.id);const r=e.id||n;return await c$(r,e.throttle,t)>0?!0:(await t.set(r,Date.now().toString()),!1)},FO=()=>new th(429,"Too Many Requests"),u$=async(n,e,t,r)=>{const s=ow(r),i=s.publicKey||Fn.publicKey,o=s.blockHeadless||Fn.blockHeadless,c=s.storageProvider||Fn.storageProvider,u={...Fn.blockList,...s.blockList},f={...Fn.limitRate,...s.limitRate};return o&&zO(navigator)?Promise.reject(VO()):(LO(i,n,e),s$(t),t&&BO(u,t)?Promise.reject(IO()):await UO(location.pathname,f,c)?Promise.reject(FO()):PO("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:i,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"}))},d$=n=>{if(!n||n.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},f$=n=>typeof n=="string"?document.querySelector(n):n,h$=async(n,e,t,r)=>{const s=ow(r),i=s.publicKey||Fn.publicKey,o=s.blockHeadless||Fn.blockHeadless,c=Fn.storageProvider||s.storageProvider,u={...Fn.blockList,...s.blockList},f={...Fn.limitRate,...s.limitRate};if(o&&zO(navigator))return Promise.reject(VO());const p=f$(t);LO(i,n,e),d$(p);const m=new FormData(p);return BO(u,m)?Promise.reject(IO()):await UO(location.pathname,f,c)?Promise.reject(FO()):(m.append("lib_version","4.4.1"),m.append("service_id",n),m.append("template_id",e),m.append("user_id",i),PO("/api/v1.0/email/send-form",m))},p$={init:r$,send:u$,sendForm:h$,EmailJSResponseStatus:th},m$=()=>{const n=M.useRef(null),e=t=>{t.preventDefault(),n.current&&p$.sendForm("service_naqglop","template_x9qhs2a",n.current,{publicKey:"4R0U3ZV2dXlX58yeZ"}).then(()=>{var r;Un.success("Email sent successfully!",{position:"bottom-right",duration:3e3}),(r=n.current)==null||r.reset()},r=>{Un.error("Email not sent. Please try again later.",{position:"bottom-right",duration:3e3}),console.error("FAILED...",r.text)})};return v.jsx($t.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:v.jsx("div",{className:"flex justify-center items-center min-h-screen px-4",children:v.jsxs("form",{ref:n,onSubmit:e,className:"w-full max-w-lg bg-white shadow-2xl rounded-2xl p-8 space-y-6",children:[v.jsx("h2",{className:"text-3xl font-bold text-center text-gray-800",children:"Contact Us"}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),v.jsx("input",{type:"text",name:"user_name",required:!0,className:"mt-1 w-full px-4 py-2 border border-gray-300 rounded-lg text-black shadow-sm focus:outline-none focus:ring-2 focus:ring-stone-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),v.jsx("input",{type:"email",name:"user_email",required:!0,className:"mt-1 w-full px-4 py-2 border border-gray-300  rounded-lg text-black shadow-sm focus:outline-none focus:ring-2 focus:ring-stone-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subject"}),v.jsx("input",{type:"text",name:"subject",required:!0,className:"mt-1 w-full px-4 py-2 border border-gray-300  rounded-lg text-black shadow-sm focus:outline-none focus:ring-2 focus:ring-stone-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Message"}),v.jsx("textarea",{name:"message",rows:4,required:!0,className:"mt-1 w-full px-4 py-2 border border-gray-300  rounded-lg shadow-sm text-black resize-none focus:outline-none focus:ring-2 focus:ring-stone-400"})]}),v.jsx("button",{type:"submit",className:"w-full bg-stone-900 hover:bg-stone-800 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition duration-200",children:"Send Message"})]})})})},$O=({className:n})=>v.jsx("div",{className:`bg-slate-200 h-px my-5 ${n}`}),g$=["Nike","Chrome Hearts","Eric Emanuel","Essentials","Gallery Dept","New Balance","Rhude","Adidas","Denim Tears","Godspeed","Hellstar","Anti Social Club","Maison Mihara Yasuhiro"],y$=({selectedBrands:n,setSelectedBrands:e})=>{const t=r=>{n.includes(r)?e(n.filter(s=>s!==r)):e([...n,r])};return v.jsxs("div",{className:"p-5 border border-slate-200 rounded-lg h-fit col-span-2 lg:col-span-1",children:[v.jsx("h3",{className:"text-xl mb-4 font-semibold",children:"Filters"}),v.jsx($O,{}),v.jsx("div",{className:"gap-2 flex flex-col",children:g$.map(r=>v.jsxs("label",{className:"inline-flex items-center",children:[v.jsx("input",{type:"checkbox",className:"text-black border-black focus:ring-black accent-black",checked:n.includes(r),onChange:()=>t(r)}),v.jsx("span",{className:"ml-2 text-gray-700 text-sm cursor-pointer",children:r})]},r))})]})},qO=({totalItems:n,page:e,setPage:t})=>{const r=()=>{t(e+1)},s=()=>{t(p=>Math.max(p-1,1))},o=n?Math.ceil(n/12):0,c=e>=o,u=(e-1)*12+1,f=Math.min(e*12,n);return v.jsxs("div",{className:"justify-between items-center flex",children:[v.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Showing"," ",v.jsxs("span",{className:"font-bold text-gray-900",children:[u," - ",f]})," "," ","of ",v.jsx("span",{className:"font-bold text-gray-900",children:n})," products"]}),v.jsxs("div",{className:" gap-3 flex",children:[v.jsx("button",{className:"btn-paginated",onClick:s,disabled:e===1,children:"Previous"}),v.jsx("button",{className:"btn-paginated",onClick:r,disabled:c,children:"Next"})]})]})},v$=()=>{const[n,e]=M.useState(1),[t,r]=M.useState([]),{data:s=[],isLoading:i,totalProducts:o}=X5({page:n,brand:t}),c=Gv(s);return v.jsxs(v.Fragment,{children:[v.jsx($t.h1,{className:"text-5xl font-semibold text-center mb-12 text-gray-900",initial:{opacity:0},animate:{opacity:1},transition:{duration:1,ease:"easeIn"},children:"All Products"}),v.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 text-black font-bold",children:[v.jsx($t.div,{className:"col-span-1",initial:{opacity:0},animate:{opacity:1},transition:{duration:.7},children:v.jsx(y$,{selectedBrands:t,setSelectedBrands:r})}),i?v.jsx(On,{}):v.jsxs("div",{className:"col-span-2 lg:col-span-2 xl:col-span-4 flex gap-12 flex-col",children:[v.jsx(lB,{children:v.jsx($t.div,{className:"grid gap-3 grid-cols-2 gap-y-10 xl:grid-cols-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.6},children:c.map(u=>v.jsx($t.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.8,ease:"easeInOut"},children:v.jsx(DO,{name:u.name,price:u.price,colors:u.colors,img:u.images[0],slug:u.slug,variants:u.variants},u.id)},u.id))},"products")}),v.jsx(qO,{page:n,setPage:e,totalItems:o})]})]})]})};function Bn(n){this.content=n}Bn.prototype={constructor:Bn,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,s=r.find(n),i=r.content.slice();return s==-1?i.push(t||n,e):(i[s+1]=e,t&&(i[s]=t)),new Bn(i)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new Bn(t)},addToStart:function(n,e){return new Bn([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new Bn(t)},addBefore:function(n,e,t){var r=this.remove(e),s=r.content.slice(),i=r.find(n);return s.splice(i==-1?s.length:i,0,e,t),new Bn(s)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=Bn.from(n),n.size?new Bn(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=Bn.from(n),n.size?new Bn(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=Bn.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};Bn.from=function(n){if(n instanceof Bn)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new Bn(e)};function HO(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let s=n.child(r),i=e.child(r);if(s==i){t+=s.nodeSize;continue}if(!s.sameMarkup(i))return t;if(s.isText&&s.text!=i.text){for(let o=0;s.text[o]==i.text[o];o++)t++;return t}if(s.content.size||i.content.size){let o=HO(s.content,i.content,t+1);if(o!=null)return o}t+=s.nodeSize}}function KO(n,e,t,r){for(let s=n.childCount,i=e.childCount;;){if(s==0||i==0)return s==i?null:{a:t,b:r};let o=n.child(--s),c=e.child(--i),u=o.nodeSize;if(o==c){t-=u,r-=u;continue}if(!o.sameMarkup(c))return{a:t,b:r};if(o.isText&&o.text!=c.text){let f=0,p=Math.min(o.text.length,c.text.length);for(;f<p&&o.text[o.text.length-f-1]==c.text[c.text.length-f-1];)f++,t--,r--;return{a:t,b:r}}if(o.content.size||c.content.size){let f=KO(o.content,c.content,t-1,r-1);if(f)return f}t-=u,r-=u}}class ne{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,s=0,i){for(let o=0,c=0;c<t;o++){let u=this.content[o],f=c+u.nodeSize;if(f>e&&r(u,s+c,i||null,o)!==!1&&u.content.size){let p=c+1;u.nodesBetween(Math.max(0,e-p),Math.min(u.content.size,t-p),r,s+p)}c=f}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,s){let i="",o=!0;return this.nodesBetween(e,t,(c,u)=>{let f=c.isText?c.text.slice(Math.max(e,u)-u,t-u):c.isLeaf?s?typeof s=="function"?s(c):s:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&f||c.isTextblock)&&r&&(o?o=!1:i+=r),i+=f},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,s=this.content.slice(),i=0;for(t.isText&&t.sameMarkup(r)&&(s[s.length-1]=t.withText(t.text+r.text),i=1);i<e.content.length;i++)s.push(e.content[i]);return new ne(s,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],s=0;if(t>e)for(let i=0,o=0;o<t;i++){let c=this.content[i],u=o+c.nodeSize;u>e&&((o<e||u>t)&&(c.isText?c=c.cut(Math.max(0,e-o),Math.min(c.text.length,t-o)):c=c.cut(Math.max(0,e-o-1),Math.min(c.content.size,t-o-1))),r.push(c),s+=c.nodeSize),o=u}return new ne(r,s)}cutByIndex(e,t){return e==t?ne.empty:e==0&&t==this.content.length?this:new ne(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let s=this.content.slice(),i=this.size+t.nodeSize-r.nodeSize;return s[e]=t,new ne(s,i)}addToStart(e){return new ne([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ne(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let s=this.content[t];e(s,r,t),r+=s.nodeSize}}findDiffStart(e,t=0){return HO(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return KO(this,e,t,r)}findIndex(e,t=-1){if(e==0)return Op(0,e);if(e==this.size)return Op(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,s=0;;r++){let i=this.child(r),o=s+i.nodeSize;if(o>=e)return o==e||t>0?Op(r+1,o):Op(r,s);s=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return ne.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new ne(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ne.empty;let t,r=0;for(let s=0;s<e.length;s++){let i=e[s];r+=i.nodeSize,s&&i.isText&&e[s-1].sameMarkup(i)?(t||(t=e.slice(0,s)),t[t.length-1]=i.withText(t[t.length-1].text+i.text)):t&&t.push(i)}return new ne(t||e,r)}static from(e){if(!e)return ne.empty;if(e instanceof ne)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ne([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ne.empty=new ne([],0);const q0={index:0,offset:0};function Op(n,e){return q0.index=n,q0.offset=e,q0}function pm(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!pm(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!pm(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let Ot=class kb{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let s=0;s<e.length;s++){let i=e[s];if(this.eq(i))return e;if(this.type.excludes(i.type))t||(t=e.slice(0,s));else{if(i.type.excludes(this.type))return e;!r&&i.type.rank>this.type.rank&&(t||(t=e.slice(0,s)),t.push(this),r=!0),t&&t.push(i)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&pm(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let s=r.create(t.attrs);return r.checkAttrs(s.attrs),s}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return kb.none;if(e instanceof kb)return[e];let t=e.slice();return t.sort((r,s)=>r.type.rank-s.type.rank),t}};Ot.none=[];class mm extends Error{}class ye{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=ZO(this.content,e+this.openStart,t);return r&&new ye(r,this.openStart,this.openEnd)}removeBetween(e,t){return new ye(GO(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return ye.empty;let r=t.openStart||0,s=t.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ye(ne.fromJSON(e,t.content),r,s)}static maxOpen(e,t=!0){let r=0,s=0;for(let i=e.firstChild;i&&!i.isLeaf&&(t||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=e.lastChild;i&&!i.isLeaf&&(t||!i.type.spec.isolating);i=i.lastChild)s++;return new ye(e,r,s)}}ye.empty=new ye(ne.empty,0,0);function GO(n,e,t){let{index:r,offset:s}=n.findIndex(e),i=n.maybeChild(r),{index:o,offset:c}=n.findIndex(t);if(s==e||i.isText){if(c!=t&&!n.child(o).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=o)throw new RangeError("Removing non-flat range");return n.replaceChild(r,i.copy(GO(i.content,e-s-1,t-s-1)))}function ZO(n,e,t,r){let{index:s,offset:i}=n.findIndex(e),o=n.maybeChild(s);if(i==e||o.isText)return n.cut(0,e).append(t).append(n.cut(e));let c=ZO(o.content,e-i-1,t);return c&&n.replaceChild(s,o.copy(c))}function b$(n,e,t){if(t.openStart>n.depth)throw new mm("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new mm("Inconsistent open depths");return YO(n,e,t,0)}function YO(n,e,t,r){let s=n.index(r),i=n.node(r);if(s==e.index(r)&&r<n.depth-t.openStart){let o=YO(n,e,t,r+1);return i.copy(i.content.replaceChild(s,o))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let o=n.parent,c=o.content;return hl(o,c.cut(0,n.parentOffset).append(t.content).append(c.cut(e.parentOffset)))}else{let{start:o,end:c}=x$(t,n);return hl(i,JO(n,o,c,e,r))}else return hl(i,gm(n,e,r))}function QO(n,e){if(!e.type.compatibleContent(n.type))throw new mm("Cannot join "+e.type.name+" onto "+n.type.name)}function _b(n,e,t){let r=n.node(t);return QO(r,e.node(t)),r}function fl(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function ef(n,e,t,r){let s=(e||n).node(t),i=0,o=e?e.index(t):s.childCount;n&&(i=n.index(t),n.depth>t?i++:n.textOffset&&(fl(n.nodeAfter,r),i++));for(let c=i;c<o;c++)fl(s.child(c),r);e&&e.depth==t&&e.textOffset&&fl(e.nodeBefore,r)}function hl(n,e){return n.type.checkContent(e),n.copy(e)}function JO(n,e,t,r,s){let i=n.depth>s&&_b(n,e,s+1),o=r.depth>s&&_b(t,r,s+1),c=[];return ef(null,n,s,c),i&&o&&e.index(s)==t.index(s)?(QO(i,o),fl(hl(i,JO(n,e,t,r,s+1)),c)):(i&&fl(hl(i,gm(n,e,s+1)),c),ef(e,t,s,c),o&&fl(hl(o,gm(t,r,s+1)),c)),ef(r,null,s,c),new ne(c)}function gm(n,e,t){let r=[];if(ef(null,n,t,r),n.depth>t){let s=_b(n,e,t+1);fl(hl(s,gm(n,e,t+1)),r)}return ef(e,null,t,r),new ne(r)}function x$(n,e){let t=e.depth-n.openStart,s=e.node(t).copy(n.content);for(let i=t-1;i>=0;i--)s=e.node(i).copy(ne.from(s));return{start:s.resolveNoCache(n.openStart+t),end:s.resolveNoCache(s.content.size-n.openEnd-t)}}class gf{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(t);return r?e.child(t).cut(r):s}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],s=t==0?0:this.path[t*3-1]+1;for(let i=0;i<e;i++)s+=r.child(i).nodeSize;return s}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Ot.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),s=e.maybeChild(t);if(!r){let c=r;r=s,s=c}let i=r.marks;for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!s||!i[o].isInSet(s.marks))&&(i=i[o--].removeFromSet(i));return i}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,s=e.parent.maybeChild(e.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!s||!r[i].isInSet(s.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new ym(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],s=0,i=t;for(let o=e;;){let{index:c,offset:u}=o.content.findIndex(i),f=i-u;if(r.push(o,c,s+u),!f||(o=o.child(c),o.isText))break;i=f-1,s+=u+1}return new gf(t,r,i)}static resolveCached(e,t){let r=KT.get(e);if(r)for(let i=0;i<r.elts.length;i++){let o=r.elts[i];if(o.pos==t)return o}else KT.set(e,r=new w$);let s=r.elts[r.i]=gf.resolve(e,t);return r.i=(r.i+1)%S$,s}}class w${constructor(){this.elts=[],this.i=0}}const S$=12,KT=new WeakMap;class ym{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const k$=Object.create(null);let Za=class Eb{constructor(e,t,r,s=Ot.none){this.type=e,this.attrs=t,this.marks=s,this.content=r||ne.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,s=0){this.content.nodesBetween(e,t,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,s){return this.content.textBetween(e,t,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&pm(this.attrs,t||e.defaultAttrs||k$)&&Ot.sameSet(this.marks,r||Ot.none)}copy(e=null){return e==this.content?this:new Eb(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Eb(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return ye.empty;let s=this.resolve(e),i=this.resolve(t),o=r?0:s.sharedDepth(t),c=s.start(o),f=s.node(o).content.cut(s.pos-c,i.pos-c);return new ye(f,s.depth-o,i.depth-o)}replace(e,t,r){return b$(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:s}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(s==e||t.isText)return t;e-=s+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let s=this.content.child(t-1);return{node:s,index:t-1,offset:r-s.nodeSize}}resolve(e){return gf.resolveCached(this,e)}resolveNoCache(e){return gf.resolve(this,e)}rangeHasMark(e,t,r){let s=!1;return t>e&&this.nodesBetween(e,t,i=>(r.isInSet(i.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),XO(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=ne.empty,s=0,i=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,s,i),c=o&&o.matchFragment(this.content,t);if(!c||!c.validEnd)return!1;for(let u=s;u<i;u++)if(!this.type.allowsMarks(r.child(u).marks))return!1;return!0}canReplaceWith(e,t,r,s){if(s&&!this.type.allowsMarks(s))return!1;let i=this.contentMatchAt(e).matchType(r),o=i&&i.matchFragment(this.content,t);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Ot.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Ot.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let s=ne.fromJSON(e,t.content),i=e.nodeType(t.type).create(t.attrs,s,r);return i.type.checkAttrs(i.attrs),i}};Za.prototype.text=void 0;class vm extends Za{constructor(e,t,r,s){if(super(e,t,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):XO(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new vm(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new vm(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function XO(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class xl{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new _$(e,t);if(r.next==null)return xl.empty;let s=WO(r);r.next&&r.err("Unexpected trailing text");let i=O$(N$(s));return j$(i,r),i}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let s=this;for(let i=t;s&&i<r;i++)s=s.matchType(e.child(i).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let s=[this];function i(o,c){let u=o.matchFragment(e,r);if(u&&(!t||u.validEnd))return ne.from(c.map(f=>f.createAndFill()));for(let f=0;f<o.next.length;f++){let{type:p,next:m}=o.next[f];if(!(p.isText||p.hasRequiredAttrs())&&s.indexOf(m)==-1){s.push(m);let y=i(m,c.concat(p));if(y)return y}}return null}return i(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),i=s.match;if(i.matchType(e)){let o=[];for(let c=s;c.type;c=c.via)o.push(c.type);return o.reverse()}for(let o=0;o<i.next.length;o++){let{type:c,next:u}=i.next[o];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in t)&&(!s.type||u.validEnd)&&(r.push({match:c.contentMatch,type:c,via:s}),t[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&t(r.next[s].next)}return t(this),e.map((r,s)=>{let i=s+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)i+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return i}).join(`
`)}}xl.empty=new xl(!0);class _${constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function WO(n){let e=[];do e.push(E$(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function E$(n){let e=[];do e.push(T$(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function T$(n){let e=M$(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=C$(n,e);else break;return e}function GT(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function C$(n,e){let t=GT(n),r=t;return n.eat(",")&&(n.next!="}"?r=GT(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function A$(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let s=[];for(let i in t){let o=t[i];o.isInGroup(e)&&s.push(o)}return s.length==0&&n.err("No node type or group '"+e+"' found"),s}function M$(n){if(n.eat("(")){let e=WO(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=A$(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function N$(n){let e=[[]];return s(i(n,0),t()),e;function t(){return e.push([])-1}function r(o,c,u){let f={term:u,to:c};return e[o].push(f),f}function s(o,c){o.forEach(u=>u.to=c)}function i(o,c){if(o.type=="choice")return o.exprs.reduce((u,f)=>u.concat(i(f,c)),[]);if(o.type=="seq")for(let u=0;;u++){let f=i(o.exprs[u],c);if(u==o.exprs.length-1)return f;s(f,c=t())}else if(o.type=="star"){let u=t();return r(c,u),s(i(o.expr,u),u),[r(u)]}else if(o.type=="plus"){let u=t();return s(i(o.expr,c),u),s(i(o.expr,u),u),[r(u)]}else{if(o.type=="opt")return[r(c)].concat(i(o.expr,c));if(o.type=="range"){let u=c;for(let f=0;f<o.min;f++){let p=t();s(i(o.expr,u),p),u=p}if(o.max==-1)s(i(o.expr,u),u);else for(let f=o.min;f<o.max;f++){let p=t();r(u,p),s(i(o.expr,u),p),u=p}return[r(u)]}else{if(o.type=="name")return[r(c,void 0,o.value)];throw new Error("Unknown expr type")}}}}function ej(n,e){return e-n}function ZT(n,e){let t=[];return r(e),t.sort(ej);function r(s){let i=n[s];if(i.length==1&&!i[0].term)return r(i[0].to);t.push(s);for(let o=0;o<i.length;o++){let{term:c,to:u}=i[o];!c&&t.indexOf(u)==-1&&r(u)}}}function O$(n){let e=Object.create(null);return t(ZT(n,0));function t(r){let s=[];r.forEach(o=>{n[o].forEach(({term:c,to:u})=>{if(!c)return;let f;for(let p=0;p<s.length;p++)s[p][0]==c&&(f=s[p][1]);ZT(n,u).forEach(p=>{f||s.push([c,f=[]]),f.indexOf(p)==-1&&f.push(p)})})});let i=e[r.join(",")]=new xl(r.indexOf(n.length-1)>-1);for(let o=0;o<s.length;o++){let c=s[o][1].sort(ej);i.next.push({type:s[o][0],next:e[c.join(",")]||t(c)})}return i}}function j$(n,e){for(let t=0,r=[n];t<r.length;t++){let s=r[t],i=!s.validEnd,o=[];for(let c=0;c<s.next.length;c++){let{type:u,next:f}=s.next[c];o.push(u.name),i&&!(u.isText||u.hasRequiredAttrs())&&(i=!1),r.indexOf(f)==-1&&r.push(f)}i&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function tj(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function nj(n,e){let t=Object.create(null);for(let r in n){let s=e&&e[r];if(s===void 0){let i=n[r];if(i.hasDefault)s=i.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=s}return t}function rj(n,e,t,r){for(let s in e)if(!(s in n))throw new RangeError(`Unsupported attribute ${s} for ${t} of type ${s}`);for(let s in n){let i=n[s];i.validate&&i.validate(e[s])}}function sj(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new D$(n,r,e[r]);return t}let YT=class ij{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=sj(e,r.attrs),this.defaultAttrs=tj(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==xl.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:nj(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Za(this,this.computeAttrs(e),ne.from(t),Ot.setFrom(r))}createChecked(e=null,t,r){return t=ne.from(t),this.checkContent(t),new Za(this,this.computeAttrs(e),t,Ot.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=ne.from(t),t.size){let o=this.contentMatch.fillBefore(t);if(!o)return null;t=o.append(t)}let s=this.contentMatch.matchFragment(t),i=s&&s.fillBefore(ne.empty,!0);return i?new Za(this,e,t.append(i),Ot.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){rj(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:Ot.none:e}static compile(e,t){let r=Object.create(null);e.forEach((i,o)=>r[i]=new ij(i,t,o));let s=t.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function R$(n,e,t){let r=t.split("|");return s=>{let i=s===null?"null":typeof s;if(r.indexOf(i)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${i}`)}}class D${constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?R$(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Zm{constructor(e,t,r,s){this.name=e,this.rank=t,this.schema=r,this.spec=s,this.attrs=sj(e,s.attrs),this.excluded=null;let i=tj(this.attrs);this.instance=i?new Ot(this,i):null}create(e=null){return!e&&this.instance?this.instance:new Ot(this,nj(this.attrs,e))}static compile(e,t){let r=Object.create(null),s=0;return e.forEach((i,o)=>r[i]=new Zm(i,s++,t,o)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){rj(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class aj{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let s in e)t[s]=e[s];t.nodes=Bn.from(e.nodes),t.marks=Bn.from(e.marks||{}),this.nodes=YT.compile(this.spec.nodes,this),this.marks=Zm.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let i=this.nodes[s],o=i.spec.content||"",c=i.spec.marks;if(i.contentMatch=r[o]||(r[o]=xl.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=c=="_"?null:c?QT(this,c.split(" ")):c==""||!i.inlineContent?[]:null}for(let s in this.marks){let i=this.marks[s],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:QT(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof YT){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,s)}text(e,t){let r=this.nodes.text;return new vm(r,r.defaultAttrs,e,Ot.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Za.fromJSON(this,e)}markFromJSON(e){return Ot.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function QT(n,e){let t=[];for(let r=0;r<e.length;r++){let s=e[r],i=n.marks[s],o=i;if(i)t.push(i);else for(let c in n.marks){let u=n.marks[c];(s=="_"||u.spec.group&&u.spec.group.split(" ").indexOf(s)>-1)&&t.push(o=u)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function P$(n){return n.tag!=null}function L$(n){return n.style!=null}class Ya{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(s=>{if(P$(s))this.tags.push(s);else if(L$(s)){let i=/[^=]*/.exec(s.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let i=e.nodes[s.node];return i.contentMatch.matchType(i)})}parse(e,t={}){let r=new XT(this,t,!1);return r.addAll(e,Ot.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new XT(this,t,!0);return r.addAll(e,Ot.none,t.from,t.to),ye.maxOpen(r.finish())}matchTag(e,t,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(B$(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||t.matchesContext(i.context))){if(i.getAttrs){let o=i.getAttrs(e);if(o===!1)continue;i.attrs=o||void 0}return i}}}matchStyle(e,t,r,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let o=this.styles[i],c=o.style;if(!(c.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||c.length>e.length&&(c.charCodeAt(e.length)!=61||c.slice(e.length+1)!=t))){if(o.getAttrs){let u=o.getAttrs(t);if(u===!1)continue;o.attrs=u||void 0}return o}}}static schemaRules(e){let t=[];function r(s){let i=s.priority==null?50:s.priority,o=0;for(;o<t.length;o++){let c=t[o];if((c.priority==null?50:c.priority)<i)break}t.splice(o,0,s)}for(let s in e.marks){let i=e.marks[s].spec.parseDOM;i&&i.forEach(o=>{r(o=WT(o)),o.mark||o.ignore||o.clearMark||(o.mark=s)})}for(let s in e.nodes){let i=e.nodes[s].spec.parseDOM;i&&i.forEach(o=>{r(o=WT(o)),o.node||o.ignore||o.mark||(o.node=s)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Ya(e,Ya.schemaRules(e)))}}const oj={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},z$={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},lj={ol:!0,ul:!0},yf=1,Tb=2,Gp=4;function JT(n,e,t){return e!=null?(e?yf:0)|(e==="full"?Tb:0):n&&n.whitespace=="pre"?yf|Tb:t&-5}class jp{constructor(e,t,r,s,i,o){this.type=e,this.attrs=t,this.marks=r,this.solid=s,this.options=o,this.content=[],this.activeMarks=Ot.none,this.match=i||(o&Gp?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(ne.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&yf)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let t=ne.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(ne.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!oj.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class XT{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=t.topNode,i,o=JT(null,t.preserveWhitespace,0)|(r?Gp:0);s?i=new jp(s.type,s.attrs,Ot.none,!0,t.topMatch||s.type.contentMatch,o):r?i=new jp(null,null,Ot.none,!0,null,o):i=new jp(e.schema.topNodeType,null,Ot.none,!0,null,o),this.nodes=[i],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,s=this.top,i=s.options&Tb?"full":this.localPreserveWS||(s.options&yf)>0;if(i==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i)i!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=s.content[s.content.length-1],c=e.previousSibling;(!o||c&&c.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let s=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),c;lj.hasOwnProperty(o)&&this.parser.normalizeLists&&V$(e);let u=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(c=this.parser.matchTag(e,this,r));e:if(u?u.ignore:z$.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,t);else if(!u||u.skip||u.closeParent){u&&u.closeParent?this.open=Math.max(0,this.open-1):u&&u.skip.nodeType&&(e=u.skip);let f,p=this.needsBlock;if(oj.hasOwnProperty(o))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),f=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let m=u&&u.skip?t:this.readStyles(e,t);m&&this.addAll(e,m),f&&this.sync(i),this.needsBlock=p}else{let f=this.readStyles(e,t);f&&this.addElementByRule(e,u,f,u.consuming===!1?c:void 0)}this.localPreserveWS=s}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let i=this.parser.matchedStyles[s],o=r.getPropertyValue(i);if(o)for(let c=void 0;;){let u=this.parser.matchStyle(i,o,this,c);if(!u)break;if(u.ignore)return null;if(u.clearMark?t=t.filter(f=>!u.clearMark(f)):t=t.concat(this.parser.schema.marks[u.mark].create(u.attrs)),u.consuming===!1)c=u;else break}}return t}addElementByRule(e,t,r,s){let i,o;if(t.node)if(o=this.parser.schema.nodes[t.node],o.isLeaf)this.insertNode(o.create(t.attrs),r)||this.leafFallback(e,r);else{let u=this.enter(o,t.attrs||null,r,t.preserveWhitespace);u&&(i=!0,r=u)}else{let u=this.parser.schema.marks[t.mark];r=r.concat(u.create(t.attrs))}let c=this.top;if(o&&o.isLeaf)this.findInside(e);else if(s)this.addElement(e,r,s);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(u=>this.insertNode(u,r));else{let u=e;typeof t.contentElement=="string"?u=e.querySelector(t.contentElement):typeof t.contentElement=="function"?u=t.contentElement(e):t.contentElement&&(u=t.contentElement),this.findAround(e,u,!0),this.addAll(u,r),this.findAround(e,u,!1)}i&&this.sync(c)&&this.open--}addAll(e,t,r,s){let i=r||0;for(let o=r?e.childNodes[r]:e.firstChild,c=s==null?null:e.childNodes[s];o!=c;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o,t);this.findAtPoint(e,i)}findPlace(e,t){let r,s;for(let i=this.open;i>=0;i--){let o=this.nodes[i],c=o.findWrapping(e);if(c&&(!r||r.length>c.length)&&(r=c,s=o,!c.length)||o.solid)break}if(!r)return null;this.sync(s);for(let i=0;i<r.length;i++)t=this.enterInner(r[i],null,t,!1);return t}insertNode(e,t){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(t=this.enterInner(s,null,t))}let r=this.findPlace(e,t);if(r){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let i=Ot.none;for(let o of r.concat(e.marks))(s.type?s.type.allowsMarkType(o.type):eC(o.type,e.type))&&(i=o.addToSet(i));return s.content.push(e.mark(i)),!0}return!1}enter(e,t,r,s){let i=this.findPlace(e.create(t),r);return i&&(i=this.enterInner(e,t,r,!0,s)),i}enterInner(e,t,r,s=!1,i){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let c=JT(e,i,o.options);o.options&Gp&&o.content.length==0&&(c|=Gp);let u=Ot.none;return r=r.filter(f=>(o.type?o.type.allowsMarkType(f.type):eC(f.type,e))?(u=f.addToSet(u),!1):!0),this.nodes.push(new jp(e,t,u,s,null,c)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=yf)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&t.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(s?0:1),o=(c,u)=>{for(;c>=0;c--){let f=t[c];if(f==""){if(c==t.length-1||c==0)continue;for(;u>=i;u--)if(o(c-1,u))return!0;return!1}else{let p=u>0||u==0&&s?this.nodes[u].type:r&&u>=i?r.node(u-i).type:null;if(!p||p.name!=f&&!p.isInGroup(f))return!1;u--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function V$(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&lj.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function B$(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function WT(n){let e={};for(let t in n)e[t]=n[t];return e}function eC(n,e){let t=e.schema.nodes;for(let r in t){let s=t[r];if(!s.allowsMarkType(n))continue;let i=[],o=c=>{i.push(c);for(let u=0;u<c.edgeCount;u++){let{type:f,next:p}=c.edge(u);if(f==e||i.indexOf(p)<0&&o(p))return!0}};if(o(s.contentMatch))return!0}}class Rl{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=H0(t).createDocumentFragment());let s=r,i=[];return e.forEach(o=>{if(i.length||o.marks.length){let c=0,u=0;for(;c<i.length&&u<o.marks.length;){let f=o.marks[u];if(!this.marks[f.type.name]){u++;continue}if(!f.eq(i[c][0])||f.type.spec.spanning===!1)break;c++,u++}for(;c<i.length;)s=i.pop()[1];for(;u<o.marks.length;){let f=o.marks[u++],p=this.serializeMark(f,o.isInline,t);p&&(i.push([f,s]),s.appendChild(p.dom),s=p.contentDOM||p.dom)}}s.appendChild(this.serializeNodeInner(o,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:s}=Zp(H0(t),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,s)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let s=e.marks.length-1;s>=0;s--){let i=this.serializeMark(e.marks[s],e.isInline,t);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(e,t,r={}){let s=this.marks[e.type.name];return s&&Zp(H0(r),s(e,t),null,e.attrs)}static renderSpec(e,t,r=null,s){return Zp(e,t,r,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Rl(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=tC(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return tC(e.marks)}}function tC(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function H0(n){return n.document||window.document}const nC=new WeakMap;function I$(n){let e=nC.get(n);return e===void 0&&nC.set(n,e=U$(n)),e}function U$(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let s=0;s<r.length;s++)t(r[s]);else for(let s in r)t(r[s])}return t(n),e}function Zp(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],i;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=I$(r))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=s.indexOf(" ");o>0&&(t=s.slice(0,o),s=s.slice(o+1));let c,u=t?n.createElementNS(t,s):n.createElement(s),f=e[1],p=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){p=2;for(let m in f)if(f[m]!=null){let y=m.indexOf(" ");y>0?u.setAttributeNS(m.slice(0,y),m.slice(y+1),f[m]):u.setAttribute(m,f[m])}}for(let m=p;m<e.length;m++){let y=e[m];if(y===0){if(m<e.length-1||m>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:u,contentDOM:u}}else{let{dom:b,contentDOM:w}=Zp(n,y,t,r);if(u.appendChild(b),w){if(c)throw new RangeError("Multiple content holes");c=w}}}return{dom:u,contentDOM:c}}const cj=65535,uj=Math.pow(2,16);function F$(n,e){return n+e*uj}function rC(n){return n&cj}function $$(n){return(n-(n&cj))/uj}const dj=1,fj=2,Yp=4,hj=8;class Cb{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&hj)>0}get deletedBefore(){return(this.delInfo&(dj|Yp))>0}get deletedAfter(){return(this.delInfo&(fj|Yp))>0}get deletedAcross(){return(this.delInfo&Yp)>0}}class Pr{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Pr.empty)return Pr.empty}recover(e){let t=0,r=rC(e);if(!this.inverted)for(let s=0;s<r;s++)t+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+t+$$(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let s=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let u=this.ranges[c]-(this.inverted?s:0);if(u>e)break;let f=this.ranges[c+i],p=this.ranges[c+o],m=u+f;if(e<=m){let y=f?e==u?-1:e==m?1:t:t,b=u+s+(y<0?0:p);if(r)return b;let w=e==(t<0?u:m)?null:F$(c/3,e-u),S=e==u?fj:e==m?dj:Yp;return(t<0?e!=u:e!=m)&&(S|=hj),new Cb(b,S,w)}s+=p-f}return r?e+s:new Cb(e+s,0,null)}touches(e,t){let r=0,s=rC(t),i=this.inverted?2:1,o=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let u=this.ranges[c]-(this.inverted?r:0);if(u>e)break;let f=this.ranges[c+i],p=u+f;if(e<=p&&c==s*3)return!0;r+=this.ranges[c+o]-f}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let o=this.ranges[s],c=o-(this.inverted?i:0),u=o+(this.inverted?0:i),f=this.ranges[s+t],p=this.ranges[s+r];e(c,c+f,u,u+p),i+=p-f}}invert(){return new Pr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Pr.empty:new Pr(e<0?[0,-e,0]:[0,0,e])}}Pr.empty=new Pr([]);class vf{constructor(e,t,r=0,s=e?e.length:0){this.mirror=t,this.from=r,this.to=s,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new vf(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let s=e.getMirror(t);this.appendMap(e._maps[t],s!=null&&s<t?r+s:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let s=e.getMirror(t);this.appendMap(e._maps[t].invert(),s!=null&&s>t?r-s-1:void 0)}}invert(){let e=new vf;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let s=0;for(let i=this.from;i<this.to;i++){let o=this._maps[i],c=o.mapResult(e,t);if(c.recover!=null){let u=this.getMirror(i);if(u!=null&&u>i&&u<this.to){i=u,e=this._maps[u].recover(c.recover);continue}}s|=c.delInfo,e=c.pos}return r?e:new Cb(e,s,null)}}const K0=Object.create(null);class nr{getMap(){return Pr.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=K0[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in K0)throw new RangeError("Duplicate use of step JSON ID "+e);return K0[e]=t,t.prototype.jsonID=e,t}}class pn{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new pn(e,null)}static fail(e){return new pn(null,e)}static fromReplace(e,t,r,s){try{return pn.ok(e.replace(t,r,s))}catch(i){if(i instanceof mm)return pn.fail(i.message);throw i}}}function lw(n,e,t){let r=[];for(let s=0;s<n.childCount;s++){let i=n.child(s);i.content.size&&(i=i.copy(lw(i.content,e,i))),i.isInline&&(i=e(i,t,s)),r.push(i)}return ne.fromArray(r)}class Ha extends nr{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),i=new ye(lw(t.content,(o,c)=>!o.isAtom||!c.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),s),t.openStart,t.openEnd);return pn.fromReplace(e,this.from,this.to,i)}invert(){return new Zs(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Ha(t.pos,r.pos,this.mark)}merge(e){return e instanceof Ha&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ha(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ha(t.from,t.to,e.markFromJSON(t.mark))}}nr.jsonID("addMark",Ha);class Zs extends nr{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new ye(lw(t.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),t.openStart,t.openEnd);return pn.fromReplace(e,this.from,this.to,r)}invert(){return new Ha(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Zs(t.pos,r.pos,this.mark)}merge(e){return e instanceof Zs&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Zs(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Zs(t.from,t.to,e.markFromJSON(t.mark))}}nr.jsonID("removeMark",Zs);class Ka extends nr{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return pn.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return pn.fromReplace(e,this.pos,this.pos+1,new ye(ne.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let s=0;s<t.marks.length;s++)if(!t.marks[s].isInSet(r))return new Ka(this.pos,t.marks[s]);return new Ka(this.pos,this.mark)}}return new pu(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Ka(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ka(t.pos,e.markFromJSON(t.mark))}}nr.jsonID("addNodeMark",Ka);class pu extends nr{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return pn.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return pn.fromReplace(e,this.pos,this.pos+1,new ye(ne.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Ka(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new pu(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new pu(t.pos,e.markFromJSON(t.mark))}}nr.jsonID("removeNodeMark",pu);class Cn extends nr{constructor(e,t,r,s=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=s}apply(e){return this.structure&&Ab(e,this.from,this.to)?pn.fail("Structure replace would overwrite content"):pn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Pr([this.from,this.to-this.from,this.slice.size])}invert(e){return new Cn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new Cn(t.pos,Math.max(t.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Cn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?ye.empty:new ye(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Cn(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?ye.empty:new ye(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Cn(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Cn(t.from,t.to,ye.fromJSON(e,t.slice),!!t.structure)}}nr.jsonID("replace",Cn);class Mn extends nr{constructor(e,t,r,s,i,o,c=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=s,this.slice=i,this.insert=o,this.structure=c}apply(e){if(this.structure&&(Ab(e,this.from,this.gapFrom)||Ab(e,this.gapTo,this.to)))return pn.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return pn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?pn.fromReplace(e,this.from,this.to,r):pn.fail("Content does not fit in gap")}getMap(){return new Pr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Mn(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||s<t.pos||i>r.pos?null:new Mn(t.pos,r.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Mn(t.from,t.to,t.gapFrom,t.gapTo,ye.fromJSON(e,t.slice),t.insert,!!t.structure)}}nr.jsonID("replaceAround",Mn);function Ab(n,e,t){let r=n.resolve(e),s=t-e,i=r.depth;for(;s>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,s--;if(s>0){let o=r.node(i).maybeChild(r.indexAfter(i));for(;s>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,s--}}return!1}function q$(n,e,t,r){let s=[],i=[],o,c;n.doc.nodesBetween(e,t,(u,f,p)=>{if(!u.isInline)return;let m=u.marks;if(!r.isInSet(m)&&p.type.allowsMarkType(r.type)){let y=Math.max(f,e),b=Math.min(f+u.nodeSize,t),w=r.addToSet(m);for(let S=0;S<m.length;S++)m[S].isInSet(w)||(o&&o.to==y&&o.mark.eq(m[S])?o.to=b:s.push(o=new Zs(y,b,m[S])));c&&c.to==y?c.to=b:i.push(c=new Ha(y,b,r))}}),s.forEach(u=>n.step(u)),i.forEach(u=>n.step(u))}function H$(n,e,t,r){let s=[],i=0;n.doc.nodesBetween(e,t,(o,c)=>{if(!o.isInline)return;i++;let u=null;if(r instanceof Zm){let f=o.marks,p;for(;p=r.isInSet(f);)(u||(u=[])).push(p),f=p.removeFromSet(f)}else r?r.isInSet(o.marks)&&(u=[r]):u=o.marks;if(u&&u.length){let f=Math.min(c+o.nodeSize,t);for(let p=0;p<u.length;p++){let m=u[p],y;for(let b=0;b<s.length;b++){let w=s[b];w.step==i-1&&m.eq(s[b].style)&&(y=w)}y?(y.to=f,y.step=i):s.push({style:m,from:Math.max(c,e),to:f,step:i})}}}),s.forEach(o=>n.step(new Zs(o.from,o.to,o.style)))}function cw(n,e,t,r=t.contentMatch,s=!0){let i=n.doc.nodeAt(e),o=[],c=e+1;for(let u=0;u<i.childCount;u++){let f=i.child(u),p=c+f.nodeSize,m=r.matchType(f.type);if(!m)o.push(new Cn(c,p,ye.empty));else{r=m;for(let y=0;y<f.marks.length;y++)t.allowsMarkType(f.marks[y].type)||n.step(new Zs(c,p,f.marks[y]));if(s&&f.isText&&t.whitespace!="pre"){let y,b=/\r?\n|\r/g,w;for(;y=b.exec(f.text);)w||(w=new ye(ne.from(t.schema.text(" ",t.allowedMarks(f.marks))),0,0)),o.push(new Cn(c+y.index,c+y.index+y[0].length,w))}}c=p}if(!r.validEnd){let u=r.fillBefore(ne.empty,!0);n.replace(c,c,new ye(u,0,0))}for(let u=o.length-1;u>=0;u--)n.step(o[u])}function K$(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function Au(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let s=n.$from.node(r),i=n.$from.index(r),o=n.$to.indexAfter(r);if(r<n.depth&&s.canReplace(i,o,t))return r;if(r==0||s.type.spec.isolating||!K$(s,i,o))break}return null}function G$(n,e,t){let{$from:r,$to:s,depth:i}=e,o=r.before(i+1),c=s.after(i+1),u=o,f=c,p=ne.empty,m=0;for(let w=i,S=!1;w>t;w--)S||r.index(w)>0?(S=!0,p=ne.from(r.node(w).copy(p)),m++):u--;let y=ne.empty,b=0;for(let w=i,S=!1;w>t;w--)S||s.after(w+1)<s.end(w)?(S=!0,y=ne.from(s.node(w).copy(y)),b++):f++;n.step(new Mn(u,f,o,c,new ye(p.append(y),m,b),p.size-m,!0))}function uw(n,e,t=null,r=n){let s=Z$(n,e),i=s&&Y$(r,e);return i?s.map(sC).concat({type:e,attrs:t}).concat(i.map(sC)):null}function sC(n){return{type:n,attrs:null}}function Z$(n,e){let{parent:t,startIndex:r,endIndex:s}=n,i=t.contentMatchAt(r).findWrapping(e);if(!i)return null;let o=i.length?i[0]:e;return t.canReplaceWith(r,s,o)?i:null}function Y$(n,e){let{parent:t,startIndex:r,endIndex:s}=n,i=t.child(r),o=e.contentMatch.findWrapping(i.type);if(!o)return null;let u=(o.length?o[o.length-1]:e).contentMatch;for(let f=r;u&&f<s;f++)u=u.matchType(t.child(f).type);return!u||!u.validEnd?null:o}function Q$(n,e,t){let r=ne.empty;for(let o=t.length-1;o>=0;o--){if(r.size){let c=t[o].type.contentMatch.matchFragment(r);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ne.from(t[o].type.create(t[o].attrs,r))}let s=e.start,i=e.end;n.step(new Mn(s,i,s,i,new ye(r,0,0),t.length,!0))}function J$(n,e,t,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=n.steps.length;n.doc.nodesBetween(e,t,(o,c)=>{let u=typeof s=="function"?s(o):s;if(o.isTextblock&&!o.hasMarkup(r,u)&&X$(n.doc,n.mapping.slice(i).map(c),r)){let f=null;if(r.schema.linebreakReplacement){let b=r.whitespace=="pre",w=!!r.contentMatch.matchType(r.schema.linebreakReplacement);b&&!w?f=!1:!b&&w&&(f=!0)}f===!1&&mj(n,o,c,i),cw(n,n.mapping.slice(i).map(c,1),r,void 0,f===null);let p=n.mapping.slice(i),m=p.map(c,1),y=p.map(c+o.nodeSize,1);return n.step(new Mn(m,y,m+1,y-1,new ye(ne.from(r.create(u,null,o.marks)),0,0),1,!0)),f===!0&&pj(n,o,c,i),!1}})}function pj(n,e,t,r){e.forEach((s,i)=>{if(s.isText){let o,c=/\r?\n|\r/g;for(;o=c.exec(s.text);){let u=n.mapping.slice(r).map(t+1+i+o.index);n.replaceWith(u,u+1,e.type.schema.linebreakReplacement.create())}}})}function mj(n,e,t,r){e.forEach((s,i)=>{if(s.type==s.type.schema.linebreakReplacement){let o=n.mapping.slice(r).map(t+1+i);n.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function X$(n,e,t){let r=n.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,t)}function W$(n,e,t,r,s){let i=n.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");t||(t=i.type);let o=t.create(r,null,s||i.marks);if(i.isLeaf)return n.replaceWith(e,e+i.nodeSize,o);if(!t.validContent(i.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new Mn(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new ye(ne.from(o),0,0),1,!0))}function Bi(n,e,t=1,r){let s=n.resolve(e),i=s.depth-t,o=r&&r[r.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!o.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let f=s.depth-1,p=t-2;f>i;f--,p--){let m=s.node(f),y=s.index(f);if(m.type.spec.isolating)return!1;let b=m.content.cutByIndex(y,m.childCount),w=r&&r[p+1];w&&(b=b.replaceChild(0,w.type.create(w.attrs)));let S=r&&r[p]||m;if(!m.canReplace(y+1,m.childCount)||!S.type.validContent(b))return!1}let c=s.indexAfter(i),u=r&&r[0];return s.node(i).canReplaceWith(c,c,u?u.type:s.node(i+1).type)}function e9(n,e,t=1,r){let s=n.doc.resolve(e),i=ne.empty,o=ne.empty;for(let c=s.depth,u=s.depth-t,f=t-1;c>u;c--,f--){i=ne.from(s.node(c).copy(i));let p=r&&r[f];o=ne.from(p?p.type.create(p.attrs,o):s.node(c).copy(o))}n.step(new Cn(e,e,new ye(i.append(o),t,t),!0))}function ho(n,e){let t=n.resolve(e),r=t.index();return gj(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function t9(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let s=0;s<e.childCount;s++){let i=e.child(s),o=i.type==r?n.type.schema.nodes.text:i.type;if(t=t.matchType(o),!t||!n.type.allowsMarks(i.marks))return!1}return t.validEnd}function gj(n,e){return!!(n&&e&&!n.isLeaf&&t9(n,e))}function Ym(n,e,t=-1){let r=n.resolve(e);for(let s=r.depth;;s--){let i,o,c=r.index(s);if(s==r.depth?(i=r.nodeBefore,o=r.nodeAfter):t>0?(i=r.node(s+1),c++,o=r.node(s).maybeChild(c)):(i=r.node(s).maybeChild(c-1),o=r.node(s+1)),i&&!i.isTextblock&&gj(i,o)&&r.node(s).canReplace(c,c+1))return e;if(s==0)break;e=t<0?r.before(s):r.after(s)}}function n9(n,e,t){let r=null,{linebreakReplacement:s}=n.doc.type.schema,i=n.doc.resolve(e-t),o=i.node().type;if(s&&o.inlineContent){let p=o.whitespace=="pre",m=!!o.contentMatch.matchType(s);p&&!m?r=!1:!p&&m&&(r=!0)}let c=n.steps.length;if(r===!1){let p=n.doc.resolve(e+t);mj(n,p.node(),p.before(),c)}o.inlineContent&&cw(n,e+t-1,o,i.node().contentMatchAt(i.index()),r==null);let u=n.mapping.slice(c),f=u.map(e-t);if(n.step(new Cn(f,u.map(e+t,-1),ye.empty,!0)),r===!0){let p=n.doc.resolve(f);pj(n,p.node(),p.before(),n.steps.length)}return n}function r9(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let i=r.index(s);if(r.node(s).canReplaceWith(i,i,t))return r.before(s+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let i=r.indexAfter(s);if(r.node(s).canReplaceWith(i,i,t))return r.after(s+1);if(i<r.node(s).childCount)return null}return null}function yj(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let s=t.content;for(let i=0;i<t.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(t.openStart==0&&t.size?2:1);i++)for(let o=r.depth;o>=0;o--){let c=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,u=r.index(o)+(c>0?1:0),f=r.node(o),p=!1;if(i==1)p=f.canReplace(u,u,s);else{let m=f.contentMatchAt(u).findWrapping(s.firstChild.type);p=m&&f.canReplaceWith(u,u,m[0])}if(p)return c==0?r.pos:c<0?r.before(o+1):r.after(o+1)}return null}function Qm(n,e,t=e,r=ye.empty){if(e==t&&!r.size)return null;let s=n.resolve(e),i=n.resolve(t);return vj(s,i,r)?new Cn(e,t,r):new s9(s,i,r).fit()}function vj(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class s9{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=ne.empty;for(let s=0;s<=e.depth;s++){let i=e.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=ne.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let i=this.placed,o=r.depth,c=s.depth;for(;o&&c&&i.childCount==1;)i=i.firstChild.content,o--,c--;let u=new ye(i,o,c);return e>-1?new Mn(r.pos,e,this.$to.pos,this.$to.end(),u,t):u.size||r.pos!=this.$to.pos?new Cn(r.pos,s.pos,u):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let i=t.firstChild;if(t.childCount>1&&(s=0),i.type.spec.isolating&&s<=r){e=r;break}t=i.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let s,i=null;r?(i=G0(this.unplaced.content,r-1).firstChild,s=i.content):s=this.unplaced.content;let o=s.firstChild;for(let c=this.depth;c>=0;c--){let{type:u,match:f}=this.frontier[c],p,m=null;if(t==1&&(o?f.matchType(o.type)||(m=f.fillBefore(ne.from(o),!1)):i&&u.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:c,parent:i,inject:m};if(t==2&&o&&(p=f.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:c,parent:i,wrap:p};if(i&&f.matchType(i.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,s=G0(e,t);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new ye(e,t+1,Math.max(r,s.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,s=G0(e,t);if(s.childCount<=1&&t>0){let i=e.size-t<=t+s.size;this.unplaced=new ye(Id(e,t-1,1),t-1,i?t-1:r)}else this.unplaced=new ye(Id(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:s,wrap:i}){for(;this.depth>t;)this.closeFrontierNode();if(i)for(let S=0;S<i.length;S++)this.openFrontierNode(i[S]);let o=this.unplaced,c=r?r.content:o.content,u=o.openStart-e,f=0,p=[],{match:m,type:y}=this.frontier[t];if(s){for(let S=0;S<s.childCount;S++)p.push(s.child(S));m=m.matchFragment(s)}let b=c.size+e-(o.content.size-o.openEnd);for(;f<c.childCount;){let S=c.child(f),k=m.matchType(S.type);if(!k)break;f++,(f>1||u==0||S.content.size)&&(m=k,p.push(bj(S.mark(y.allowedMarks(S.marks)),f==1?u:0,f==c.childCount?b:-1)))}let w=f==c.childCount;w||(b=-1),this.placed=Ud(this.placed,t,ne.from(p)),this.frontier[t].match=m,w&&b<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let S=0,k=c;S<b;S++){let E=k.lastChild;this.frontier.push({type:E.type,match:E.contentMatchAt(E.childCount)}),k=E.content}this.unplaced=w?e==0?ye.empty:new ye(Id(o.content,e-1,1),e-1,b<0?o.openEnd:e-1):new ye(Id(o.content,e,f),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Z0(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:s}=this.frontier[t],i=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=Z0(e,t,s,r,i);if(o){for(let c=t-1;c>=0;c--){let{match:u,type:f}=this.frontier[c],p=Z0(e,c,f,u,!0);if(!p||p.childCount)continue e}return{depth:t,fit:o,move:i?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Ud(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let s=e.node(r),i=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,i)}return e}openFrontierNode(e,t=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=Ud(this.placed,this.depth,ne.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(ne.empty,!0);t.childCount&&(this.placed=Ud(this.placed,this.frontier.length,t))}}function Id(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(Id(n.firstChild.content,e-1,t)))}function Ud(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(Ud(n.lastChild.content,e-1,t)))}function G0(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function bj(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,bj(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(ne.empty,!0)))),n.copy(r)}function Z0(n,e,t,r,s){let i=n.node(e),o=s?n.indexAfter(e):n.index(e);if(o==i.childCount&&!t.compatibleContent(i.type))return null;let c=r.fillBefore(i.content,!0,o);return c&&!i9(t,i.content,o)?c:null}function i9(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function a9(n){return n.spec.defining||n.spec.definingForContent}function o9(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let s=n.doc.resolve(e),i=n.doc.resolve(t);if(vj(s,i,r))return n.step(new Cn(e,t,r));let o=wj(s,n.doc.resolve(t));o[o.length-1]==0&&o.pop();let c=-(s.depth+1);o.unshift(c);for(let y=s.depth,b=s.pos-1;y>0;y--,b--){let w=s.node(y).type.spec;if(w.defining||w.definingAsContext||w.isolating)break;o.indexOf(y)>-1?c=y:s.before(y)==b&&o.splice(1,0,-y)}let u=o.indexOf(c),f=[],p=r.openStart;for(let y=r.content,b=0;;b++){let w=y.firstChild;if(f.push(w),b==r.openStart)break;y=w.content}for(let y=p-1;y>=0;y--){let b=f[y],w=a9(b.type);if(w&&!b.sameMarkup(s.node(Math.abs(c)-1)))p=y;else if(w||!b.type.isTextblock)break}for(let y=r.openStart;y>=0;y--){let b=(y+p+1)%(r.openStart+1),w=f[b];if(w)for(let S=0;S<o.length;S++){let k=o[(S+u)%o.length],E=!0;k<0&&(E=!1,k=-k);let T=s.node(k-1),N=s.index(k-1);if(T.canReplaceWith(N,N,w.type,w.marks))return n.replace(s.before(k),E?i.after(k):t,new ye(xj(r.content,0,r.openStart,b),b,r.openEnd))}}let m=n.steps.length;for(let y=o.length-1;y>=0&&(n.replace(e,t,r),!(n.steps.length>m));y--){let b=o[y];b<0||(e=s.before(b),t=i.after(b))}}function xj(n,e,t,r,s){if(e<t){let i=n.firstChild;n=n.replaceChild(0,i.copy(xj(i.content,e+1,t,r,i)))}if(e>r){let i=s.contentMatchAt(0),o=i.fillBefore(n).append(n);n=o.append(i.matchFragment(o).fillBefore(ne.empty,!0))}return n}function l9(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let s=r9(n.doc,e,r.type);s!=null&&(e=t=s)}n.replaceRange(e,t,new ye(ne.from(r),0,0))}function c9(n,e,t){let r=n.doc.resolve(e),s=n.doc.resolve(t),i=wj(r,s);for(let o=0;o<i.length;o++){let c=i[o],u=o==i.length-1;if(u&&c==0||r.node(c).type.contentMatch.validEnd)return n.delete(r.start(c),s.end(c));if(c>0&&(u||r.node(c-1).canReplace(r.index(c-1),s.indexAfter(c-1))))return n.delete(r.before(c),s.after(c))}for(let o=1;o<=r.depth&&o<=s.depth;o++)if(e-r.start(o)==r.depth-o&&t>r.end(o)&&s.end(o)-t!=s.depth-o&&r.start(o-1)==s.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),s.index(o-1)))return n.delete(r.before(o),t);n.delete(e,t)}function wj(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let s=r;s>=0;s--){let i=n.start(s);if(i<n.pos-(n.depth-s)||e.end(s)>e.pos+(e.depth-s)||n.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(i==e.start(s)||s==n.depth&&s==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==i-1)&&t.push(s)}return t}class $c extends nr{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return pn.fail("No node at attribute step's position");let r=Object.create(null);for(let i in t.attrs)r[i]=t.attrs[i];r[this.attr]=this.value;let s=t.type.create(r,null,t.marks);return pn.fromReplace(e,this.pos,this.pos+1,new ye(ne.from(s),0,t.isLeaf?0:1))}getMap(){return Pr.empty}invert(e){return new $c(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new $c(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new $c(t.pos,t.attr,t.value)}}nr.jsonID("attr",$c);class bf extends nr{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let s in e.attrs)t[s]=e.attrs[s];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return pn.ok(r)}getMap(){return Pr.empty}invert(e){return new bf(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new bf(t.attr,t.value)}}nr.jsonID("docAttr",bf);let mu=class extends Error{};mu=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};mu.prototype=Object.create(Error.prototype);mu.prototype.constructor=mu;mu.prototype.name="TransformError";class u9{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new vf}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new mu(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=ye.empty){let s=Qm(this.doc,e,t,r);return s&&this.step(s),this}replaceWith(e,t,r){return this.replace(e,t,new ye(ne.from(r),0,0))}delete(e,t){return this.replace(e,t,ye.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return o9(this,e,t,r),this}replaceRangeWith(e,t,r){return l9(this,e,t,r),this}deleteRange(e,t){return c9(this,e,t),this}lift(e,t){return G$(this,e,t),this}join(e,t=1){return n9(this,e,t),this}wrap(e,t){return Q$(this,e,t),this}setBlockType(e,t=e,r,s=null){return J$(this,e,t,r,s),this}setNodeMarkup(e,t,r=null,s){return W$(this,e,t,r,s),this}setNodeAttribute(e,t,r){return this.step(new $c(e,t,r)),this}setDocAttribute(e,t){return this.step(new bf(e,t)),this}addNodeMark(e,t){return this.step(new Ka(e,t)),this}removeNodeMark(e,t){if(!(t instanceof Ot)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t=t.isInSet(r.marks),!t)return this}return this.step(new pu(e,t)),this}split(e,t=1,r){return e9(this,e,t,r),this}addMark(e,t,r){return q$(this,e,t,r),this}removeMark(e,t,r){return H$(this,e,t,r),this}clearIncompatible(e,t,r){return cw(this,e,t,r),this}}const Y0=Object.create(null);class tt{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new d9(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=ye.empty){let r=t.content.lastChild,s=null;for(let c=0;c<t.openEnd;c++)s=r,r=r.lastChild;let i=e.steps.length,o=this.ranges;for(let c=0;c<o.length;c++){let{$from:u,$to:f}=o[c],p=e.mapping.slice(i);e.replaceRange(p.map(u.pos),p.map(f.pos),c?ye.empty:t),c==0&&oC(e,i,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:o,$to:c}=s[i],u=e.mapping.slice(r),f=u.map(o.pos),p=u.map(c.pos);i?e.deleteRange(f,p):(e.replaceRangeWith(f,p,t),oC(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let s=e.parent.inlineContent?new Ye(e):Mc(e.node(0),e.parent,e.pos,e.index(),t,r);if(s)return s;for(let i=e.depth-1;i>=0;i--){let o=t<0?Mc(e.node(0),e.node(i),e.before(i+1),e.index(i),t,r):Mc(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,t,r);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Lr(e.node(0))}static atStart(e){return Mc(e,e,0,0,1)||new Lr(e)}static atEnd(e){return Mc(e,e,e.content.size,e.childCount,-1)||new Lr(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Y0[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Y0)throw new RangeError("Duplicate use of selection JSON ID "+e);return Y0[e]=t,t.prototype.jsonID=e,t}getBookmark(){return Ye.between(this.$anchor,this.$head).getBookmark()}}tt.prototype.visible=!0;class d9{constructor(e,t){this.$from=e,this.$to=t}}let iC=!1;function aC(n){!iC&&!n.parent.inlineContent&&(iC=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class Ye extends tt{constructor(e,t=e){aC(e),aC(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return tt.near(r);let s=e.resolve(t.map(this.anchor));return new Ye(s.parent.inlineContent?s:r,r)}replace(e,t=ye.empty){if(super.replace(e,t),t==ye.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Ye&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Jm(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ye(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let s=e.resolve(t);return new this(s,r==t?s:e.resolve(r))}static between(e,t,r){let s=e.pos-t.pos;if((!r||s)&&(r=s>=0?1:-1),!t.parent.inlineContent){let i=tt.findFrom(t,r,!0)||tt.findFrom(t,-r,!0);if(i)t=i.$head;else return tt.near(t,r)}return e.parent.inlineContent||(s==0?e=t:(e=(tt.findFrom(e,-r,!0)||tt.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=s<0&&(e=t))),new Ye(e,t)}}tt.jsonID("text",Ye);class Jm{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Jm(e.map(this.anchor),e.map(this.head))}resolve(e){return Ye.between(e.resolve(this.anchor),e.resolve(this.head))}}class Pe extends tt{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:s}=t.mapResult(this.anchor),i=e.resolve(s);return r?tt.near(i):new Pe(i)}content(){return new ye(ne.from(this.node),0,0)}eq(e){return e instanceof Pe&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new dw(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Pe(e.resolve(t.anchor))}static create(e,t){return new Pe(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Pe.prototype.visible=!1;tt.jsonID("node",Pe);class dw{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new Jm(r,r):new dw(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&Pe.isSelectable(r)?new Pe(t):tt.near(t)}}class Lr extends tt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=ye.empty){if(t==ye.empty){e.delete(0,e.doc.content.size);let r=tt.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Lr(e)}map(e){return new Lr(e)}eq(e){return e instanceof Lr}getBookmark(){return f9}}tt.jsonID("all",Lr);const f9={map(){return this},resolve(n){return new Lr(n)}};function Mc(n,e,t,r,s,i=!1){if(e.inlineContent)return Ye.create(n,t);for(let o=r-(s>0?0:1);s>0?o<e.childCount:o>=0;o+=s){let c=e.child(o);if(c.isAtom){if(!i&&Pe.isSelectable(c))return Pe.create(n,t-(s<0?c.nodeSize:0))}else{let u=Mc(n,c,t+s,s<0?c.childCount:0,s,i);if(u)return u}t+=c.nodeSize*s}return null}function oC(n,e,t){let r=n.steps.length-1;if(r<e)return;let s=n.steps[r];if(!(s instanceof Cn||s instanceof Mn))return;let i=n.mapping.maps[r],o;i.forEach((c,u,f,p)=>{o==null&&(o=p)}),n.setSelection(tt.near(n.doc.resolve(o),t))}const lC=1,cC=2,uC=4;class h9 extends u9{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|lC)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&lC)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=cC,this}ensureMarks(e){return Ot.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&cC)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Ot.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let s=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let i=this.storedMarks;if(!i){let o=this.doc.resolve(t);i=r==t?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,s.text(e,i)),this.selection.empty||this.setSelection(tt.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=uC,this}get scrolledIntoView(){return(this.updated&uC)>0}}function dC(n,e){return!e||!n?n:n.bind(e)}class Fd{constructor(e,t,r){this.name=e,this.init=dC(t.init,r),this.apply=dC(t.apply,r)}}const p9=[new Fd("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new Fd("selection",{init(n,e){return n.selection||tt.atStart(e.doc)},apply(n){return n.selection}}),new Fd("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new Fd("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class Q0{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=p9.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Fd(r.key,r.spec.state,r))})}}class zc{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),s=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let c=this.config.plugins[o];if(c.spec.appendTransaction){let u=s?s[o].n:0,f=s?s[o].state:this,p=u<t.length&&c.spec.appendTransaction.call(c,u?t.slice(u):t,f,r);if(p&&r.filterTransaction(p,o)){if(p.setMeta("appendedTransaction",e),!s){s=[];for(let m=0;m<this.config.plugins.length;m++)s.push(m<o?{state:r,n:t.length}:{state:this,n:0})}t.push(p),r=r.applyInner(p),i=!0}s&&(s[o]={state:r,n:t.length})}}if(!i)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new zc(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let i=r[s];t[i.name]=i.apply(e,this[i.name],this,t)}return t}get tr(){return new h9(this)}static create(e){let t=new Q0(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new zc(t);for(let s=0;s<t.fields.length;s++)r[t.fields[s].name]=t.fields[s].init(e,r);return r}reconfigure(e){let t=new Q0(this.schema,e.plugins),r=t.fields,s=new zc(t);for(let i=0;i<r.length;i++){let o=r[i].name;s[o]=this.hasOwnProperty(o)?this[o]:r[i].init(e,s)}return s}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],i=s.spec.state;i&&i.toJSON&&(t[r]=i.toJSON.call(s,this[s.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new Q0(e.schema,e.plugins),i=new zc(s);return s.fields.forEach(o=>{if(o.name=="doc")i.doc=Za.fromJSON(e.schema,t.doc);else if(o.name=="selection")i.selection=tt.fromJSON(i.doc,t.selection);else if(o.name=="storedMarks")t.storedMarks&&(i.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let c in r){let u=r[c],f=u.spec.state;if(u.key==o.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(t,c)){i[o.name]=f.fromJSON.call(u,e,t[c],i);return}}i[o.name]=o.init(e,i)}}),i}}function Sj(n,e,t){for(let r in n){let s=n[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=Sj(s,e,{})),t[r]=s}return t}class Cr{constructor(e){this.spec=e,this.props={},e.props&&Sj(e.props,this,this.props),this.key=e.key?e.key.key:kj("plugin")}getState(e){return e[this.key]}}const J0=Object.create(null);function kj(n){return n in J0?n+"$"+ ++J0[n]:(J0[n]=0,n+"$")}class ai{constructor(e="key"){this.key=kj(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const $n=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},gu=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let Mb=null;const Di=function(n,e,t){let r=Mb||(Mb=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},m9=function(){Mb=null},wl=function(n,e,t,r){return t&&(fC(n,e,t,r,-1)||fC(n,e,t,r,1))},g9=/^(img|br|input|textarea|hr)$/i;function fC(n,e,t,r,s){for(;;){if(n==t&&e==r)return!0;if(e==(s<0?0:ds(n))){let i=n.parentNode;if(!i||i.nodeType!=1||nh(n)||g9.test(n.nodeName)||n.contentEditable=="false")return!1;e=$n(n)+(s<0?0:1),n=i}else if(n.nodeType==1){if(n=n.childNodes[e+(s<0?-1:0)],n.contentEditable=="false")return!1;e=s<0?ds(n):0}else return!1}}function ds(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function y9(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=ds(n)}else if(n.parentNode&&!nh(n))e=$n(n),n=n.parentNode;else return null}}function v9(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!nh(n))e=$n(n)+1,n=n.parentNode;else return null}}function b9(n,e,t){for(let r=e==0,s=e==ds(n);r||s;){if(n==t)return!0;let i=$n(n);if(n=n.parentNode,!n)return!1;r=r&&i==0,s=s&&i==ds(n)}}function nh(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const Xm=function(n){return n.focusNode&&wl(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function Go(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function x9(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function w9(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(ds(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(ds(r.startContainer),r.startOffset)}}}const ti=typeof navigator<"u"?navigator:null,hC=typeof document<"u"?document:null,po=ti&&ti.userAgent||"",Nb=/Edge\/(\d+)/.exec(po),_j=/MSIE \d/.exec(po),Ob=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(po),Er=!!(_j||Ob||Nb),Qa=_j?document.documentMode:Ob?+Ob[1]:Nb?+Nb[1]:0,js=!Er&&/gecko\/(\d+)/i.test(po);js&&+(/Firefox\/(\d+)/.exec(po)||[0,0])[1];const jb=!Er&&/Chrome\/(\d+)/.exec(po),er=!!jb,Ej=jb?+jb[1]:0,cr=!Er&&!!ti&&/Apple Computer/.test(ti.vendor),yu=cr&&(/Mobile\/\w+/.test(po)||!!ti&&ti.maxTouchPoints>2),us=yu||(ti?/Mac/.test(ti.platform):!1),S9=ti?/Win/.test(ti.platform):!1,Vi=/Android \d/.test(po),rh=!!hC&&"webkitFontSmoothing"in hC.documentElement.style,k9=rh?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function _9(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function Mi(n,e){return typeof n=="number"?n:n[e]}function E9(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function pC(n,e,t){let r=n.someProp("scrollThreshold")||0,s=n.someProp("scrollMargin")||5,i=n.dom.ownerDocument;for(let o=t||n.dom;o;){if(o.nodeType!=1){o=gu(o);continue}let c=o,u=c==i.body,f=u?_9(i):E9(c),p=0,m=0;if(e.top<f.top+Mi(r,"top")?m=-(f.top-e.top+Mi(s,"top")):e.bottom>f.bottom-Mi(r,"bottom")&&(m=e.bottom-e.top>f.bottom-f.top?e.top+Mi(s,"top")-f.top:e.bottom-f.bottom+Mi(s,"bottom")),e.left<f.left+Mi(r,"left")?p=-(f.left-e.left+Mi(s,"left")):e.right>f.right-Mi(r,"right")&&(p=e.right-f.right+Mi(s,"right")),p||m)if(u)i.defaultView.scrollBy(p,m);else{let b=c.scrollLeft,w=c.scrollTop;m&&(c.scrollTop+=m),p&&(c.scrollLeft+=p);let S=c.scrollLeft-b,k=c.scrollTop-w;e={left:e.left-S,top:e.top-k,right:e.right-S,bottom:e.bottom-k}}let y=u?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(y))break;o=y=="absolute"?o.offsetParent:gu(o)}}function T9(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,s;for(let i=(e.left+e.right)/2,o=t+1;o<Math.min(innerHeight,e.bottom);o+=5){let c=n.root.elementFromPoint(i,o);if(!c||c==n.dom||!n.dom.contains(c))continue;let u=c.getBoundingClientRect();if(u.top>=t-20){r=c,s=u.top;break}}return{refDOM:r,refTop:s,stack:Tj(n.dom)}}function Tj(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=gu(r));return e}function C9({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;Cj(t,r==0?0:r-e)}function Cj(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:s,left:i}=n[t];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=i&&(r.scrollLeft=i)}}let Ec=null;function A9(n){if(n.setActive)return n.setActive();if(Ec)return n.focus(Ec);let e=Tj(n);n.focus(Ec==null?{get preventScroll(){return Ec={preventScroll:!0},!0}}:void 0),Ec||(Ec=!1,Cj(e,0))}function Aj(n,e){let t,r=2e8,s,i=0,o=e.top,c=e.top,u,f;for(let p=n.firstChild,m=0;p;p=p.nextSibling,m++){let y;if(p.nodeType==1)y=p.getClientRects();else if(p.nodeType==3)y=Di(p).getClientRects();else continue;for(let b=0;b<y.length;b++){let w=y[b];if(w.top<=o&&w.bottom>=c){o=Math.max(w.bottom,o),c=Math.min(w.top,c);let S=w.left>e.left?w.left-e.left:w.right<e.left?e.left-w.right:0;if(S<r){t=p,r=S,s=S&&t.nodeType==3?{left:w.right<e.left?w.right:w.left,top:e.top}:e,p.nodeType==1&&S&&(i=m+(e.left>=(w.left+w.right)/2?1:0));continue}}else w.top>e.top&&!u&&w.left<=e.left&&w.right>=e.left&&(u=p,f={left:Math.max(w.left,Math.min(w.right,e.left)),top:w.top});!t&&(e.left>=w.right&&e.top>=w.top||e.left>=w.left&&e.top>=w.bottom)&&(i=m+1)}}return!t&&u&&(t=u,s=f,r=0),t&&t.nodeType==3?M9(t,s):!t||r&&t.nodeType==1?{node:n,offset:i}:Aj(t,s)}function M9(n,e){let t=n.nodeValue.length,r=document.createRange();for(let s=0;s<t;s++){r.setEnd(n,s+1),r.setStart(n,s);let i=Ta(r,1);if(i.top!=i.bottom&&fw(e,i))return{node:n,offset:s+(e.left>=(i.left+i.right)/2?1:0)}}return{node:n,offset:0}}function fw(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function N9(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function O9(n,e,t){let{node:r,offset:s}=Aj(e,t),i=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();i=o.left!=o.right&&t.left>(o.left+o.right)/2?1:-1}return n.docView.posFromDOM(r,s,i)}function j9(n,e,t,r){let s=-1;for(let i=e,o=!1;i!=n.dom;){let c=n.docView.nearestDesc(i,!0),u;if(!c)return null;if(c.dom.nodeType==1&&(c.node.isBlock&&c.parent||!c.contentDOM)&&((u=c.dom.getBoundingClientRect()).width||u.height)&&(c.node.isBlock&&c.parent&&(!o&&u.left>r.left||u.top>r.top?s=c.posBefore:(!o&&u.right<r.left||u.bottom<r.top)&&(s=c.posAfter),o=!0),!c.contentDOM&&s<0&&!c.node.isText))return(c.node.isBlock?r.top<(u.top+u.bottom)/2:r.left<(u.left+u.right)/2)?c.posBefore:c.posAfter;i=c.dom.parentNode}return s>-1?s:n.docView.posFromDOM(e,t,-1)}function Mj(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),i=s;;){let o=n.childNodes[i];if(o.nodeType==1){let c=o.getClientRects();for(let u=0;u<c.length;u++){let f=c[u];if(fw(e,f))return Mj(o,e,f)}}if((i=(i+1)%r)==s)break}return n}function R9(n,e){let t=n.dom.ownerDocument,r,s=0,i=w9(t,e.left,e.top);i&&({node:r,offset:s}=i);let o=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),c;if(!o||!n.dom.contains(o.nodeType!=1?o.parentNode:o)){let f=n.dom.getBoundingClientRect();if(!fw(e,f)||(o=Mj(n.dom,e,f),!o))return null}if(cr)for(let f=o;r&&f;f=gu(f))f.draggable&&(r=void 0);if(o=N9(o,e),r){if(js&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let p=r.childNodes[s],m;p.nodeName=="IMG"&&(m=p.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&s++}let f;rh&&s&&r.nodeType==1&&(f=r.childNodes[s-1]).nodeType==1&&f.contentEditable=="false"&&f.getBoundingClientRect().top>=e.top&&s--,r==n.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?c=n.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(c=j9(n,r,s,e))}c==null&&(c=O9(n,o,e));let u=n.docView.nearestDesc(o,!0);return{pos:c,inside:u?u.posAtStart-u.border:-1}}function mC(n){return n.top<n.bottom||n.left<n.right}function Ta(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(mC(r))return r}return Array.prototype.find.call(t,mC)||n.getBoundingClientRect()}const D9=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Nj(n,e,t){let{node:r,offset:s,atom:i}=n.docView.domFromPos(e,t<0?-1:1),o=rh||js;if(r.nodeType==3)if(o&&(D9.test(r.nodeValue)||(t<0?!s:s==r.nodeValue.length))){let u=Ta(Di(r,s,s),t);if(js&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let f=Ta(Di(r,s-1,s-1),-1);if(f.top==u.top){let p=Ta(Di(r,s,s+1),-1);if(p.top!=u.top)return Md(p,p.left<f.left)}}return u}else{let u=s,f=s,p=t<0?1:-1;return t<0&&!s?(f++,p=-1):t>=0&&s==r.nodeValue.length?(u--,p=1):t<0?u--:f++,Md(Ta(Di(r,u,f),p),p<0)}if(!n.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&s&&(t<0||s==ds(r))){let u=r.childNodes[s-1];if(u.nodeType==1)return X0(u.getBoundingClientRect(),!1)}if(i==null&&s<ds(r)){let u=r.childNodes[s];if(u.nodeType==1)return X0(u.getBoundingClientRect(),!0)}return X0(r.getBoundingClientRect(),t>=0)}if(i==null&&s&&(t<0||s==ds(r))){let u=r.childNodes[s-1],f=u.nodeType==3?Di(u,ds(u)-(o?0:1)):u.nodeType==1&&(u.nodeName!="BR"||!u.nextSibling)?u:null;if(f)return Md(Ta(f,1),!1)}if(i==null&&s<ds(r)){let u=r.childNodes[s];for(;u.pmViewDesc&&u.pmViewDesc.ignoreForCoords;)u=u.nextSibling;let f=u?u.nodeType==3?Di(u,0,o?0:1):u.nodeType==1?u:null:null;if(f)return Md(Ta(f,-1),!0)}return Md(Ta(r.nodeType==3?Di(r):r,-t),t>=0)}function Md(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function X0(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function Oj(n,e,t){let r=n.state,s=n.root.activeElement;r!=e&&n.updateState(e),s!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),s!=n.dom&&s&&s.focus()}}function P9(n,e,t){let r=e.selection,s=t=="up"?r.$from:r.$to;return Oj(n,e,()=>{let{node:i}=n.docView.domFromPos(s.pos,t=="up"?-1:1);for(;;){let c=n.docView.nearestDesc(i,!0);if(!c)break;if(c.node.isBlock){i=c.contentDOM||c.dom;break}i=c.dom.parentNode}let o=Nj(n,s.pos,1);for(let c=i.firstChild;c;c=c.nextSibling){let u;if(c.nodeType==1)u=c.getClientRects();else if(c.nodeType==3)u=Di(c,0,c.nodeValue.length).getClientRects();else continue;for(let f=0;f<u.length;f++){let p=u[f];if(p.bottom>p.top+1&&(t=="up"?o.top-p.top>(p.bottom-o.top)*2:p.bottom-o.bottom>(o.bottom-p.top)*2))return!1}}return!0})}const L9=/[\u0590-\u08ac]/;function z9(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,i=!s,o=s==r.parent.content.size,c=n.domSelection();return c?!L9.test(r.parent.textContent)||!c.modify?t=="left"||t=="backward"?i:o:Oj(n,e,()=>{let{focusNode:u,focusOffset:f,anchorNode:p,anchorOffset:m}=n.domSelectionRange(),y=c.caretBidiLevel;c.modify("move",t,"character");let b=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:w,focusOffset:S}=n.domSelectionRange(),k=w&&!b.contains(w.nodeType==1?w:w.parentNode)||u==w&&f==S;try{c.collapse(p,m),u&&(u!=p||f!=m)&&c.extend&&c.extend(u,f)}catch{}return y!=null&&(c.caretBidiLevel=y),k}):r.pos==r.start()||r.pos==r.end()}let gC=null,yC=null,vC=!1;function V9(n,e,t){return gC==e&&yC==t?vC:(gC=e,yC=t,vC=t=="up"||t=="down"?P9(n,e,t):z9(n,e,t))}const ms=0,bC=1,Wo=2,ni=3;class sh{constructor(e,t,r,s){this.parent=e,this.children=t,this.dom=r,this.contentDOM=s,this.dirty=ms,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let s=this.children[t];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let i,o;if(e==this.contentDOM)i=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}else{let i,o;if(e==this.contentDOM)i=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(o):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=t>$n(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!1;break}if(i.previousSibling)break}if(s==null&&t==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!0;break}if(i.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,s=e;s;s=s.parentNode){let i=this.getDesc(s),o;if(i&&(!t||i.node))if(r&&(o=i.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return i}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let s=e;s;s=s.parentNode){let i=this.getDesc(s);if(i)return i.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let s=this.children[t],i=r+s.size;if(r==e&&i!=r){for(;!s.border&&s.children.length;)for(let o=0;o<s.children.length;o++){let c=s.children[o];if(c.size){s=c;break}}return s}if(e<i)return s.descAt(e-r-s.border);r=i}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let i=0;r<this.children.length;r++){let o=this.children[r],c=i+o.size;if(c>e||o instanceof Rj){s=e-i;break}i=c}if(s)return this.children[r].domFromPos(s-this.children[r].border,t);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof jj&&i.side>=0;r--);if(t<=0){let i,o=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,o=!1);return i&&t&&o&&!i.border&&!i.domAtom?i.domFromPos(i.size,t):{node:this.contentDOM,offset:i?$n(i.dom)+1:0}}else{let i,o=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,o=!1);return i&&o&&!i.border&&!i.domAtom?i.domFromPos(0,t):{node:this.contentDOM,offset:i?$n(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,i=-1;for(let o=r,c=0;;c++){let u=this.children[c],f=o+u.size;if(s==-1&&e<=f){let p=o+u.border;if(e>=p&&t<=f-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(e,t,p);e=o;for(let m=c;m>0;m--){let y=this.children[m-1];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(1)){s=$n(y.dom)+1;break}e-=y.size}s==-1&&(s=0)}if(s>-1&&(f>t||c==this.children.length-1)){t=f;for(let p=c+1;p<this.children.length;p++){let m=this.children[p];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){i=$n(m.dom);break}t+=m.size}i==-1&&(i=this.contentDOM.childNodes.length);break}o=f}return{node:this.contentDOM,from:e,to:t,fromOffset:s,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,s=!1){let i=Math.min(e,t),o=Math.max(e,t);for(let b=0,w=0;b<this.children.length;b++){let S=this.children[b],k=w+S.size;if(i>w&&o<k)return S.setSelection(e-w-S.border,t-w-S.border,r,s);w=k}let c=this.domFromPos(e,e?-1:1),u=t==e?c:this.domFromPos(t,t?-1:1),f=r.root.getSelection(),p=r.domSelectionRange(),m=!1;if((js||cr)&&e==t){let{node:b,offset:w}=c;if(b.nodeType==3){if(m=!!(w&&b.nodeValue[w-1]==`
`),m&&w==b.nodeValue.length)for(let S=b,k;S;S=S.parentNode){if(k=S.nextSibling){k.nodeName=="BR"&&(c=u={node:k.parentNode,offset:$n(k)+1});break}let E=S.pmViewDesc;if(E&&E.node&&E.node.isBlock)break}}else{let S=b.childNodes[w-1];m=S&&(S.nodeName=="BR"||S.contentEditable=="false")}}if(js&&p.focusNode&&p.focusNode!=u.node&&p.focusNode.nodeType==1){let b=p.focusNode.childNodes[p.focusOffset];b&&b.contentEditable=="false"&&(s=!0)}if(!(s||m&&cr)&&wl(c.node,c.offset,p.anchorNode,p.anchorOffset)&&wl(u.node,u.offset,p.focusNode,p.focusOffset))return;let y=!1;if((f.extend||e==t)&&!m){f.collapse(c.node,c.offset);try{e!=t&&f.extend(u.node,u.offset),y=!0}catch{}}if(!y){if(e>t){let w=c;c=u,u=w}let b=document.createRange();b.setEnd(u.node,u.offset),b.setStart(c.node,c.offset),f.removeAllRanges(),f.addRange(b)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,s=0;s<this.children.length;s++){let i=this.children[s],o=r+i.size;if(r==o?e<=o&&t>=r:e<o&&t>r){let c=r+i.border,u=o-i.border;if(e>=c&&t<=u){this.dirty=e==r||t==o?Wo:bC,e==c&&t==u&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=ni:i.markDirty(e-c,t-c);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?Wo:ni}r=o}this.dirty=Wo}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?Wo:bC;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class jj extends sh{constructor(e,t,r,s){let i,o=t.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!i)return s;if(i.parent)return i.parent.posBeforeChild(i)})),!t.type.spec.raw){if(o.nodeType!=1){let c=document.createElement("span");c.appendChild(o),o=c}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,i=this}matchesWidget(e){return this.dirty==ms&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class B9 extends sh{constructor(e,t,r,s){super(e,[],t,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Sl extends sh{constructor(e,t,r,s,i){super(e,[],r,s),this.mark=t,this.spec=i}static create(e,t,r,s){let i=s.nodeViews[t.type.name],o=i&&i(t,s,r);return(!o||!o.dom)&&(o=Rl.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new Sl(e,t,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&ni||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=ni&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=ms){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=ms}}slice(e,t,r){let s=Sl.create(this.parent,this.mark,!0,r),i=this.children,o=this.size;t<o&&(i=Db(i,t,o,r)),e>0&&(i=Db(i,0,e,r));for(let c=0;c<i.length;c++)i[c].parent=s;return s.children=i,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Ja extends sh{constructor(e,t,r,s,i,o,c,u,f){super(e,[],i,o),this.node=t,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=c}static create(e,t,r,s,i,o){let c=i.nodeViews[t.type.name],u,f=c&&c(t,i,()=>{if(!u)return o;if(u.parent)return u.parent.posBeforeChild(u)},r,s),p=f&&f.dom,m=f&&f.contentDOM;if(t.isText){if(!p)p=document.createTextNode(t.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:m}=Rl.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!m&&!t.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),t.type.spec.draggable&&(p.draggable=!0));let y=p;return p=Lj(p,r,t),f?u=new I9(e,t,r,s,p,m||null,y,f,i,o+1):t.isText?new Wm(e,t,r,s,p,y,i):new Ja(e,t,r,s,p,m||null,y,i,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ne.empty)}return e}matchesNode(e,t,r){return this.dirty==ms&&e.eq(this.node)&&bm(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,s=t,i=e.composing?this.localCompositionInfo(e,t):null,o=i&&i.pos>-1?i:null,c=i&&i.pos<0,u=new F9(this,o&&o.node,e);H9(this.node,this.innerDeco,(f,p,m)=>{f.spec.marks?u.syncToMarks(f.spec.marks,r,e):f.type.side>=0&&!m&&u.syncToMarks(p==this.node.childCount?Ot.none:this.node.child(p).marks,r,e),u.placeWidget(f,e,s)},(f,p,m,y)=>{u.syncToMarks(f.marks,r,e);let b;u.findNodeMatch(f,p,m,y)||c&&e.state.selection.from>s&&e.state.selection.to<s+f.nodeSize&&(b=u.findIndexWithChild(i.node))>-1&&u.updateNodeAt(f,p,m,b,e)||u.updateNextNode(f,p,m,e,y,s)||u.addNode(f,p,m,e,s),s+=f.nodeSize}),u.syncToMarks([],r,e),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==Wo)&&(o&&this.protectLocalComposition(e,o),Dj(this.contentDOM,this.children,e),yu&&K9(this.dom))}localCompositionInfo(e,t){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof Ye)||r<t||s>t+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let o=i.nodeValue,c=G9(this.node.content,o,r-t,s-t);return c<0?null:{node:i,pos:c,text:o}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:s}){if(this.getDesc(t))return;let i=t;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new B9(this,i,t,s);e.input.compositionNodes.push(o),this.children=Db(this.children,r,r+s.length,e,o)}update(e,t,r,s){return this.dirty==ni||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,s),!0)}updateInner(e,t,r,s){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=ms}updateOuterDeco(e){if(bm(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=Pj(this.dom,this.nodeDOM,Rb(this.outerDeco,this.node,t),Rb(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function xC(n,e,t,r,s){Lj(r,e,n);let i=new Ja(void 0,n,e,t,r,r,r,s,0);return i.contentDOM&&i.updateChildren(s,0),i}class Wm extends Ja{constructor(e,t,r,s,i,o,c){super(e,t,r,s,i,null,o,c,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,s){return this.dirty==ni||this.dirty!=ms&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=ms||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=ms,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let s=this.node.cut(e,t),i=document.createTextNode(s.text);return new Wm(this.parent,s,this.outerDeco,this.innerDeco,i,i,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=ni)}get domAtom(){return!1}isText(e){return this.node.text==e}}class Rj extends sh{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==ms&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class I9 extends Ja{constructor(e,t,r,s,i,o,c,u,f,p){super(e,t,r,s,i,o,c,f,p),this.spec=u}update(e,t,r,s){if(this.dirty==ni)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,t,r);return i&&this.updateInner(e,t,r,s),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,s){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Dj(n,e,t){let r=n.firstChild,s=!1;for(let i=0;i<e.length;i++){let o=e[i],c=o.dom;if(c.parentNode==n){for(;c!=r;)r=wC(r),s=!0;r=r.nextSibling}else s=!0,n.insertBefore(c,r);if(o instanceof Sl){let u=r?r.previousSibling:n.lastChild;Dj(o.contentDOM,o.children,t),r=u?u.nextSibling:n.firstChild}}for(;r;)r=wC(r),s=!0;s&&t.trackWrites==n&&(t.trackWrites=null)}const tf=function(n){n&&(this.nodeName=n)};tf.prototype=Object.create(null);const el=[new tf];function Rb(n,e,t){if(n.length==0)return el;let r=t?el[0]:new tf,s=[r];for(let i=0;i<n.length;i++){let o=n[i].type.attrs;if(o){o.nodeName&&s.push(r=new tf(o.nodeName));for(let c in o){let u=o[c];u!=null&&(t&&s.length==1&&s.push(r=new tf(e.isInline?"span":"div")),c=="class"?r.class=(r.class?r.class+" ":"")+u:c=="style"?r.style=(r.style?r.style+";":"")+u:c!="nodeName"&&(r[c]=u))}}}return s}function Pj(n,e,t,r){if(t==el&&r==el)return e;let s=e;for(let i=0;i<r.length;i++){let o=r[i],c=t[i];if(i){let u;c&&c.nodeName==o.nodeName&&s!=n&&(u=s.parentNode)&&u.nodeName.toLowerCase()==o.nodeName||(u=document.createElement(o.nodeName),u.pmIsDeco=!0,u.appendChild(s),c=el[0]),s=u}U9(s,c||el[0],o)}return s}function U9(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=t.class?t.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)s.indexOf(r[i])==-1&&n.classList.remove(r[i]);for(let i=0;i<s.length;i++)r.indexOf(s[i])==-1&&n.classList.add(s[i]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)n.style.removeProperty(s[1])}t.style&&(n.style.cssText+=t.style)}}function Lj(n,e,t){return Pj(n,n,el,Rb(e,t,n.nodeType!=1))}function bm(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function wC(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class F9{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=$9(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let s=0,i=this.stack.length>>1,o=Math.min(i,e.length);for(;s<o&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=ms,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let c=-1;for(let u=this.index;u<Math.min(this.index+3,this.top.children.length);u++){let f=this.top.children[u];if(f.matchesMark(e[i])&&!this.isLocked(f.dom)){c=u;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let u=Sl.create(this.top,e[i],t,r);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,i++}}findNodeMatch(e,t,r,s){let i=-1,o;if(s>=this.preMatch.index&&(o=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,r))i=this.top.children.indexOf(o,this.index);else for(let c=this.index,u=Math.min(this.top.children.length,c+5);c<u;c++){let f=this.top.children[c];if(f.matchesNode(e,t,r)&&!this.preMatch.matched.has(f)){i=c;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,t,r,s,i){let o=this.top.children[s];return o.dirty==ni&&o.dom==o.contentDOM&&(o.dirty=Wo),o.update(e,t,r,i)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=t}}updateNextNode(e,t,r,s,i,o){for(let c=this.index;c<this.top.children.length;c++){let u=this.top.children[c];if(u instanceof Ja){let f=this.preMatch.matched.get(u);if(f!=null&&f!=i)return!1;let p=u.dom,m,y=this.isLocked(p)&&!(e.isText&&u.node&&u.node.isText&&u.nodeDOM.nodeValue==e.text&&u.dirty!=ni&&bm(t,u.outerDeco));if(!y&&u.update(e,t,r,s))return this.destroyBetween(this.index,c),u.dom!=p&&(this.changed=!0),this.index++,!0;if(!y&&(m=this.recreateWrapper(u,e,t,r,s,o)))return this.destroyBetween(this.index,c),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=Wo,m.updateChildren(s,o+1),m.dirty=ms),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,s,i,o){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!bm(r,e.outerDeco)||!s.eq(e.innerDeco))return null;let c=Ja.create(this.top,t,r,s,i,o);if(c.contentDOM){c.children=e.children,e.children=[];for(let u of c.children)u.parent=c}return e.destroy(),c}addNode(e,t,r,s,i){let o=Ja.create(this.top,e,t,r,s,i);o.contentDOM&&o.updateChildren(s,i+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,t,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let i=new jj(this.top,e,t,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Sl;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Wm)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((cr||er)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new Rj(this.top,[],r,null);t!=this.top?t.children.push(s):t.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function $9(n,e){let t=e,r=t.children.length,s=n.childCount,i=new Map,o=[];e:for(;s>0;){let c;for(;;)if(r){let f=t.children[r-1];if(f instanceof Sl)t=f,r=f.children.length;else{c=f,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let u=c.node;if(u){if(u!=n.child(s-1))break;--s,i.set(c,s),o.push(c)}}return{index:s,matched:i,matches:o.reverse()}}function q9(n,e){return n.type.side-e.type.side}function H9(n,e,t,r){let s=e.locals(n),i=0;if(s.length==0){for(let f=0;f<n.childCount;f++){let p=n.child(f);r(p,s,e.forChild(i,p),f),i+=p.nodeSize}return}let o=0,c=[],u=null;for(let f=0;;){let p,m;for(;o<s.length&&s[o].to==i;){let k=s[o++];k.widget&&(p?(m||(m=[p])).push(k):p=k)}if(p)if(m){m.sort(q9);for(let k=0;k<m.length;k++)t(m[k],f,!!u)}else t(p,f,!!u);let y,b;if(u)b=-1,y=u,u=null;else if(f<n.childCount)b=f,y=n.child(f++);else break;for(let k=0;k<c.length;k++)c[k].to<=i&&c.splice(k--,1);for(;o<s.length&&s[o].from<=i&&s[o].to>i;)c.push(s[o++]);let w=i+y.nodeSize;if(y.isText){let k=w;o<s.length&&s[o].from<k&&(k=s[o].from);for(let E=0;E<c.length;E++)c[E].to<k&&(k=c[E].to);k<w&&(u=y.cut(k-i),y=y.cut(0,k-i),w=k,b=-1)}else for(;o<s.length&&s[o].to<w;)o++;let S=y.isInline&&!y.isLeaf?c.filter(k=>!k.inline):c.slice();r(y,S,e.forChild(i,y),b),i=w}}function K9(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function G9(n,e,t,r){for(let s=0,i=0;s<n.childCount&&i<=r;){let o=n.child(s++),c=i;if(i+=o.nodeSize,!o.isText)continue;let u=o.text;for(;s<n.childCount;){let f=n.child(s++);if(i+=f.nodeSize,!f.isText)break;u+=f.text}if(i>=t){if(i>=r&&u.slice(r-e.length-c,r-c)==e)return r-e.length;let f=c<r?u.lastIndexOf(e,r-c-1):-1;if(f>=0&&f+e.length+c>=t)return c+f;if(t==r&&u.length>=r+e.length-c&&u.slice(r-c,r-c+e.length)==e)return r}}return-1}function Db(n,e,t,r,s){let i=[];for(let o=0,c=0;o<n.length;o++){let u=n[o],f=c,p=c+=u.size;f>=t||p<=e?i.push(u):(f<e&&i.push(u.slice(0,e-f,r)),s&&(i.push(s),s=void 0),p>t&&i.push(u.slice(t-f,u.size,r)))}return i}function hw(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let s=n.docView.nearestDesc(t.focusNode),i=s&&s.size==0,o=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(o<0)return null;let c=r.resolve(o),u,f;if(Xm(t)){for(u=o;s&&!s.node;)s=s.parent;let m=s.node;if(s&&m.isAtom&&Pe.isSelectable(m)&&s.parent&&!(m.isInline&&b9(t.focusNode,t.focusOffset,s.dom))){let y=s.posBefore;f=new Pe(o==y?c:r.resolve(y))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let m=o,y=o;for(let b=0;b<t.rangeCount;b++){let w=t.getRangeAt(b);m=Math.min(m,n.docView.posFromDOM(w.startContainer,w.startOffset,1)),y=Math.max(y,n.docView.posFromDOM(w.endContainer,w.endOffset,-1))}if(m<0)return null;[u,o]=y==n.state.selection.anchor?[y,m]:[m,y],c=r.resolve(o)}else u=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(u<0)return null}let p=r.resolve(u);if(!f){let m=e=="pointer"||n.state.selection.head<c.pos&&!i?1:-1;f=pw(n,p,c,m)}return f}function zj(n){return n.editable?n.hasFocus():Bj(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function Ii(n,e=!1){let t=n.state.selection;if(Vj(n,t),!!zj(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&er){let r=n.domSelectionRange(),s=n.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&wl(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)Y9(n);else{let{anchor:r,head:s}=t,i,o;SC&&!(t instanceof Ye)&&(t.$from.parent.inlineContent||(i=kC(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(o=kC(n,t.to))),n.docView.setSelection(r,s,n,e),SC&&(i&&_C(i),o&&_C(o)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Z9(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const SC=cr||er&&Ej<63;function kC(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),s=r<t.childNodes.length?t.childNodes[r]:null,i=r?t.childNodes[r-1]:null;if(cr&&s&&s.contentEditable=="false")return W0(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return W0(s);if(i)return W0(i)}}function W0(n){return n.contentEditable="true",cr&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function _C(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function Z9(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,s=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=s)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!zj(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function Y9(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let r=n.cursorWrapper.dom,s=r.nodeName=="IMG";s?t.setStart(r.parentNode,$n(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!s&&!n.state.selection.visible&&Er&&Qa<=11&&(r.disabled=!0,r.disabled=!1)}function Vj(n,e){if(e instanceof Pe){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(EC(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else EC(n)}function EC(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function pw(n,e,t,r){return n.someProp("createSelectionBetween",s=>s(n,e,t))||Ye.between(e,t,r)}function TC(n){return n.editable&&!n.hasFocus()?!1:Bj(n)}function Bj(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Q9(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return wl(e.node,e.offset,t.anchorNode,t.anchorOffset)}function Pb(n,e){let{$anchor:t,$head:r}=n.selection,s=e>0?t.max(r):t.min(r),i=s.parent.inlineContent?s.depth?n.doc.resolve(e>0?s.after():s.before()):null:s;return i&&tt.findFrom(i,e)}function Aa(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function CC(n,e,t){let r=n.state.selection;if(r instanceof Ye)if(t.indexOf("s")>-1){let{$head:s}=r,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let o=n.state.doc.resolve(s.pos+i.nodeSize*(e<0?-1:1));return Aa(n,new Ye(r.$anchor,o))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let s=Pb(n.state,e);return s&&s instanceof Pe?Aa(n,s):!1}else if(!(us&&t.indexOf("m")>-1)){let s=r.$head,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,o;if(!i||i.isText)return!1;let c=e<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(o=n.docView.descAt(c))&&!o.contentDOM?Pe.isSelectable(i)?Aa(n,new Pe(e<0?n.state.doc.resolve(s.pos-i.nodeSize):s)):rh?Aa(n,new Ye(n.state.doc.resolve(e<0?c:c+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Pe&&r.node.isInline)return Aa(n,new Ye(e>0?r.$to:r.$from));{let s=Pb(n.state,e);return s?Aa(n,s):!1}}}function xm(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function nf(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function Tc(n,e){return e<0?J9(n):X9(n)}function J9(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let s,i,o=!1;for(js&&t.nodeType==1&&r<xm(t)&&nf(t.childNodes[r],-1)&&(o=!0);;)if(r>0){if(t.nodeType!=1)break;{let c=t.childNodes[r-1];if(nf(c,-1))s=t,i=--r;else if(c.nodeType==3)t=c,r=t.nodeValue.length;else break}}else{if(Ij(t))break;{let c=t.previousSibling;for(;c&&nf(c,-1);)s=t.parentNode,i=$n(c),c=c.previousSibling;if(c)t=c,r=xm(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}o?Lb(n,t,r):s&&Lb(n,s,i)}function X9(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let s=xm(t),i,o;for(;;)if(r<s){if(t.nodeType!=1)break;let c=t.childNodes[r];if(nf(c,1))i=t,o=++r;else break}else{if(Ij(t))break;{let c=t.nextSibling;for(;c&&nf(c,1);)i=c.parentNode,o=$n(c)+1,c=c.nextSibling;if(c)t=c,r=0,s=xm(t);else{if(t=t.parentNode,t==n.dom)break;r=s=0}}}i&&Lb(n,i,o)}function Ij(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function W9(n,e){for(;n&&e==n.childNodes.length&&!nh(n);)e=$n(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function eq(n,e){for(;n&&!e&&!nh(n);)e=$n(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function Lb(n,e,t){if(e.nodeType!=3){let i,o;(o=W9(e,t))?(e=o,t=0):(i=eq(e,t))&&(e=i,t=i.nodeValue.length)}let r=n.domSelection();if(!r)return;if(Xm(r)){let i=document.createRange();i.setEnd(e,t),i.setStart(e,t),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:s}=n;setTimeout(()=>{n.state==s&&Ii(n)},50)}function AC(n,e){let t=n.state.doc.resolve(e);if(!(er||S9)&&t.parent.inlineContent){let s=n.coordsAtPos(e);if(e>t.start()){let i=n.coordsAtPos(e-1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left<s.left?"ltr":"rtl"}if(e<t.end()){let i=n.coordsAtPos(e+1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left>s.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function MC(n,e,t){let r=n.state.selection;if(r instanceof Ye&&!r.empty||t.indexOf("s")>-1||us&&t.indexOf("m")>-1)return!1;let{$from:s,$to:i}=r;if(!s.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let o=Pb(n.state,e);if(o&&o instanceof Pe)return Aa(n,o)}if(!s.parent.inlineContent){let o=e<0?s:i,c=r instanceof Lr?tt.near(o,e):tt.findFrom(o,e);return c?Aa(n,c):!1}return!1}function NC(n,e){if(!(n.state.selection instanceof Ye))return!0;let{$head:t,$anchor:r,empty:s}=n.state.selection;if(!t.sameParent(r))return!0;if(!s)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(i&&!i.isText){let o=n.state.tr;return e<0?o.delete(t.pos-i.nodeSize,t.pos):o.delete(t.pos,t.pos+i.nodeSize),n.dispatch(o),!0}return!1}function OC(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function tq(n){if(!cr||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;OC(n,r,"true"),setTimeout(()=>OC(n,r,"false"),20)}return!1}function nq(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function rq(n,e){let t=e.keyCode,r=nq(e);if(t==8||us&&t==72&&r=="c")return NC(n,-1)||Tc(n,-1);if(t==46&&!e.shiftKey||us&&t==68&&r=="c")return NC(n,1)||Tc(n,1);if(t==13||t==27)return!0;if(t==37||us&&t==66&&r=="c"){let s=t==37?AC(n,n.state.selection.from)=="ltr"?-1:1:-1;return CC(n,s,r)||Tc(n,s)}else if(t==39||us&&t==70&&r=="c"){let s=t==39?AC(n,n.state.selection.from)=="ltr"?1:-1:1;return CC(n,s,r)||Tc(n,s)}else{if(t==38||us&&t==80&&r=="c")return MC(n,-1,r)||Tc(n,-1);if(t==40||us&&t==78&&r=="c")return tq(n)||MC(n,1,r)||Tc(n,1);if(r==(us?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function mw(n,e){n.someProp("transformCopied",b=>{e=b(e,n)});let t=[],{content:r,openStart:s,openEnd:i}=e;for(;s>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,i--;let b=r.firstChild;t.push(b.type.name,b.attrs!=b.type.defaultAttrs?b.attrs:null),r=b.content}let o=n.someProp("clipboardSerializer")||Rl.fromSchema(n.state.schema),c=Kj(),u=c.createElement("div");u.appendChild(o.serializeFragment(r,{document:c}));let f=u.firstChild,p,m=0;for(;f&&f.nodeType==1&&(p=Hj[f.nodeName.toLowerCase()]);){for(let b=p.length-1;b>=0;b--){let w=c.createElement(p[b]);for(;u.firstChild;)w.appendChild(u.firstChild);u.appendChild(w),m++}f=u.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${s} ${i}${m?` -${m}`:""} ${JSON.stringify(t)}`);let y=n.someProp("clipboardTextSerializer",b=>b(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:u,text:y,slice:e}}function Uj(n,e,t,r,s){let i=s.parent.type.spec.code,o,c;if(!t&&!e)return null;let u=e&&(r||i||!t);if(u){if(n.someProp("transformPastedText",y=>{e=y(e,i||r,n)}),i)return e?new ye(ne.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):ye.empty;let m=n.someProp("clipboardTextParser",y=>y(e,s,r,n));if(m)c=m;else{let y=s.marks(),{schema:b}=n.state,w=Rl.fromSchema(b);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(S=>{let k=o.appendChild(document.createElement("p"));S&&k.appendChild(w.serializeNode(b.text(S,y)))})}}else n.someProp("transformPastedHTML",m=>{t=m(t,n)}),o=oq(t),rh&&lq(o);let f=o&&o.querySelector("[data-pm-slice]"),p=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let m=+p[3];m>0;m--){let y=o.firstChild;for(;y&&y.nodeType!=1;)y=y.nextSibling;if(!y)break;o=y}if(c||(c=(n.someProp("clipboardParser")||n.someProp("domParser")||Ya.fromSchema(n.state.schema)).parseSlice(o,{preserveWhitespace:!!(u||p),context:s,ruleFromNode(y){return y.nodeName=="BR"&&!y.nextSibling&&y.parentNode&&!sq.test(y.parentNode.nodeName)?{ignore:!0}:null}})),p)c=cq(jC(c,+p[1],+p[2]),p[4]);else if(c=ye.maxOpen(iq(c.content,s),!0),c.openStart||c.openEnd){let m=0,y=0;for(let b=c.content.firstChild;m<c.openStart&&!b.type.spec.isolating;m++,b=b.firstChild);for(let b=c.content.lastChild;y<c.openEnd&&!b.type.spec.isolating;y++,b=b.lastChild);c=jC(c,m,y)}return n.someProp("transformPasted",m=>{c=m(c,n)}),c}const sq=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function iq(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let s=e.node(t).contentMatchAt(e.index(t)),i,o=[];if(n.forEach(c=>{if(!o)return;let u=s.findWrapping(c.type),f;if(!u)return o=null;if(f=o.length&&i.length&&$j(u,i,c,o[o.length-1],0))o[o.length-1]=f;else{o.length&&(o[o.length-1]=qj(o[o.length-1],i.length));let p=Fj(c,u);o.push(p),s=s.matchType(p.type),i=u}}),o)return ne.from(o)}return n}function Fj(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,ne.from(n));return n}function $j(n,e,t,r,s){if(s<n.length&&s<e.length&&n[s]==e[s]){let i=$j(n,e,t,r.lastChild,s+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(s==n.length-1?t.type:n[s+1]))return r.copy(r.content.append(ne.from(Fj(t,n,s+1))))}}function qj(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,qj(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(ne.empty,!0);return n.copy(t.append(r))}function zb(n,e,t,r,s,i){let o=e<0?n.firstChild:n.lastChild,c=o.content;return n.childCount>1&&(i=0),s<r-1&&(c=zb(c,e,t,r,s+1,i)),s>=t&&(c=e<0?o.contentMatchAt(0).fillBefore(c,i<=s).append(c):c.append(o.contentMatchAt(o.childCount).fillBefore(ne.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,o.copy(c))}function jC(n,e,t){return e<n.openStart&&(n=new ye(zb(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new ye(zb(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const Hj={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let RC=null;function Kj(){return RC||(RC=document.implementation.createHTMLDocument("title"))}let ev=null;function aq(n){let e=window.trustedTypes;return e?(ev||(ev=e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),ev.createHTML(n)):n}function oq(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=Kj().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),s;if((s=r&&Hj[r[1].toLowerCase()])&&(n=s.map(i=>"<"+i+">").join("")+n+s.map(i=>"</"+i+">").reverse().join("")),t.innerHTML=aq(n),s)for(let i=0;i<s.length;i++)t=t.querySelector(s[i])||t;return t}function lq(n){let e=n.querySelectorAll(er?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function cq(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:s,openStart:i,openEnd:o}=n;for(let c=r.length-2;c>=0;c-=2){let u=t.nodes[r[c]];if(!u||u.hasRequiredAttrs())break;s=ne.from(u.create(r[c+1],s)),i++,o++}return new ye(s,i,o)}const ur={},dr={},uq={touchstart:!0,touchmove:!0};class dq{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function fq(n){for(let e in ur){let t=ur[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{pq(n,r)&&!gw(n,r)&&(n.editable||!(r.type in dr))&&t(n,r)},uq[e]?{passive:!0}:void 0)}cr&&n.dom.addEventListener("input",()=>null),Vb(n)}function Ga(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function hq(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function Vb(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>gw(n,r))})}function gw(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function pq(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function mq(n,e){!gw(n,e)&&ur[e.type]&&(n.editable||!(e.type in dr))&&ur[e.type](n,e)}dr.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!Zj(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(Vi&&er&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),yu&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",s=>s(n,Go(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||rq(n,t)?t.preventDefault():Ga(n,"key")};dr.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};dr.keypress=(n,e)=>{let t=e;if(Zj(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||us&&t.metaKey)return;if(n.someProp("handleKeyPress",s=>s(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof Ye)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(t.charCode);!/[\r\n]/.test(s)&&!n.someProp("handleTextInput",i=>i(n,r.$from.pos,r.$to.pos,s))&&n.dispatch(n.state.tr.insertText(s).scrollIntoView()),t.preventDefault()}};function eg(n){return{left:n.clientX,top:n.clientY}}function gq(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function yw(n,e,t,r,s){if(r==-1)return!1;let i=n.state.doc.resolve(r);for(let o=i.depth+1;o>0;o--)if(n.someProp(e,c=>o>i.depth?c(n,t,i.nodeAfter,i.before(o),s,!0):c(n,t,i.node(o),i.before(o),s,!1)))return!0;return!1}function qc(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function yq(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&Pe.isSelectable(r)?(qc(n,new Pe(t)),!0):!1}function vq(n,e){if(e==-1)return!1;let t=n.state.selection,r,s;t instanceof Pe&&(r=t.node);let i=n.state.doc.resolve(e);for(let o=i.depth+1;o>0;o--){let c=o>i.depth?i.nodeAfter:i.node(o);if(Pe.isSelectable(c)){r&&t.$from.depth>0&&o>=t.$from.depth&&i.before(t.$from.depth+1)==t.$from.pos?s=i.before(t.$from.depth):s=i.before(o);break}}return s!=null?(qc(n,Pe.create(n.state.doc,s)),!0):!1}function bq(n,e,t,r,s){return yw(n,"handleClickOn",e,t,r)||n.someProp("handleClick",i=>i(n,e,r))||(s?vq(n,t):yq(n,t))}function xq(n,e,t,r){return yw(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",s=>s(n,e,r))}function wq(n,e,t,r){return yw(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",s=>s(n,e,r))||Sq(n,t,r)}function Sq(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(qc(n,Ye.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let i=s.depth+1;i>0;i--){let o=i>s.depth?s.nodeAfter:s.node(i),c=s.before(i);if(o.inlineContent)qc(n,Ye.create(r,c+1,c+1+o.content.size));else if(Pe.isSelectable(o))qc(n,Pe.create(r,c));else continue;return!0}}function vw(n){return wm(n)}const Gj=us?"metaKey":"ctrlKey";ur.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=vw(n),s=Date.now(),i="singleClick";s-n.input.lastClick.time<500&&gq(t,n.input.lastClick)&&!t[Gj]&&(n.input.lastClick.type=="singleClick"?i="doubleClick":n.input.lastClick.type=="doubleClick"&&(i="tripleClick")),n.input.lastClick={time:s,x:t.clientX,y:t.clientY,type:i};let o=n.posAtCoords(eg(t));o&&(i=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new kq(n,o,t,!!r)):(i=="doubleClick"?xq:wq)(n,o.pos,o.inside,t)?t.preventDefault():Ga(n,"pointer"))};class kq{constructor(e,t,r,s){this.view=e,this.pos=t,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[Gj],this.allowDefault=r.shiftKey;let i,o;if(t.inside>-1)i=e.state.doc.nodeAt(t.inside),o=t.inside;else{let p=e.state.doc.resolve(t.pos);i=p.parent,o=p.depth?p.before():0}const c=s?null:r.target,u=c?e.docView.nearestDesc(c,!0):null;this.target=u&&u.dom.nodeType==1?u.dom:null;let{selection:f}=e.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||f instanceof Pe&&f.from<=o&&f.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&js&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ga(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ii(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(eg(e))),this.updateAllowDefault(e),this.allowDefault||!t?Ga(this.view,"pointer"):bq(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||cr&&this.mightDrag&&!this.mightDrag.node.isAtom||er&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(qc(this.view,tt.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Ga(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ga(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}ur.touchstart=n=>{n.input.lastTouch=Date.now(),vw(n),Ga(n,"pointer")};ur.touchmove=n=>{n.input.lastTouch=Date.now(),Ga(n,"pointer")};ur.contextmenu=n=>vw(n);function Zj(n,e){return n.composing?!0:cr&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const _q=Vi?5e3:-1;dr.compositionstart=dr.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof Ye&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),wm(n,!0),n.markCursor=null;else if(wm(n,!e.selection.empty),js&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let s=r.focusNode,i=r.focusOffset;s&&s.nodeType==1&&i!=0;){let o=i<0?s.lastChild:s.childNodes[i-1];if(!o)break;if(o.nodeType==3){let c=n.domSelection();c&&c.collapse(o,o.nodeValue.length);break}else s=o,i=-1}}n.input.composing=!0}Yj(n,_q)};dr.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,Yj(n,20))};function Yj(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>wm(n),e))}function Qj(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=Tq());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function Eq(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=y9(e.focusNode,e.focusOffset),r=v9(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let s=r.pmViewDesc,i=n.domObserver.lastChangedTextNode;if(t==i||r==i)return i;if(!s||!s.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let o=t.pmViewDesc;if(!(!o||!o.isText(t.nodeValue)))return r}}return t||r}function Tq(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function wm(n,e=!1){if(!(Vi&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),Qj(n),e||n.docView&&n.docView.dirty){let t=hw(n);return t&&!t.eq(n.state.selection)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!n.state.selection.empty?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function Cq(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const xf=Er&&Qa<15||yu&&k9<604;ur.copy=dr.cut=(n,e)=>{let t=e,r=n.state.selection,s=t.type=="cut";if(r.empty)return;let i=xf?null:t.clipboardData,o=r.content(),{dom:c,text:u}=mw(n,o);i?(t.preventDefault(),i.clearData(),i.setData("text/html",c.innerHTML),i.setData("text/plain",u)):Cq(n,c),s&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Aq(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function Mq(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?wf(n,r.value,null,s,e):wf(n,r.textContent,r.innerHTML,s,e)},50)}function wf(n,e,t,r,s){let i=Uj(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",u=>u(n,s,i||ye.empty)))return!0;if(!i)return!1;let o=Aq(i),c=o?n.state.tr.replaceSelectionWith(o,r):n.state.tr.replaceSelection(i);return n.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Jj(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}dr.paste=(n,e)=>{let t=e;if(n.composing&&!Vi)return;let r=xf?null:t.clipboardData,s=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&wf(n,Jj(r),r.getData("text/html"),s,t)?t.preventDefault():Mq(n,t)};class Xj{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const Wj=us?"altKey":"ctrlKey";ur.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let s=n.state.selection,i=s.empty?null:n.posAtCoords(eg(t)),o;if(!(i&&i.pos>=s.from&&i.pos<=(s instanceof Pe?s.to-1:s.to))){if(r&&r.mightDrag)o=Pe.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let m=n.docView.nearestDesc(t.target,!0);m&&m.node.type.spec.draggable&&m!=n.docView&&(o=Pe.create(n.state.doc,m.posBefore))}}let c=(o||n.state.selection).content(),{dom:u,text:f,slice:p}=mw(n,c);(!t.dataTransfer.files.length||!er||Ej>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(xf?"Text":"text/html",u.innerHTML),t.dataTransfer.effectAllowed="copyMove",xf||t.dataTransfer.setData("text/plain",f),n.dragging=new Xj(p,!t[Wj],o)};ur.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};dr.dragover=dr.dragenter=(n,e)=>e.preventDefault();dr.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let s=n.posAtCoords(eg(t));if(!s)return;let i=n.state.doc.resolve(s.pos),o=r&&r.slice;o?n.someProp("transformPasted",w=>{o=w(o,n)}):o=Uj(n,Jj(t.dataTransfer),xf?null:t.dataTransfer.getData("text/html"),!1,i);let c=!!(r&&!t[Wj]);if(n.someProp("handleDrop",w=>w(n,t,o||ye.empty,c))){t.preventDefault();return}if(!o)return;t.preventDefault();let u=o?yj(n.state.doc,i.pos,o):i.pos;u==null&&(u=i.pos);let f=n.state.tr;if(c){let{node:w}=r;w?w.replace(f):f.deleteSelection()}let p=f.mapping.map(u),m=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,y=f.doc;if(m?f.replaceRangeWith(p,p,o.content.firstChild):f.replaceRange(p,p,o),f.doc.eq(y))return;let b=f.doc.resolve(p);if(m&&Pe.isSelectable(o.content.firstChild)&&b.nodeAfter&&b.nodeAfter.sameMarkup(o.content.firstChild))f.setSelection(new Pe(b));else{let w=f.mapping.map(u);f.mapping.maps[f.mapping.maps.length-1].forEach((S,k,E,T)=>w=T),f.setSelection(pw(n,b,f.doc.resolve(w)))}n.focus(),n.dispatch(f.setMeta("uiEvent","drop"))};ur.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&Ii(n)},20))};ur.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};ur.beforeinput=(n,e)=>{if(er&&Vi&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",i=>i(n,Go(8,"Backspace")))))return;let{$cursor:s}=n.state.selection;s&&s.pos>0&&n.dispatch(n.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let n in dr)ur[n]=dr[n];function Sf(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class Sm{constructor(e,t){this.toDOM=e,this.spec=t||pl,this.side=this.spec.side||0}map(e,t,r,s){let{pos:i,deleted:o}=e.mapResult(t.from+s,this.side<0?-1:1);return o?null:new hs(i-r,i-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Sm&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Sf(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Xa{constructor(e,t){this.attrs=e,this.spec=t||pl}map(e,t,r,s){let i=e.map(t.from+s,this.spec.inclusiveStart?-1:1)-r,o=e.map(t.to+s,this.spec.inclusiveEnd?1:-1)-r;return i>=o?null:new hs(i,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Xa&&Sf(this.attrs,e.attrs)&&Sf(this.spec,e.spec)}static is(e){return e.type instanceof Xa}destroy(){}}class bw{constructor(e,t){this.attrs=e,this.spec=t||pl}map(e,t,r,s){let i=e.mapResult(t.from+s,1);if(i.deleted)return null;let o=e.mapResult(t.to+s,-1);return o.deleted||o.pos<=i.pos?null:new hs(i.pos-r,o.pos-r,this)}valid(e,t){let{index:r,offset:s}=e.content.findIndex(t.from),i;return s==t.from&&!(i=e.child(r)).isText&&s+i.nodeSize==t.to}eq(e){return this==e||e instanceof bw&&Sf(this.attrs,e.attrs)&&Sf(this.spec,e.spec)}destroy(){}}class hs{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new hs(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new hs(e,e,new Sm(t,r))}static inline(e,t,r,s){return new hs(e,t,new Xa(r,s))}static node(e,t,r,s){return new hs(e,t,new bw(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof Xa}get widget(){return this.type instanceof Sm}}const Nc=[],pl={};class vn{constructor(e,t){this.local=e.length?e:Nc,this.children=t.length?t:Nc}static create(e,t){return t.length?km(t,e,0,pl):Jn}find(e,t,r){let s=[];return this.findInner(e??0,t??1e9,s,0,r),s}findInner(e,t,r,s,i){for(let o=0;o<this.local.length;o++){let c=this.local[o];c.from<=t&&c.to>=e&&(!i||i(c.spec))&&r.push(c.copy(c.from+s,c.to+s))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let c=this.children[o]+1;this.children[o+2].findInner(e-c,t-c,r,s+c,i)}}map(e,t,r){return this==Jn||e.maps.length==0?this:this.mapInner(e,t,0,0,r||pl)}mapInner(e,t,r,s,i){let o;for(let c=0;c<this.local.length;c++){let u=this.local[c].map(e,r,s);u&&u.type.valid(t,u)?(o||(o=[])).push(u):i.onRemove&&i.onRemove(this.local[c].spec)}return this.children.length?Nq(this.children,o||[],e,t,r,s,i):o?new vn(o.sort(ml),Nc):Jn}add(e,t){return t.length?this==Jn?vn.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let s,i=0;e.forEach((c,u)=>{let f=u+r,p;if(p=tR(t,c,f)){for(s||(s=this.children.slice());i<s.length&&s[i]<u;)i+=3;s[i]==u?s[i+2]=s[i+2].addInner(c,p,f+1):s.splice(i,0,u,u+c.nodeSize,km(p,c,f+1,pl)),i+=3}});let o=eR(i?nR(t):t,-r);for(let c=0;c<o.length;c++)o[c].type.valid(e,o[c])||o.splice(c--,1);return new vn(o.length?this.local.concat(o).sort(ml):this.local,s||this.children)}remove(e){return e.length==0||this==Jn?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,s=this.local;for(let i=0;i<r.length;i+=3){let o,c=r[i]+t,u=r[i+1]+t;for(let p=0,m;p<e.length;p++)(m=e[p])&&m.from>c&&m.to<u&&(e[p]=null,(o||(o=[])).push(m));if(!o)continue;r==this.children&&(r=this.children.slice());let f=r[i+2].removeInner(o,c+1);f!=Jn?r[i+2]=f:(r.splice(i,3),i-=3)}if(s.length){for(let i=0,o;i<e.length;i++)if(o=e[i])for(let c=0;c<s.length;c++)s[c].eq(o,t)&&(s==this.local&&(s=this.local.slice()),s.splice(c--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new vn(s,r):Jn}forChild(e,t){if(this==Jn)return this;if(t.isLeaf)return vn.empty;let r,s;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=e){this.children[c]==e&&(r=this.children[c+2]);break}let i=e+1,o=i+t.content.size;for(let c=0;c<this.local.length;c++){let u=this.local[c];if(u.from<o&&u.to>i&&u.type instanceof Xa){let f=Math.max(i,u.from)-i,p=Math.min(o,u.to)-i;f<p&&(s||(s=[])).push(u.copy(f,p))}}if(s){let c=new vn(s.sort(ml),Nc);return r?new Ra([c,r]):c}return r||Jn}eq(e){if(this==e)return!0;if(!(e instanceof vn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return xw(this.localsInner(e))}localsInner(e){if(this==Jn)return Nc;if(e.inlineContent||!this.local.some(Xa.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Xa||t.push(this.local[r]);return t}forEachSet(e){e(this)}}vn.empty=new vn([],[]);vn.removeOverlap=xw;const Jn=vn.empty;class Ra{constructor(e){this.members=e}map(e,t){const r=this.members.map(s=>s.map(e,t,pl));return Ra.from(r)}forChild(e,t){if(t.isLeaf)return vn.empty;let r=[];for(let s=0;s<this.members.length;s++){let i=this.members[s].forChild(e,t);i!=Jn&&(i instanceof Ra?r=r.concat(i.members):r.push(i))}return Ra.from(r)}eq(e){if(!(e instanceof Ra)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let s=0;s<this.members.length;s++){let i=this.members[s].localsInner(e);if(i.length)if(!t)t=i;else{r&&(t=t.slice(),r=!1);for(let o=0;o<i.length;o++)t.push(i[o])}}return t?xw(r?t:t.sort(ml)):Nc}static from(e){switch(e.length){case 0:return Jn;case 1:return e[0];default:return new Ra(e.every(t=>t instanceof vn)?e:e.reduce((t,r)=>t.concat(r instanceof vn?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function Nq(n,e,t,r,s,i,o){let c=n.slice();for(let f=0,p=i;f<t.maps.length;f++){let m=0;t.maps[f].forEach((y,b,w,S)=>{let k=S-w-(b-y);for(let E=0;E<c.length;E+=3){let T=c[E+1];if(T<0||y>T+p-m)continue;let N=c[E]+p-m;b>=N?c[E+1]=y<=N?-2:-1:y>=p&&k&&(c[E]+=k,c[E+1]+=k)}m+=k}),p=t.maps[f].map(p,-1)}let u=!1;for(let f=0;f<c.length;f+=3)if(c[f+1]<0){if(c[f+1]==-2){u=!0,c[f+1]=-1;continue}let p=t.map(n[f]+i),m=p-s;if(m<0||m>=r.content.size){u=!0;continue}let y=t.map(n[f+1]+i,-1),b=y-s,{index:w,offset:S}=r.content.findIndex(m),k=r.maybeChild(w);if(k&&S==m&&S+k.nodeSize==b){let E=c[f+2].mapInner(t,k,p+1,n[f]+i+1,o);E!=Jn?(c[f]=m,c[f+1]=b,c[f+2]=E):(c[f+1]=-2,u=!0)}else u=!0}if(u){let f=Oq(c,n,e,t,s,i,o),p=km(f,r,0,o);e=p.local;for(let m=0;m<c.length;m+=3)c[m+1]<0&&(c.splice(m,3),m-=3);for(let m=0,y=0;m<p.children.length;m+=3){let b=p.children[m];for(;y<c.length&&c[y]<b;)y+=3;c.splice(y,0,p.children[m],p.children[m+1],p.children[m+2])}}return new vn(e.sort(ml),c)}function eR(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let s=n[r];t.push(new hs(s.from+e,s.to+e,s.type))}return t}function Oq(n,e,t,r,s,i,o){function c(u,f){for(let p=0;p<u.local.length;p++){let m=u.local[p].map(r,s,f);m?t.push(m):o.onRemove&&o.onRemove(u.local[p].spec)}for(let p=0;p<u.children.length;p+=3)c(u.children[p+2],u.children[p]+f+1)}for(let u=0;u<n.length;u+=3)n[u+1]==-1&&c(n[u+2],e[u]+i+1);return t}function tR(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,s=null;for(let i=0,o;i<n.length;i++)(o=n[i])&&o.from>t&&o.to<r&&((s||(s=[])).push(o),n[i]=null);return s}function nR(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function km(n,e,t,r){let s=[],i=!1;e.forEach((c,u)=>{let f=tR(n,c,u+t);if(f){i=!0;let p=km(f,c,t+u+1,r);p!=Jn&&s.push(u,u+c.nodeSize,p)}});let o=eR(i?nR(n):n,-t).sort(ml);for(let c=0;c<o.length;c++)o[c].type.valid(e,o[c])||(r.onRemove&&r.onRemove(o[c].spec),o.splice(c--,1));return o.length||s.length?new vn(o,s):Jn}function ml(n,e){return n.from-e.from||n.to-e.to}function xw(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let s=t+1;s<e.length;s++){let i=e[s];if(i.from==r.from){i.to!=r.to&&(e==n&&(e=n.slice()),e[s]=i.copy(i.from,r.to),DC(e,s+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,i.from),DC(e,s,r.copy(i.from,r.to)));break}}}return e}function DC(n,e,t){for(;e<n.length&&ml(t,n[e])>0;)e++;n.splice(e,0,t)}function tv(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=Jn&&e.push(r)}),n.cursorWrapper&&e.push(vn.create(n.state.doc,[n.cursorWrapper.deco])),Ra.from(e)}const jq={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Rq=Er&&Qa<=11;class Dq{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Pq{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Dq,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);Er&&Qa<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),Rq&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,jq)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(TC(this.view)){if(this.suppressingSelectionUpdates)return Ii(this.view);if(Er&&Qa<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&wl(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let i=e.focusNode;i;i=gu(i))t.add(i);for(let i=e.anchorNode;i;i=gu(i))if(t.has(i)){r=i;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&TC(e)&&!this.ignoreSelectionChange(r),i=-1,o=-1,c=!1,u=[];if(e.editable)for(let p=0;p<t.length;p++){let m=this.registerMutation(t[p],u);m&&(i=i<0?m.from:Math.min(m.from,i),o=o<0?m.to:Math.max(m.to,o),m.typeOver&&(c=!0))}if(js&&u.length){let p=u.filter(m=>m.nodeName=="BR");if(p.length==2){let[m,y]=p;m.parentNode&&m.parentNode.parentNode==y.parentNode?y.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let y of p){let b=y.parentNode;b&&b.nodeName=="LI"&&(!m||Vq(e,m)!=b)&&y.remove()}}}let f=null;i<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Xm(r)&&(f=hw(e))&&f.eq(tt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Ii(e),this.currentSelection.set(r),e.scrollToSelection()):(i>-1||s)&&(i>-1&&(e.docView.markDirty(i,o),Lq(e)),this.handleDOMChange(i,o,c,u),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Ii(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let m=e.addedNodes[p];t.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,i=e.nextSibling;if(Er&&Qa<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:m,nextSibling:y}=e.addedNodes[p];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(s=m),(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(i=y)}let o=s&&s.parentNode==e.target?$n(s)+1:0,c=r.localPosFromDOM(e.target,o,-1),u=i&&i.parentNode==e.target?$n(i):e.target.childNodes.length,f=r.localPosFromDOM(e.target,u,1);return{from:c,to:f}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let PC=new WeakMap,LC=!1;function Lq(n){if(!PC.has(n)&&(PC.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=js,LC)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),LC=!0}}function zC(n,e){let t=e.startContainer,r=e.startOffset,s=e.endContainer,i=e.endOffset,o=n.domAtPos(n.state.selection.anchor);return wl(o.node,o.offset,s,i)&&([t,r,s,i]=[s,i,t,r]),{anchorNode:t,anchorOffset:r,focusNode:s,focusOffset:i}}function zq(n,e){if(e.getComposedRanges){let s=e.getComposedRanges(n.root)[0];if(s)return zC(n,s)}let t;function r(s){s.preventDefault(),s.stopImmediatePropagation(),t=s.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?zC(n,t):null}function Vq(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function Bq(n,e,t){let{node:r,fromOffset:s,toOffset:i,from:o,to:c}=n.docView.parseRange(e,t),u=n.domSelectionRange(),f,p=u.anchorNode;if(p&&n.dom.contains(p.nodeType==1?p:p.parentNode)&&(f=[{node:p,offset:u.anchorOffset}],Xm(u)||f.push({node:u.focusNode,offset:u.focusOffset})),er&&n.input.lastKeyCode===8)for(let k=i;k>s;k--){let E=r.childNodes[k-1],T=E.pmViewDesc;if(E.nodeName=="BR"&&!T){i=k;break}if(!T||T.size)break}let m=n.state.doc,y=n.someProp("domParser")||Ya.fromSchema(n.state.schema),b=m.resolve(o),w=null,S=y.parse(r,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:s,to:i,preserveWhitespace:b.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:Iq,context:b});if(f&&f[0].pos!=null){let k=f[0].pos,E=f[1]&&f[1].pos;E==null&&(E=k),w={anchor:k+o,head:E+o}}return{doc:S,sel:w,from:o,to:c}}function Iq(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(cr&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||cr&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Uq=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Fq(n,e,t,r,s){let i=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let z=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,te=hw(n,z);if(te&&!n.state.selection.eq(te)){if(er&&Vi&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",Oe=>Oe(n,Go(13,"Enter"))))return;let Ce=n.state.tr.setSelection(te);z=="pointer"?Ce.setMeta("pointer",!0):z=="key"&&Ce.scrollIntoView(),i&&Ce.setMeta("composition",i),n.dispatch(Ce)}return}let o=n.state.doc.resolve(e),c=o.sharedDepth(t);e=o.before(c+1),t=n.state.doc.resolve(t).after(c+1);let u=n.state.selection,f=Bq(n,e,t),p=n.state.doc,m=p.slice(f.from,f.to),y,b;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(y=n.state.selection.to,b="end"):(y=n.state.selection.from,b="start"),n.input.lastKeyCode=null;let w=Hq(m.content,f.doc.content,f.from,y,b);if(w&&n.input.domChangeCount++,(yu&&n.input.lastIOSEnter>Date.now()-225||Vi)&&s.some(z=>z.nodeType==1&&!Uq.test(z.nodeName))&&(!w||w.endA>=w.endB)&&n.someProp("handleKeyDown",z=>z(n,Go(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!w)if(r&&u instanceof Ye&&!u.empty&&u.$head.sameParent(u.$anchor)&&!n.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))w={start:u.from,endA:u.to,endB:u.to};else{if(f.sel){let z=VC(n,n.state.doc,f.sel);if(z&&!z.eq(n.state.selection)){let te=n.state.tr.setSelection(z);i&&te.setMeta("composition",i),n.dispatch(te)}}return}n.state.selection.from<n.state.selection.to&&w.start==w.endB&&n.state.selection instanceof Ye&&(w.start>n.state.selection.from&&w.start<=n.state.selection.from+2&&n.state.selection.from>=f.from?w.start=n.state.selection.from:w.endA<n.state.selection.to&&w.endA>=n.state.selection.to-2&&n.state.selection.to<=f.to&&(w.endB+=n.state.selection.to-w.endA,w.endA=n.state.selection.to)),Er&&Qa<=11&&w.endB==w.start+1&&w.endA==w.start&&w.start>f.from&&f.doc.textBetween(w.start-f.from-1,w.start-f.from+1)=="  "&&(w.start--,w.endA--,w.endB--);let S=f.doc.resolveNoCache(w.start-f.from),k=f.doc.resolveNoCache(w.endB-f.from),E=p.resolve(w.start),T=S.sameParent(k)&&S.parent.inlineContent&&E.end()>=w.endA,N;if((yu&&n.input.lastIOSEnter>Date.now()-225&&(!T||s.some(z=>z.nodeName=="DIV"||z.nodeName=="P"))||!T&&S.pos<f.doc.content.size&&!S.sameParent(k)&&(N=tt.findFrom(f.doc.resolve(S.pos+1),1,!0))&&N.head==k.pos)&&n.someProp("handleKeyDown",z=>z(n,Go(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>w.start&&qq(p,w.start,w.endA,S,k)&&n.someProp("handleKeyDown",z=>z(n,Go(8,"Backspace")))){Vi&&er&&n.domObserver.suppressSelectionUpdates();return}er&&w.endB==w.start&&(n.input.lastChromeDelete=Date.now()),Vi&&!T&&S.start()!=k.start()&&k.parentOffset==0&&S.depth==k.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==w.endA&&(w.endB-=2,k=f.doc.resolveNoCache(w.endB-f.from),setTimeout(()=>{n.someProp("handleKeyDown",function(z){return z(n,Go(13,"Enter"))})},20));let U=w.start,A=w.endA,L,I,F;if(T){if(S.pos==k.pos)Er&&Qa<=11&&S.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ii(n),20)),L=n.state.tr.delete(U,A),I=p.resolve(w.start).marksAcross(p.resolve(w.endA));else if(w.endA==w.endB&&(F=$q(S.parent.content.cut(S.parentOffset,k.parentOffset),E.parent.content.cut(E.parentOffset,w.endA-E.start()))))L=n.state.tr,F.type=="add"?L.addMark(U,A,F.mark):L.removeMark(U,A,F.mark);else if(S.parent.child(S.index()).isText&&S.index()==k.index()-(k.textOffset?0:1)){let z=S.parent.textBetween(S.parentOffset,k.parentOffset);if(n.someProp("handleTextInput",te=>te(n,U,A,z)))return;L=n.state.tr.insertText(z,U,A)}}if(L||(L=n.state.tr.replace(U,A,f.doc.slice(w.start-f.from,w.endB-f.from))),f.sel){let z=VC(n,L.doc,f.sel);z&&!(er&&n.composing&&z.empty&&(w.start!=w.endB||n.input.lastChromeDelete<Date.now()-100)&&(z.head==U||z.head==L.mapping.map(A)-1)||Er&&z.empty&&z.head==U)&&L.setSelection(z)}I&&L.ensureMarks(I),i&&L.setMeta("composition",i),n.dispatch(L.scrollIntoView())}function VC(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:pw(n,e.resolve(t.anchor),e.resolve(t.head))}function $q(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,s=t,i=r,o,c,u;for(let p=0;p<r.length;p++)s=r[p].removeFromSet(s);for(let p=0;p<t.length;p++)i=t[p].removeFromSet(i);if(s.length==1&&i.length==0)c=s[0],o="add",u=p=>p.mark(c.addToSet(p.marks));else if(s.length==0&&i.length==1)c=i[0],o="remove",u=p=>p.mark(c.removeFromSet(p.marks));else return null;let f=[];for(let p=0;p<e.childCount;p++)f.push(u(e.child(p)));if(ne.from(f).eq(n))return{mark:c,type:o}}function qq(n,e,t,r,s){if(t-e<=s.pos-r.pos||nv(r,!0,!1)<s.pos)return!1;let i=n.resolve(e);if(!r.parent.isTextblock){let c=i.nodeAfter;return c!=null&&t==e+c.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let o=n.resolve(nv(i,!0,!0));return!o.parent.isTextblock||o.pos>t||nv(o,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function nv(n,e,t){let r=n.depth,s=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,s++,e=!1;if(t){let i=n.node(r).maybeChild(n.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,s++}return s}function Hq(n,e,t,r,s){let i=n.findDiffStart(e,t);if(i==null)return null;let{a:o,b:c}=n.findDiffEnd(e,t+n.size,t+e.size);if(s=="end"){let u=Math.max(0,i-Math.min(o,c));r-=o+u-i}if(o<i&&n.size<e.size){let u=r<=i&&r>=o?i-r:0;i-=u,i&&i<e.size&&BC(e.textBetween(i-1,i+1))&&(i+=u?1:-1),c=i+(c-o),o=i}else if(c<i){let u=r<=i&&r>=c?i-r:0;i-=u,i&&i<n.size&&BC(n.textBetween(i-1,i+1))&&(i+=u?1:-1),o=i+(o-c),c=i}return{start:i,endA:o,endB:c}}function BC(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class Kq{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new dq,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(qC),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=FC(this),UC(this),this.nodeViews=$C(this),this.docView=xC(this.state.doc,IC(this),tv(this),this.dom,this),this.domObserver=new Pq(this,(r,s,i,o)=>Fq(this,r,s,i,o)),this.domObserver.start(),fq(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Vb(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(qC),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let s=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(Qj(this),o=!0),this.state=e;let c=s.plugins!=e.plugins||this._props.plugins!=t.plugins;if(c||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let b=$C(this);Zq(b,this.nodeViews)&&(this.nodeViews=b,i=!0)}(c||t.handleDOMEvents!=this._props.handleDOMEvents)&&Vb(this),this.editable=FC(this),UC(this);let u=tv(this),f=IC(this),p=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",m=i||!this.docView.matchesNode(e.doc,f,u);(m||!e.selection.eq(s.selection))&&(o=!0);let y=p=="preserve"&&o&&this.dom.style.overflowAnchor==null&&T9(this);if(o){this.domObserver.stop();let b=m&&(Er||er)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&Gq(s.selection,e.selection);if(m){let w=er?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Eq(this)),(i||!this.docView.update(e.doc,f,u,this))&&(this.docView.updateOuterDeco(f),this.docView.destroy(),this.docView=xC(e.doc,f,u,this.dom,this)),w&&!this.trackWrites&&(b=!0)}b||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Q9(this))?Ii(this,b):(Vj(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():y&&C9(y)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof Pe){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&pC(this,t.getBoundingClientRect(),e)}else pC(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let i=r.from+(this.state.doc.content.size-t.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(s=i)}this.dragging=new Xj(e.slice,e.move,s<0?void 0:Pe.create(this.state.doc,s))}someProp(e,t){let r=this._props&&this._props[e],s;if(r!=null&&(s=t?t(r):r))return s;for(let o=0;o<this.directPlugins.length;o++){let c=this.directPlugins[o].props[e];if(c!=null&&(s=t?t(c):c))return s}let i=this.state.plugins;if(i)for(let o=0;o<i.length;o++){let c=i[o].props[e];if(c!=null&&(s=t?t(c):c))return s}}hasFocus(){if(Er){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&A9(this.dom),Ii(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return R9(this,e)}coordsAtPos(e,t=1){return Nj(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let s=this.docView.posFromDOM(e,t,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,t){return V9(this,t||this.state,e)}pasteHTML(e,t){return wf(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return wf(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return mw(this,e)}destroy(){this.docView&&(hq(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],tv(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,m9())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return mq(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?cr&&this.root.nodeType===11&&x9(this.dom.ownerDocument)==this.dom&&zq(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function IC(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[hs.node(0,n.state.doc.content.size,e)]}function UC(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:hs.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function FC(n){return!n.someProp("editable",e=>e(n.state)===!1)}function Gq(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function $C(n){let e=Object.create(null);function t(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function Zq(n,e){let t=0,r=0;for(let s in n){if(n[s]!=e[s])return!0;t++}for(let s in e)r++;return t!=r}function qC(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var no={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},_m={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Yq=typeof navigator<"u"&&/Mac/.test(navigator.platform),Qq=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var qn=0;qn<10;qn++)no[48+qn]=no[96+qn]=String(qn);for(var qn=1;qn<=24;qn++)no[qn+111]="F"+qn;for(var qn=65;qn<=90;qn++)no[qn]=String.fromCharCode(qn+32),_m[qn]=String.fromCharCode(qn);for(var rv in no)_m.hasOwnProperty(rv)||(_m[rv]=no[rv]);function Jq(n){var e=Yq&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||Qq&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?_m:no)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const Xq=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function Wq(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,s,i,o;for(let c=0;c<e.length-1;c++){let u=e[c];if(/^(cmd|meta|m)$/i.test(u))o=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))s=!0;else if(/^s(hift)?$/i.test(u))i=!0;else if(/^mod$/i.test(u))Xq?o=!0:s=!0;else throw new Error("Unrecognized modifier name: "+u)}return r&&(t="Alt-"+t),s&&(t="Ctrl-"+t),o&&(t="Meta-"+t),i&&(t="Shift-"+t),t}function eH(n){let e=Object.create(null);for(let t in n)e[Wq(t)]=n[t];return e}function sv(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function tH(n){return new Cr({props:{handleKeyDown:rR(n)}})}function rR(n){let e=eH(n);return function(t,r){let s=Jq(r),i,o=e[sv(s,r)];if(o&&o(t.state,t.dispatch,t))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let c=e[sv(s,r,!1)];if(c&&c(t.state,t.dispatch,t))return!0}if((r.shiftKey||r.altKey||r.metaKey||s.charCodeAt(0)>127)&&(i=no[r.keyCode])&&i!=s){let c=e[sv(i,r)];if(c&&c(t.state,t.dispatch,t))return!0}}return!1}}const ww=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function sR(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const iR=(n,e,t)=>{let r=sR(n,t);if(!r)return!1;let s=Sw(r);if(!s){let o=r.blockRange(),c=o&&Au(o);return c==null?!1:(e&&e(n.tr.lift(o,c).scrollIntoView()),!0)}let i=s.nodeBefore;if(pR(n,s,e,-1))return!0;if(r.parent.content.size==0&&(vu(i,"end")||Pe.isSelectable(i)))for(let o=r.depth;;o--){let c=Qm(n.doc,r.before(o),r.after(o),ye.empty);if(c&&c.slice.size<c.to-c.from){if(e){let u=n.tr.step(c);u.setSelection(vu(i,"end")?tt.findFrom(u.doc.resolve(u.mapping.map(s.pos,-1)),-1):Pe.create(u.doc,s.pos-i.nodeSize)),e(u.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return i.isAtom&&s.depth==r.depth-1?(e&&e(n.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1},nH=(n,e,t)=>{let r=sR(n,t);if(!r)return!1;let s=Sw(r);return s?aR(n,s,e):!1},rH=(n,e,t)=>{let r=lR(n,t);if(!r)return!1;let s=kw(r);return s?aR(n,s,e):!1};function aR(n,e,t){let r=e.nodeBefore,s=r,i=e.pos-1;for(;!s.isTextblock;i--){if(s.type.spec.isolating)return!1;let p=s.lastChild;if(!p)return!1;s=p}let o=e.nodeAfter,c=o,u=e.pos+1;for(;!c.isTextblock;u++){if(c.type.spec.isolating)return!1;let p=c.firstChild;if(!p)return!1;c=p}let f=Qm(n.doc,i,u,ye.empty);if(!f||f.from!=i||f instanceof Cn&&f.slice.size>=u-i)return!1;if(t){let p=n.tr.step(f);p.setSelection(Ye.create(p.doc,i)),t(p.scrollIntoView())}return!0}function vu(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const oR=(n,e,t)=>{let{$head:r,empty:s}=n.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;i=Sw(r)}let o=i&&i.nodeBefore;return!o||!Pe.isSelectable(o)?!1:(e&&e(n.tr.setSelection(Pe.create(n.doc,i.pos-o.nodeSize)).scrollIntoView()),!0)};function Sw(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function lR(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const cR=(n,e,t)=>{let r=lR(n,t);if(!r)return!1;let s=kw(r);if(!s)return!1;let i=s.nodeAfter;if(pR(n,s,e,1))return!0;if(r.parent.content.size==0&&(vu(i,"start")||Pe.isSelectable(i))){let o=Qm(n.doc,r.before(),r.after(),ye.empty);if(o&&o.slice.size<o.to-o.from){if(e){let c=n.tr.step(o);c.setSelection(vu(i,"start")?tt.findFrom(c.doc.resolve(c.mapping.map(s.pos)),1):Pe.create(c.doc,c.mapping.map(s.pos))),e(c.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(e&&e(n.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},uR=(n,e,t)=>{let{$head:r,empty:s}=n.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;i=kw(r)}let o=i&&i.nodeAfter;return!o||!Pe.isSelectable(o)?!1:(e&&e(n.tr.setSelection(Pe.create(n.doc,i.pos)).scrollIntoView()),!0)};function kw(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const sH=(n,e)=>{let t=n.selection,r=t instanceof Pe,s;if(r){if(t.node.isTextblock||!ho(n.doc,t.from))return!1;s=t.from}else if(s=Ym(n.doc,t.from,-1),s==null)return!1;if(e){let i=n.tr.join(s);r&&i.setSelection(Pe.create(i.doc,s-n.doc.resolve(s).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},iH=(n,e)=>{let t=n.selection,r;if(t instanceof Pe){if(t.node.isTextblock||!ho(n.doc,t.to))return!1;r=t.to}else if(r=Ym(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},aH=(n,e)=>{let{$from:t,$to:r}=n.selection,s=t.blockRange(r),i=s&&Au(s);return i==null?!1:(e&&e(n.tr.lift(s,i).scrollIntoView()),!0)},dR=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function _w(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const oH=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let s=t.node(-1),i=t.indexAfter(-1),o=_w(s.contentMatchAt(i));if(!o||!s.canReplaceWith(i,i,o))return!1;if(e){let c=t.after(),u=n.tr.replaceWith(c,c,o.createAndFill());u.setSelection(tt.near(u.doc.resolve(c),1)),e(u.scrollIntoView())}return!0},fR=(n,e)=>{let t=n.selection,{$from:r,$to:s}=t;if(t instanceof Lr||r.parent.inlineContent||s.parent.inlineContent)return!1;let i=_w(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let o=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,c=n.tr.insert(o,i.createAndFill());c.setSelection(Ye.create(c.doc,o+1)),e(c.scrollIntoView())}return!0},hR=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let i=t.before();if(Bi(n.doc,i))return e&&e(n.tr.split(i).scrollIntoView()),!0}let r=t.blockRange(),s=r&&Au(r);return s==null?!1:(e&&e(n.tr.lift(r,s).scrollIntoView()),!0)};function lH(n){return(e,t)=>{let{$from:r,$to:s}=e.selection;if(e.selection instanceof Pe&&e.selection.node.isBlock)return!r.parentOffset||!Bi(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let i=[],o,c,u=!1,f=!1;for(let b=r.depth;;b--)if(r.node(b).isBlock){u=r.end(b)==r.pos+(r.depth-b),f=r.start(b)==r.pos-(r.depth-b),c=_w(r.node(b-1).contentMatchAt(r.indexAfter(b-1))),i.unshift(u&&c?{type:c}:null),o=b;break}else{if(b==1)return!1;i.unshift(null)}let p=e.tr;(e.selection instanceof Ye||e.selection instanceof Lr)&&p.deleteSelection();let m=p.mapping.map(r.pos),y=Bi(p.doc,m,i.length,i);if(y||(i[0]=c?{type:c}:null,y=Bi(p.doc,m,i.length,i)),p.split(m,i.length,i),!u&&f&&r.node(o).type!=c){let b=p.mapping.map(r.before(o)),w=p.doc.resolve(b);c&&r.node(o-1).canReplaceWith(w.index(),w.index()+1,c)&&p.setNodeMarkup(p.mapping.map(r.before(o)),c)}return t&&t(p.scrollIntoView()),!0}}const cH=lH(),uH=(n,e)=>{let{$from:t,to:r}=n.selection,s,i=t.sharedDepth(r);return i==0?!1:(s=t.before(i),e&&e(n.tr.setSelection(Pe.create(n.doc,s))),!0)};function dH(n,e,t){let r=e.nodeBefore,s=e.nodeAfter,i=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(i-1,i)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(s.isTextblock||ho(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function pR(n,e,t,r){let s=e.nodeBefore,i=e.nodeAfter,o,c,u=s.type.spec.isolating||i.type.spec.isolating;if(!u&&dH(n,e,t))return!0;let f=!u&&e.parent.canReplace(e.index(),e.index()+1);if(f&&(o=(c=s.contentMatchAt(s.childCount)).findWrapping(i.type))&&c.matchType(o[0]||i.type).validEnd){if(t){let b=e.pos+i.nodeSize,w=ne.empty;for(let E=o.length-1;E>=0;E--)w=ne.from(o[E].create(null,w));w=ne.from(s.copy(w));let S=n.tr.step(new Mn(e.pos-1,b,e.pos,b,new ye(w,1,0),o.length,!0)),k=S.doc.resolve(b+2*o.length);k.nodeAfter&&k.nodeAfter.type==s.type&&ho(S.doc,k.pos)&&S.join(k.pos),t(S.scrollIntoView())}return!0}let p=i.type.spec.isolating||r>0&&u?null:tt.findFrom(e,1),m=p&&p.$from.blockRange(p.$to),y=m&&Au(m);if(y!=null&&y>=e.depth)return t&&t(n.tr.lift(m,y).scrollIntoView()),!0;if(f&&vu(i,"start",!0)&&vu(s,"end")){let b=s,w=[];for(;w.push(b),!b.isTextblock;)b=b.lastChild;let S=i,k=1;for(;!S.isTextblock;S=S.firstChild)k++;if(b.canReplace(b.childCount,b.childCount,S.content)){if(t){let E=ne.empty;for(let N=w.length-1;N>=0;N--)E=ne.from(w[N].copy(E));let T=n.tr.step(new Mn(e.pos-w.length,e.pos+i.nodeSize,e.pos+k,e.pos+i.nodeSize-k,new ye(E,w.length,0),0,!0));t(T.scrollIntoView())}return!0}}return!1}function mR(n){return function(e,t){let r=e.selection,s=n<0?r.$from:r.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(t&&t(e.tr.setSelection(Ye.create(e.doc,n<0?s.start(i):s.end(i)))),!0):!1}}const fH=mR(-1),hH=mR(1);function pH(n,e=null){return function(t,r){let{$from:s,$to:i}=t.selection,o=s.blockRange(i),c=o&&uw(o,n,e);return c?(r&&r(t.tr.wrap(o,c).scrollIntoView()),!0):!1}}function HC(n,e=null){return function(t,r){let s=!1;for(let i=0;i<t.selection.ranges.length&&!s;i++){let{$from:{pos:o},$to:{pos:c}}=t.selection.ranges[i];t.doc.nodesBetween(o,c,(u,f)=>{if(s)return!1;if(!(!u.isTextblock||u.hasMarkup(n,e)))if(u.type==n)s=!0;else{let p=t.doc.resolve(f),m=p.index();s=p.parent.canReplaceWith(m,m+1,n)}})}if(!s)return!1;if(r){let i=t.tr;for(let o=0;o<t.selection.ranges.length;o++){let{$from:{pos:c},$to:{pos:u}}=t.selection.ranges[o];i.setBlockType(c,u,n,e)}r(i.scrollIntoView())}return!0}}function Ew(...n){return function(e,t,r){for(let s=0;s<n.length;s++)if(n[s](e,t,r))return!0;return!1}}Ew(ww,iR,oR);Ew(ww,cR,uR);Ew(dR,fR,hR,cH);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function mH(n,e=null){return function(t,r){let{$from:s,$to:i}=t.selection,o=s.blockRange(i);if(!o)return!1;let c=r?t.tr:null;return gH(c,o,n,e)?(r&&r(c.scrollIntoView()),!0):!1}}function gH(n,e,t,r=null){let s=!1,i=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let u=o.resolve(e.start-2);i=new ym(u,u,e.depth),e.endIndex<e.parent.childCount&&(e=new ym(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let c=uw(i,t,r,e);return c?(n&&yH(n,e,c,s,t),!0):!1}function yH(n,e,t,r,s){let i=ne.empty;for(let p=t.length-1;p>=0;p--)i=ne.from(t[p].type.create(t[p].attrs,i));n.step(new Mn(e.start-(r?2:0),e.end,e.start,e.end,new ye(i,0,0),t.length,!0));let o=0;for(let p=0;p<t.length;p++)t[p].type==s&&(o=p+1);let c=t.length-o,u=e.start+t.length-(r?2:0),f=e.parent;for(let p=e.startIndex,m=e.endIndex,y=!0;p<m;p++,y=!1)!y&&Bi(n.doc,u,c)&&(n.split(u,c),u+=2*c),u+=f.child(p).nodeSize;return n}function vH(n){return function(e,t){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,o=>o.childCount>0&&o.firstChild.type==n);return i?t?r.node(i.depth-1).type==n?bH(e,t,n,i):xH(e,t,i):!0:!1}}function bH(n,e,t,r){let s=n.tr,i=r.end,o=r.$to.end(r.depth);i<o&&(s.step(new Mn(i-1,o,i,o,new ye(ne.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new ym(s.doc.resolve(r.$from.pos),s.doc.resolve(o),r.depth));const c=Au(r);if(c==null)return!1;s.lift(r,c);let u=s.doc.resolve(s.mapping.map(i,-1)-1);return ho(s.doc,u.pos)&&u.nodeBefore.type==u.nodeAfter.type&&s.join(u.pos),e(s.scrollIntoView()),!0}function xH(n,e,t){let r=n.tr,s=t.parent;for(let b=t.end,w=t.endIndex-1,S=t.startIndex;w>S;w--)b-=s.child(w).nodeSize,r.delete(b-1,b+1);let i=r.doc.resolve(t.start),o=i.nodeAfter;if(r.mapping.map(t.end)!=t.start+i.nodeAfter.nodeSize)return!1;let c=t.startIndex==0,u=t.endIndex==s.childCount,f=i.node(-1),p=i.index(-1);if(!f.canReplace(p+(c?0:1),p+1,o.content.append(u?ne.empty:ne.from(s))))return!1;let m=i.pos,y=m+o.nodeSize;return r.step(new Mn(m-(c?1:0),y+(u?1:0),m+1,y-1,new ye((c?ne.empty:ne.from(s.copy(ne.empty))).append(u?ne.empty:ne.from(s.copy(ne.empty))),c?0:1,u?0:1),c?0:1)),e(r.scrollIntoView()),!0}function wH(n){return function(e,t){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,f=>f.childCount>0&&f.firstChild.type==n);if(!i)return!1;let o=i.startIndex;if(o==0)return!1;let c=i.parent,u=c.child(o-1);if(u.type!=n)return!1;if(t){let f=u.lastChild&&u.lastChild.type==c.type,p=ne.from(f?n.create():null),m=new ye(ne.from(n.create(null,ne.from(c.type.create(null,p)))),f?3:1,0),y=i.start,b=i.end;t(e.tr.step(new Mn(y-(f?3:1),b,y,b,m,1,!0)).scrollIntoView())}return!0}}function tg(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:s}=t,{storedMarks:i}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return r},get doc(){return s},get tr(){return r=t.selection,s=t.doc,i=t.storedMarks,t}}}class ng{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:s}=t,{tr:i}=r,o=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([c,u])=>[c,(...p)=>{const m=u(...p)(o);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(i),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:s,state:i}=this,{view:o}=s,c=[],u=!!e,f=e||i.tr,p=()=>(!u&&t&&!f.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(f),c.every(y=>y===!0)),m={...Object.fromEntries(Object.entries(r).map(([y,b])=>[y,(...S)=>{const k=this.buildProps(f,t),E=b(...S)(k);return c.push(E),m}])),run:p};return m}createCan(e){const{rawCommands:t,state:r}=this,s=!1,i=e||r.tr,o=this.buildProps(i,s);return{...Object.fromEntries(Object.entries(t).map(([u,f])=>[u,(...p)=>f(...p)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,s)}}buildProps(e,t=!0){const{rawCommands:r,editor:s,state:i}=this,{view:o}=s,c={tr:e,editor:s,view:o,state:tg({state:i,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([u,f])=>[u,(...p)=>f(...p)(c)]))}};return c}}class SH{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(s=>s.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(s=>s!==t):delete this.callbacks[e]),this}once(e,t){const r=(...s)=>{this.off(e,r),t.apply(this,s)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function Ee(n,e,t){return n.config[e]===void 0&&n.parent?Ee(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?Ee(n.parent,e,t):null}):n.config[e]}function rg(n){const e=n.filter(s=>s.type==="extension"),t=n.filter(s=>s.type==="node"),r=n.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function gR(n){const e=[],{nodeExtensions:t,markExtensions:r}=rg(n),s=[...t,...r],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(o=>{const c={name:o.name,options:o.options,storage:o.storage,extensions:s},u=Ee(o,"addGlobalAttributes",c);if(!u)return;u().forEach(p=>{p.types.forEach(m=>{Object.entries(p.attributes).forEach(([y,b])=>{e.push({type:m,name:y,attribute:{...i,...b}})})})})}),s.forEach(o=>{const c={name:o.name,options:o.options,storage:o.storage},u=Ee(o,"addAttributes",c);if(!u)return;const f=u();Object.entries(f).forEach(([p,m])=>{const y={...i,...m};typeof(y==null?void 0:y.default)=="function"&&(y.default=y.default()),y!=null&&y.isRequired&&(y==null?void 0:y.default)===void 0&&delete y.default,e.push({type:o.name,name:p,attribute:y})})}),e}function jn(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function fr(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([s,i])=>{if(!r[s]){r[s]=i;return}if(s==="class"){const c=i?String(i).split(" "):[],u=r[s]?r[s].split(" "):[],f=c.filter(p=>!u.includes(p));r[s]=[...u,...f].join(" ")}else if(s==="style"){const c=i?i.split(";").map(p=>p.trim()).filter(Boolean):[],u=r[s]?r[s].split(";").map(p=>p.trim()).filter(Boolean):[],f=new Map;u.forEach(p=>{const[m,y]=p.split(":").map(b=>b.trim());f.set(m,y)}),c.forEach(p=>{const[m,y]=p.split(":").map(b=>b.trim());f.set(m,y)}),r[s]=Array.from(f.entries()).map(([p,m])=>`${p}: ${m}`).join("; ")}else r[s]=i}),r},{})}function Bb(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>fr(t,r),{})}function yR(n){return typeof n=="function"}function at(n,e=void 0,...t){return yR(n)?e?n.bind(e)(...t):n(...t):n}function kH(n={}){return Object.keys(n).length===0&&n.constructor===Object}function _H(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function KC(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const s=e.reduce((i,o)=>{const c=o.attribute.parseHTML?o.attribute.parseHTML(t):_H(t.getAttribute(o.name));return c==null?i:{...i,[o.name]:c}},{});return{...r,...s}}}}function GC(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&kH(t)?!1:t!=null))}function EH(n,e){var t;const r=gR(n),{nodeExtensions:s,markExtensions:i}=rg(n),o=(t=s.find(f=>Ee(f,"topNode")))===null||t===void 0?void 0:t.name,c=Object.fromEntries(s.map(f=>{const p=r.filter(E=>E.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},y=n.reduce((E,T)=>{const N=Ee(T,"extendNodeSchema",m);return{...E,...N?N(f):{}}},{}),b=GC({...y,content:at(Ee(f,"content",m)),marks:at(Ee(f,"marks",m)),group:at(Ee(f,"group",m)),inline:at(Ee(f,"inline",m)),atom:at(Ee(f,"atom",m)),selectable:at(Ee(f,"selectable",m)),draggable:at(Ee(f,"draggable",m)),code:at(Ee(f,"code",m)),whitespace:at(Ee(f,"whitespace",m)),linebreakReplacement:at(Ee(f,"linebreakReplacement",m)),defining:at(Ee(f,"defining",m)),isolating:at(Ee(f,"isolating",m)),attrs:Object.fromEntries(p.map(E=>{var T;return[E.name,{default:(T=E==null?void 0:E.attribute)===null||T===void 0?void 0:T.default}]}))}),w=at(Ee(f,"parseHTML",m));w&&(b.parseDOM=w.map(E=>KC(E,p)));const S=Ee(f,"renderHTML",m);S&&(b.toDOM=E=>S({node:E,HTMLAttributes:Bb(E,p)}));const k=Ee(f,"renderText",m);return k&&(b.toText=k),[f.name,b]})),u=Object.fromEntries(i.map(f=>{const p=r.filter(k=>k.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},y=n.reduce((k,E)=>{const T=Ee(E,"extendMarkSchema",m);return{...k,...T?T(f):{}}},{}),b=GC({...y,inclusive:at(Ee(f,"inclusive",m)),excludes:at(Ee(f,"excludes",m)),group:at(Ee(f,"group",m)),spanning:at(Ee(f,"spanning",m)),code:at(Ee(f,"code",m)),attrs:Object.fromEntries(p.map(k=>{var E;return[k.name,{default:(E=k==null?void 0:k.attribute)===null||E===void 0?void 0:E.default}]}))}),w=at(Ee(f,"parseHTML",m));w&&(b.parseDOM=w.map(k=>KC(k,p)));const S=Ee(f,"renderHTML",m);return S&&(b.toDOM=k=>S({mark:k,HTMLAttributes:Bb(k,p)})),[f.name,b]}));return new aj({topNode:o,nodes:c,marks:u})}function iv(n,e){return e.nodes[n]||e.marks[n]||null}function ZC(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function Tw(n,e){const t=Rl.fromSchema(e).serializeFragment(n),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(t),s.innerHTML}const TH=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(s,i,o,c)=>{var u,f;const p=((f=(u=s.type.spec).toText)===null||f===void 0?void 0:f.call(u,{node:s,pos:i,parent:o,index:c}))||s.textContent||"%leaf%";t+=s.isAtom&&!s.isText?p:p.slice(0,Math.max(0,r-i))}),t};function Cw(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class sg{constructor(e){this.find=e.find,this.handler=e.handler}}const CH=(n,e)=>{if(Cw(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function Rp(n){var e;const{editor:t,from:r,to:s,text:i,rules:o,plugin:c}=n,{view:u}=t;if(u.composing)return!1;const f=u.state.doc.resolve(r);if(f.parent.type.spec.code||!((e=f.nodeBefore||f.nodeAfter)===null||e===void 0)&&e.marks.find(y=>y.type.spec.code))return!1;let p=!1;const m=TH(f)+i;return o.forEach(y=>{if(p)return;const b=CH(m,y.find);if(!b)return;const w=u.state.tr,S=tg({state:u.state,transaction:w}),k={from:r-(b[0].length-i.length),to:s},{commands:E,chain:T,can:N}=new ng({editor:t,state:S});y.handler({state:S,range:k,match:b,commands:E,chain:T,can:N})===null||!w.steps.length||(w.setMeta(c,{transform:w,from:r,to:s,text:i}),u.dispatch(w),p=!0)}),p}function AH(n){const{editor:e,rules:t}=n,r=new Cr({state:{init(){return null},apply(s,i,o){const c=s.getMeta(r);if(c)return c;const u=s.getMeta("applyInputRules");return!!u&&setTimeout(()=>{let{text:p}=u;typeof p=="string"?p=p:p=Tw(ne.from(p),o.schema);const{from:m}=u,y=m+p.length;Rp({editor:e,from:m,to:y,text:p,rules:t,plugin:r})}),s.selectionSet||s.docChanged?null:i}},props:{handleTextInput(s,i,o,c){return Rp({editor:e,from:i,to:o,text:c,rules:t,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:i}=s.state.selection;i&&Rp({editor:e,from:i.pos,to:i.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(s,i){if(i.key!=="Enter")return!1;const{$cursor:o}=s.state.selection;return o?Rp({editor:e,from:o.pos,to:o.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function MH(n){return Object.prototype.toString.call(n).slice(8,-1)}function Dp(n){return MH(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function ig(n,e){const t={...n};return Dp(n)&&Dp(e)&&Object.keys(e).forEach(r=>{Dp(e[r])&&Dp(n[r])?t[r]=ig(n[r],e[r]):t[r]=e[r]}),t}class ro{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=at(Ee(this,"addOptions",{name:this.name}))),this.storage=at(Ee(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ro(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>ig(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new ro(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=at(Ee(t,"addOptions",{name:t.name})),t.storage=at(Ee(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const o=s.marks();if(!!!o.find(f=>(f==null?void 0:f.type.name)===t.name))return!1;const u=o.find(f=>(f==null?void 0:f.type.name)===t.name);return u&&r.removeStoredMark(u),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}}function NH(n){return typeof n=="number"}class OH{constructor(e){this.find=e.find,this.handler=e.handler}}const jH=(n,e,t)=>{if(Cw(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(s=>{const i=[s.text];return i.index=s.index,i.input=n,i.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(s.replaceWith)),i}):[]};function RH(n){const{editor:e,state:t,from:r,to:s,rule:i,pasteEvent:o,dropEvent:c}=n,{commands:u,chain:f,can:p}=new ng({editor:e,state:t}),m=[];return t.doc.nodesBetween(r,s,(b,w)=>{if(!b.isTextblock||b.type.spec.code)return;const S=Math.max(r,w),k=Math.min(s,w+b.content.size),E=b.textBetween(S-w,k-w,void 0,"￼");jH(E,i.find,o).forEach(N=>{if(N.index===void 0)return;const U=S+N.index+1,A=U+N[0].length,L={from:t.tr.mapping.map(U),to:t.tr.mapping.map(A)},I=i.handler({state:t,range:L,match:N,commands:u,chain:f,can:p,pasteEvent:o,dropEvent:c});m.push(I)})}),m.every(b=>b!==null)}let Pp=null;const DH=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function PH(n){const{editor:e,rules:t}=n;let r=null,s=!1,i=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,c;try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}const u=({state:p,from:m,to:y,rule:b,pasteEvt:w})=>{const S=p.tr,k=tg({state:p,transaction:S});if(!(!RH({editor:e,state:k,from:Math.max(m-1,0),to:y.b-1,rule:b,pasteEvent:w,dropEvent:c})||!S.steps.length)){try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,S}};return t.map(p=>new Cr({view(m){const y=w=>{var S;r=!((S=m.dom.parentElement)===null||S===void 0)&&S.contains(w.target)?m.dom.parentElement:null,r&&(Pp=e)},b=()=>{Pp&&(Pp=null)};return window.addEventListener("dragstart",y),window.addEventListener("dragend",b),{destroy(){window.removeEventListener("dragstart",y),window.removeEventListener("dragend",b)}}},props:{handleDOMEvents:{drop:(m,y)=>{if(i=r===m.dom.parentElement,c=y,!i){const b=Pp;b&&setTimeout(()=>{const w=b.state.selection;w&&b.commands.deleteRange({from:w.from,to:w.to})},10)}return!1},paste:(m,y)=>{var b;const w=(b=y.clipboardData)===null||b===void 0?void 0:b.getData("text/html");return o=y,s=!!(w!=null&&w.includes("data-pm-slice")),!1}}},appendTransaction:(m,y,b)=>{const w=m[0],S=w.getMeta("uiEvent")==="paste"&&!s,k=w.getMeta("uiEvent")==="drop"&&!i,E=w.getMeta("applyPasteRules"),T=!!E;if(!S&&!k&&!T)return;if(T){let{text:A}=E;typeof A=="string"?A=A:A=Tw(ne.from(A),b.schema);const{from:L}=E,I=L+A.length,F=DH(A);return u({rule:p,state:b,from:L,to:{b:I},pasteEvt:F})}const N=y.doc.content.findDiffStart(b.doc.content),U=y.doc.content.findDiffEnd(b.doc.content);if(!(!NH(N)||!U||N===U.b))return u({rule:p,state:b,from:N,to:U,pasteEvt:o})}}))}function LH(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}class Vc{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=Vc.resolve(e),this.schema=EH(this.extensions,t),this.setupExtensions()}static resolve(e){const t=Vc.sort(Vc.flatten(e)),r=LH(t.map(s=>s.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},s=Ee(t,"addExtensions",r);return s?[t,...this.flatten(s())]:t}).flat(10)}static sort(e){return e.sort((r,s)=>{const i=Ee(r,"priority")||100,o=Ee(s,"priority")||100;return i>o?-1:i<o?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:iv(t.name,this.schema)},s=Ee(t,"addCommands",r);return s?{...e,...s()}:e},{})}get plugins(){const{editor:e}=this,t=Vc.sort([...this.extensions].reverse()),r=[],s=[],i=t.map(o=>{const c={name:o.name,options:o.options,storage:o.storage,editor:e,type:iv(o.name,this.schema)},u=[],f=Ee(o,"addKeyboardShortcuts",c);let p={};if(o.type==="mark"&&Ee(o,"exitable",c)&&(p.ArrowRight=()=>ro.handleExit({editor:e,mark:o})),f){const S=Object.fromEntries(Object.entries(f()).map(([k,E])=>[k,()=>E({editor:e})]));p={...p,...S}}const m=tH(p);u.push(m);const y=Ee(o,"addInputRules",c);ZC(o,e.options.enableInputRules)&&y&&r.push(...y());const b=Ee(o,"addPasteRules",c);ZC(o,e.options.enablePasteRules)&&b&&s.push(...b());const w=Ee(o,"addProseMirrorPlugins",c);if(w){const S=w();u.push(...S)}return u}).flat();return[AH({editor:e,rules:r}),...PH({editor:e,rules:s}),...i]}get attributes(){return gR(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=rg(this.extensions);return Object.fromEntries(t.filter(r=>!!Ee(r,"addNodeView")).map(r=>{const s=this.attributes.filter(u=>u.type===r.name),i={name:r.name,options:r.options,storage:r.storage,editor:e,type:jn(r.name,this.schema)},o=Ee(r,"addNodeView",i);if(!o)return[];const c=(u,f,p,m,y)=>{const b=Bb(u,s);return o()({node:u,view:f,getPos:p,decorations:m,innerDecorations:y,editor:e,extension:r,HTMLAttributes:b})};return[r.name,c]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:iv(e.name,this.schema)};e.type==="mark"&&(!((t=at(Ee(e,"keepOnSplit",r)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const s=Ee(e,"onBeforeCreate",r),i=Ee(e,"onCreate",r),o=Ee(e,"onUpdate",r),c=Ee(e,"onSelectionUpdate",r),u=Ee(e,"onTransaction",r),f=Ee(e,"onFocus",r),p=Ee(e,"onBlur",r),m=Ee(e,"onDestroy",r);s&&this.editor.on("beforeCreate",s),i&&this.editor.on("create",i),o&&this.editor.on("update",o),c&&this.editor.on("selectionUpdate",c),u&&this.editor.on("transaction",u),f&&this.editor.on("focus",f),p&&this.editor.on("blur",p),m&&this.editor.on("destroy",m)})}}class hr{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=at(Ee(this,"addOptions",{name:this.name}))),this.storage=at(Ee(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new hr(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>ig(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new hr({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=at(Ee(t,"addOptions",{name:t.name})),t.storage=at(Ee(t,"addStorage",{name:t.name,options:t.options})),t}}function vR(n,e,t){const{from:r,to:s}=e,{blockSeparator:i=`

`,textSerializers:o={}}=t||{};let c="";return n.nodesBetween(r,s,(u,f,p,m)=>{var y;u.isBlock&&f>r&&(c+=i);const b=o==null?void 0:o[u.type.name];if(b)return p&&(c+=b({node:u,pos:f,parent:p,index:m,range:e})),!1;u.isText&&(c+=(y=u==null?void 0:u.text)===null||y===void 0?void 0:y.slice(Math.max(r,f)-f,s-f))}),c}function bR(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const zH=hr.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Cr({key:new ai("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:s}=e,{ranges:i}=s,o=Math.min(...i.map(p=>p.$from.pos)),c=Math.max(...i.map(p=>p.$to.pos)),u=bR(t);return vR(r,{from:o,to:c},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:u})}}})]}}),VH=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),BH=(n=!1)=>({commands:e})=>e.setContent("",n),IH=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:s}=r;return t&&s.forEach(({$from:i,$to:o})=>{n.doc.nodesBetween(i.pos,o.pos,(c,u)=>{if(c.type.isText)return;const{doc:f,mapping:p}=e,m=f.resolve(p.map(u)),y=f.resolve(p.map(u+c.nodeSize)),b=m.blockRange(y);if(!b)return;const w=Au(b);if(c.type.isTextblock){const{defaultType:S}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(b.start,S)}(w||w===0)&&e.lift(b,w)})}),!0},UH=n=>e=>n(e),FH=()=>({state:n,dispatch:e})=>fR(n,e),$H=(n,e)=>({editor:t,tr:r})=>{const{state:s}=t,i=s.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const o=r.mapping.map(e);return r.insert(o,i.content),r.setSelection(new Ye(r.doc.resolve(o-1))),!0},qH=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const s=n.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===r.type){if(e){const c=s.before(i),u=s.after(i);n.delete(c,u).scrollIntoView()}return!0}return!1},HH=n=>({tr:e,state:t,dispatch:r})=>{const s=jn(n,t.schema),i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===s){if(r){const u=i.before(o),f=i.after(o);e.delete(u,f).scrollIntoView()}return!0}return!1},KH=n=>({tr:e,dispatch:t})=>{const{from:r,to:s}=n;return t&&e.delete(r,s),!0},GH=()=>({state:n,dispatch:e})=>ww(n,e),ZH=()=>({commands:n})=>n.keyboardShortcut("Enter"),YH=()=>({state:n,dispatch:e})=>oH(n,e);function Em(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>t.strict?e[s]===n[s]:Cw(e[s])?e[s].test(n[s]):e[s]===n[s]):!0}function xR(n,e,t={}){return n.find(r=>r.type===e&&Em(Object.fromEntries(Object.keys(t).map(s=>[s,r.attrs[s]])),t))}function YC(n,e,t={}){return!!xR(n,e,t)}function Aw(n,e,t){var r;if(!n||!e)return;let s=n.parent.childAfter(n.parentOffset);if((!s.node||!s.node.marks.some(p=>p.type===e))&&(s=n.parent.childBefore(n.parentOffset)),!s.node||!s.node.marks.some(p=>p.type===e)||(t=t||((r=s.node.marks[0])===null||r===void 0?void 0:r.attrs),!xR([...s.node.marks],e,t)))return;let o=s.index,c=n.start()+s.offset,u=o+1,f=c+s.node.nodeSize;for(;o>0&&YC([...n.parent.child(o-1).marks],e,t);)o-=1,c-=n.parent.child(o).nodeSize;for(;u<n.parent.childCount&&YC([...n.parent.child(u).marks],e,t);)f+=n.parent.child(u).nodeSize,u+=1;return{from:c,to:f}}function mo(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const QH=(n,e={})=>({tr:t,state:r,dispatch:s})=>{const i=mo(n,r.schema),{doc:o,selection:c}=t,{$from:u,from:f,to:p}=c;if(s){const m=Aw(u,i,e);if(m&&m.from<=f&&m.to>=p){const y=Ye.create(o,m.from,m.to);t.setSelection(y)}}return!0},JH=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function wR(n){return n instanceof Ye}function tl(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function SR(n,e=null){if(!e)return null;const t=tt.atStart(n),r=tt.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const s=t.from,i=r.to;return e==="all"?Ye.create(n,tl(0,s,i),tl(n.content.size,s,i)):Ye.create(n,tl(e,s,i),tl(e,s,i))}function XH(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Mw(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const WH=(n=null,e={})=>({editor:t,view:r,tr:s,dispatch:i})=>{e={scrollIntoView:!0,...e};const o=()=>{(Mw()||XH())&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(i&&n===null&&!wR(t.state.selection))return o(),!0;const c=SR(s.doc,n)||t.state.selection,u=t.state.selection.eq(c);return i&&(u||s.setSelection(c),u&&s.storedMarks&&s.setStoredMarks(s.storedMarks),o()),!0},e8=(n,e)=>t=>n.every((r,s)=>e(r,{...t,index:s})),t8=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),kR=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&kR(r)}return n};function Lp(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return kR(t)}function Tm(n,e,t){if(n instanceof Za||n instanceof ne)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,s=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return ne.fromArray(n.map(c=>e.nodeFromJSON(c)));const o=e.nodeFromJSON(n);return t.errorOnInvalidContent&&o.check(),o}catch(i){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",i),Tm("",e,t)}if(s){if(t.errorOnInvalidContent){let o=!1,c="";const u=new aj({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:f=>(o=!0,c=typeof f=="string"?f:f.outerHTML,null)}]}})});if(t.slice?Ya.fromSchema(u).parseSlice(Lp(n),t.parseOptions):Ya.fromSchema(u).parse(Lp(n),t.parseOptions),t.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${c}`)})}const i=Ya.fromSchema(e);return t.slice?i.parseSlice(Lp(n),t.parseOptions).content:i.parse(Lp(n),t.parseOptions)}return Tm("",e,t)}function n8(n,e,t){const r=n.steps.length-1;if(r<e)return;const s=n.steps[r];if(!(s instanceof Cn||s instanceof Mn))return;const i=n.mapping.maps[r];let o=0;i.forEach((c,u,f,p)=>{o===0&&(o=p)}),n.setSelection(tt.near(n.doc.resolve(o),t))}const r8=n=>!("type"in n),s8=(n,e,t)=>({tr:r,dispatch:s,editor:i})=>{var o;if(s){t={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let c;try{c=Tm(e,i.schema,{parseOptions:{preserveWhitespace:"full",...t.parseOptions},errorOnInvalidContent:(o=t.errorOnInvalidContent)!==null&&o!==void 0?o:i.options.enableContentCheck})}catch(w){return i.emit("contentError",{editor:i,error:w,disableCollaboration:()=>{i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}}),!1}let{from:u,to:f}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},p=!0,m=!0;if((r8(c)?c:[c]).forEach(w=>{w.check(),p=p?w.isText&&w.marks.length===0:!1,m=m?w.isBlock:!1}),u===f&&m){const{parent:w}=r.doc.resolve(u);w.isTextblock&&!w.type.spec.code&&!w.childCount&&(u-=1,f+=1)}let b;if(p){if(Array.isArray(e))b=e.map(w=>w.text||"").join("");else if(e instanceof ne){let w="";e.forEach(S=>{S.text&&(w+=S.text)}),b=w}else typeof e=="object"&&e&&e.text?b=e.text:b=e;r.insertText(b,u,f)}else b=c,r.replaceWith(u,f,b);t.updateSelection&&n8(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:b}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:b})}return!0},i8=()=>({state:n,dispatch:e})=>sH(n,e),a8=()=>({state:n,dispatch:e})=>iH(n,e),o8=()=>({state:n,dispatch:e})=>iR(n,e),l8=()=>({state:n,dispatch:e})=>cR(n,e),c8=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Ym(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},u8=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Ym(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},d8=()=>({state:n,dispatch:e})=>nH(n,e),f8=()=>({state:n,dispatch:e})=>rH(n,e);function _R(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function h8(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,s,i,o;for(let c=0;c<e.length-1;c+=1){const u=e[c];if(/^(cmd|meta|m)$/i.test(u))o=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))s=!0;else if(/^s(hift)?$/i.test(u))i=!0;else if(/^mod$/i.test(u))Mw()||_R()?o=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${u}`)}return r&&(t=`Alt-${t}`),s&&(t=`Ctrl-${t}`),o&&(t=`Meta-${t}`),i&&(t=`Shift-${t}`),t}const p8=n=>({editor:e,view:t,tr:r,dispatch:s})=>{const i=h8(n).split(/-(?!$)/),o=i.find(f=>!["Alt","Ctrl","Meta","Shift"].includes(f)),c=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),u=e.captureTransaction(()=>{t.someProp("handleKeyDown",f=>f(t,c))});return u==null||u.steps.forEach(f=>{const p=f.map(r.mapping);p&&s&&r.maybeStep(p)}),!0};function kf(n,e,t={}){const{from:r,to:s,empty:i}=n.selection,o=e?jn(e,n.schema):null,c=[];n.doc.nodesBetween(r,s,(m,y)=>{if(m.isText)return;const b=Math.max(r,y),w=Math.min(s,y+m.nodeSize);c.push({node:m,from:b,to:w})});const u=s-r,f=c.filter(m=>o?o.name===m.node.type.name:!0).filter(m=>Em(m.node.attrs,t,{strict:!1}));return i?!!f.length:f.reduce((m,y)=>m+y.to-y.from,0)>=u}const m8=(n,e={})=>({state:t,dispatch:r})=>{const s=jn(n,t.schema);return kf(t,s,e)?aH(t,r):!1},g8=()=>({state:n,dispatch:e})=>hR(n,e),y8=n=>({state:e,dispatch:t})=>{const r=jn(n,e.schema);return vH(r)(e,t)},v8=()=>({state:n,dispatch:e})=>dR(n,e);function ag(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function QC(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,s)=>(t.includes(s)||(r[s]=n[s]),r),{})}const b8=(n,e)=>({tr:t,state:r,dispatch:s})=>{let i=null,o=null;const c=ag(typeof n=="string"?n:n.name,r.schema);return c?(c==="node"&&(i=jn(n,r.schema)),c==="mark"&&(o=mo(n,r.schema)),s&&t.selection.ranges.forEach(u=>{r.doc.nodesBetween(u.$from.pos,u.$to.pos,(f,p)=>{i&&i===f.type&&t.setNodeMarkup(p,void 0,QC(f.attrs,e)),o&&f.marks.length&&f.marks.forEach(m=>{o===m.type&&t.addMark(p,p+f.nodeSize,o.create(QC(m.attrs,e)))})})}),!0):!1},x8=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),w8=()=>({tr:n,dispatch:e})=>{if(e){const t=new Lr(n.doc);n.setSelection(t)}return!0},S8=()=>({state:n,dispatch:e})=>oR(n,e),k8=()=>({state:n,dispatch:e})=>uR(n,e),_8=()=>({state:n,dispatch:e})=>uH(n,e),E8=()=>({state:n,dispatch:e})=>hH(n,e),T8=()=>({state:n,dispatch:e})=>fH(n,e);function Ib(n,e,t={},r={}){return Tm(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}const C8=(n,e=!1,t={},r={})=>({editor:s,tr:i,dispatch:o,commands:c})=>{var u,f;const{doc:p}=i;if(t.preserveWhitespace!=="full"){const m=Ib(n,s.schema,t,{errorOnInvalidContent:(u=r.errorOnInvalidContent)!==null&&u!==void 0?u:s.options.enableContentCheck});return o&&i.replaceWith(0,p.content.size,m).setMeta("preventUpdate",!e),!0}return o&&i.setMeta("preventUpdate",!e),c.insertContentAt({from:0,to:p.content.size},n,{parseOptions:t,errorOnInvalidContent:(f=r.errorOnInvalidContent)!==null&&f!==void 0?f:s.options.enableContentCheck})};function ER(n,e){const t=mo(e,n.schema),{from:r,to:s,empty:i}=n.selection,o=[];i?(n.storedMarks&&o.push(...n.storedMarks),o.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,s,u=>{o.push(...u.marks)});const c=o.find(u=>u.type.name===t.name);return c?{...c.attrs}:{}}function A8(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function M8(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function Nw(n){return e=>M8(e.$from,n)}function N8(n,e){const t={from:0,to:n.content.size};return vR(n,t,e)}function O8(n,e){const t=jn(e,n.schema),{from:r,to:s}=n.selection,i=[];n.doc.nodesBetween(r,s,c=>{i.push(c)});const o=i.reverse().find(c=>c.type.name===t.name);return o?{...o.attrs}:{}}function j8(n,e){const t=ag(typeof e=="string"?e:e.name,n.schema);return t==="node"?O8(n,e):t==="mark"?ER(n,e):{}}function TR(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(s=>{const i=t.resolve(n),o=Aw(i,s.type);o&&r.push({mark:s,...o})}):t.nodesBetween(n,e,(s,i)=>{!s||(s==null?void 0:s.nodeSize)===void 0||r.push(...s.marks.map(o=>({from:i,to:i+s.nodeSize,mark:o})))}),r}function Qp(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const s=n.find(i=>i.type===e&&i.name===r);return s?s.attribute.keepOnSplit:!1}))}function Ub(n,e,t={}){const{empty:r,ranges:s}=n.selection,i=e?mo(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(m=>i?i.name===m.type.name:!0).find(m=>Em(m.attrs,t,{strict:!1}));let o=0;const c=[];if(s.forEach(({$from:m,$to:y})=>{const b=m.pos,w=y.pos;n.doc.nodesBetween(b,w,(S,k)=>{if(!S.isText&&!S.marks.length)return;const E=Math.max(b,k),T=Math.min(w,k+S.nodeSize),N=T-E;o+=N,c.push(...S.marks.map(U=>({mark:U,from:E,to:T})))})}),o===0)return!1;const u=c.filter(m=>i?i.name===m.mark.type.name:!0).filter(m=>Em(m.mark.attrs,t,{strict:!1})).reduce((m,y)=>m+y.to-y.from,0),f=c.filter(m=>i?m.mark.type!==i&&m.mark.type.excludes(i):!0).reduce((m,y)=>m+y.to-y.from,0);return(u>0?u+f:u)>=o}function R8(n,e,t={}){if(!e)return kf(n,null,t)||Ub(n,null,t);const r=ag(e,n.schema);return r==="node"?kf(n,e,t):r==="mark"?Ub(n,e,t):!1}function JC(n,e){const{nodeExtensions:t}=rg(e),r=t.find(o=>o.name===n);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},i=at(Ee(r,"group",s));return typeof i!="string"?!1:i.split(" ").includes("list")}function Ow(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!==null&&r!==void 0?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let s=!0;return n.content.forEach(i=>{s!==!1&&(Ow(i,{ignoreWhitespace:t,checkChildren:e})||(s=!1))}),s}return!1}function D8(n){return n instanceof Pe}function P8(n,e,t){var r;const{selection:s}=e;let i=null;if(wR(s)&&(i=s.$cursor),i){const c=(r=n.storedMarks)!==null&&r!==void 0?r:i.marks();return!!t.isInSet(c)||!c.some(u=>u.type.excludes(t))}const{ranges:o}=s;return o.some(({$from:c,$to:u})=>{let f=c.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(c.pos,u.pos,(p,m,y)=>{if(f)return!1;if(p.isInline){const b=!y||y.type.allowsMarkType(t),w=!!t.isInSet(p.marks)||!p.marks.some(S=>S.type.excludes(t));f=b&&w}return!f}),f})}const L8=(n,e={})=>({tr:t,state:r,dispatch:s})=>{const{selection:i}=t,{empty:o,ranges:c}=i,u=mo(n,r.schema);if(s)if(o){const f=ER(r,u);t.addStoredMark(u.create({...f,...e}))}else c.forEach(f=>{const p=f.$from.pos,m=f.$to.pos;r.doc.nodesBetween(p,m,(y,b)=>{const w=Math.max(b,p),S=Math.min(b+y.nodeSize,m);y.marks.find(E=>E.type===u)?y.marks.forEach(E=>{u===E.type&&t.addMark(w,S,u.create({...E.attrs,...e}))}):t.addMark(w,S,u.create(e))})});return P8(r,t,u)},z8=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),V8=(n,e={})=>({state:t,dispatch:r,chain:s})=>{const i=jn(n,t.schema);let o;return t.selection.$anchor.sameParent(t.selection.$head)&&(o=t.selection.$anchor.parent.attrs),i.isTextblock?s().command(({commands:c})=>HC(i,{...o,...e})(t)?!0:c.clearNodes()).command(({state:c})=>HC(i,{...o,...e})(c,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},B8=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,s=tl(n,0,r.content.size),i=Pe.create(r,s);e.setSelection(i)}return!0},I8=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:s,to:i}=typeof n=="number"?{from:n,to:n}:n,o=Ye.atStart(r).from,c=Ye.atEnd(r).to,u=tl(s,o,c),f=tl(i,o,c),p=Ye.create(r,u,f);e.setSelection(p)}return!0},U8=n=>({state:e,dispatch:t})=>{const r=jn(n,e.schema);return wH(r)(e,t)};function XC(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(s=>e==null?void 0:e.includes(s.type.name));n.tr.ensureMarks(r)}}const F8=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:s})=>{const{selection:i,doc:o}=e,{$from:c,$to:u}=i,f=s.extensionManager.attributes,p=Qp(f,c.node().type.name,c.node().attrs);if(i instanceof Pe&&i.node.isBlock)return!c.parentOffset||!Bi(o,c.pos)?!1:(r&&(n&&XC(t,s.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;const m=u.parentOffset===u.parent.content.size,y=c.depth===0?void 0:A8(c.node(-1).contentMatchAt(c.indexAfter(-1)));let b=m&&y?[{type:y,attrs:p}]:void 0,w=Bi(e.doc,e.mapping.map(c.pos),1,b);if(!b&&!w&&Bi(e.doc,e.mapping.map(c.pos),1,y?[{type:y}]:void 0)&&(w=!0,b=y?[{type:y,attrs:p}]:void 0),r){if(w&&(i instanceof Ye&&e.deleteSelection(),e.split(e.mapping.map(c.pos),1,b),y&&!m&&!c.parentOffset&&c.parent.type!==y)){const S=e.mapping.map(c.before()),k=e.doc.resolve(S);c.node(-1).canReplaceWith(k.index(),k.index()+1,y)&&e.setNodeMarkup(e.mapping.map(c.before()),y)}n&&XC(t,s.extensionManager.splittableMarks),e.scrollIntoView()}return w},$8=(n,e={})=>({tr:t,state:r,dispatch:s,editor:i})=>{var o;const c=jn(n,r.schema),{$from:u,$to:f}=r.selection,p=r.selection.node;if(p&&p.isBlock||u.depth<2||!u.sameParent(f))return!1;const m=u.node(-1);if(m.type!==c)return!1;const y=i.extensionManager.attributes;if(u.parent.content.size===0&&u.node(-1).childCount===u.indexAfter(-1)){if(u.depth===2||u.node(-3).type!==c||u.index(-2)!==u.node(-2).childCount-1)return!1;if(s){let E=ne.empty;const T=u.index(-1)?1:u.index(-2)?2:3;for(let F=u.depth-T;F>=u.depth-3;F-=1)E=ne.from(u.node(F).copy(E));const N=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3,U={...Qp(y,u.node().type.name,u.node().attrs),...e},A=((o=c.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(U))||void 0;E=E.append(ne.from(c.createAndFill(null,A)||void 0));const L=u.before(u.depth-(T-1));t.replace(L,u.after(-N),new ye(E,4-T,0));let I=-1;t.doc.nodesBetween(L,t.doc.content.size,(F,z)=>{if(I>-1)return!1;F.isTextblock&&F.content.size===0&&(I=z+1)}),I>-1&&t.setSelection(Ye.near(t.doc.resolve(I))),t.scrollIntoView()}return!0}const b=f.pos===u.end()?m.contentMatchAt(0).defaultType:null,w={...Qp(y,m.type.name,m.attrs),...e},S={...Qp(y,u.node().type.name,u.node().attrs),...e};t.delete(u.pos,f.pos);const k=b?[{type:c,attrs:w},{type:b,attrs:S}]:[{type:c,attrs:w}];if(!Bi(t.doc,u.pos,2))return!1;if(s){const{selection:E,storedMarks:T}=r,{splittableMarks:N}=i.extensionManager,U=T||E.$to.parentOffset&&E.$from.marks();if(t.split(u.pos,2,k).scrollIntoView(),!U||!s)return!0;const A=U.filter(L=>N.includes(L.type.name));t.ensureMarks(A)}return!0},av=(n,e)=>{const t=Nw(o=>o.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const s=n.doc.nodeAt(r);return t.node.type===(s==null?void 0:s.type)&&ho(n.doc,t.pos)&&n.join(t.pos),!0},ov=(n,e)=>{const t=Nw(o=>o.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const s=n.doc.nodeAt(r);return t.node.type===(s==null?void 0:s.type)&&ho(n.doc,r)&&n.join(r),!0},q8=(n,e,t,r={})=>({editor:s,tr:i,state:o,dispatch:c,chain:u,commands:f,can:p})=>{const{extensions:m,splittableMarks:y}=s.extensionManager,b=jn(n,o.schema),w=jn(e,o.schema),{selection:S,storedMarks:k}=o,{$from:E,$to:T}=S,N=E.blockRange(T),U=k||S.$to.parentOffset&&S.$from.marks();if(!N)return!1;const A=Nw(L=>JC(L.type.name,m))(S);if(N.depth>=1&&A&&N.depth-A.depth<=1){if(A.node.type===b)return f.liftListItem(w);if(JC(A.node.type.name,m)&&b.validContent(A.node.content)&&c)return u().command(()=>(i.setNodeMarkup(A.pos,b),!0)).command(()=>av(i,b)).command(()=>ov(i,b)).run()}return!t||!U||!c?u().command(()=>p().wrapInList(b,r)?!0:f.clearNodes()).wrapInList(b,r).command(()=>av(i,b)).command(()=>ov(i,b)).run():u().command(()=>{const L=p().wrapInList(b,r),I=U.filter(F=>y.includes(F.type.name));return i.ensureMarks(I),L?!0:f.clearNodes()}).wrapInList(b,r).command(()=>av(i,b)).command(()=>ov(i,b)).run()},H8=(n,e={},t={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:i=!1}=t,o=mo(n,r.schema);return Ub(r,o,e)?s.unsetMark(o,{extendEmptyMarkRange:i}):s.setMark(o,e)},K8=(n,e,t={})=>({state:r,commands:s})=>{const i=jn(n,r.schema),o=jn(e,r.schema),c=kf(r,i,t);let u;return r.selection.$anchor.sameParent(r.selection.$head)&&(u=r.selection.$anchor.parent.attrs),c?s.setNode(o,u):s.setNode(i,{...u,...t})},G8=(n,e={})=>({state:t,commands:r})=>{const s=jn(n,t.schema);return kf(t,s,e)?r.lift(s):r.wrapIn(s,e)},Z8=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const s=t[r];let i;if(s.spec.isInputRules&&(i=s.getState(n))){if(e){const o=n.tr,c=i.transform;for(let u=c.steps.length-1;u>=0;u-=1)o.step(c.steps[u].invert(c.docs[u]));if(i.text){const u=o.doc.resolve(i.from).marks();o.replaceWith(i.from,i.to,n.schema.text(i.text,u))}else o.delete(i.from,i.to)}return!0}}return!1},Y8=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:s}=t;return r||e&&s.forEach(i=>{n.removeMark(i.$from.pos,i.$to.pos)}),!0},Q8=(n,e={})=>({tr:t,state:r,dispatch:s})=>{var i;const{extendEmptyMarkRange:o=!1}=e,{selection:c}=t,u=mo(n,r.schema),{$from:f,empty:p,ranges:m}=c;if(!s)return!0;if(p&&o){let{from:y,to:b}=c;const w=(i=f.marks().find(k=>k.type===u))===null||i===void 0?void 0:i.attrs,S=Aw(f,u,w);S&&(y=S.from,b=S.to),t.removeMark(y,b,u)}else m.forEach(y=>{t.removeMark(y.$from.pos,y.$to.pos,u)});return t.removeStoredMark(u),!0},J8=(n,e={})=>({tr:t,state:r,dispatch:s})=>{let i=null,o=null;const c=ag(typeof n=="string"?n:n.name,r.schema);return c?(c==="node"&&(i=jn(n,r.schema)),c==="mark"&&(o=mo(n,r.schema)),s&&t.selection.ranges.forEach(u=>{const f=u.$from.pos,p=u.$to.pos;let m,y,b,w;t.selection.empty?r.doc.nodesBetween(f,p,(S,k)=>{i&&i===S.type&&(b=Math.max(k,f),w=Math.min(k+S.nodeSize,p),m=k,y=S)}):r.doc.nodesBetween(f,p,(S,k)=>{k<f&&i&&i===S.type&&(b=Math.max(k,f),w=Math.min(k+S.nodeSize,p),m=k,y=S),k>=f&&k<=p&&(i&&i===S.type&&t.setNodeMarkup(k,void 0,{...S.attrs,...e}),o&&S.marks.length&&S.marks.forEach(E=>{if(o===E.type){const T=Math.max(k,f),N=Math.min(k+S.nodeSize,p);t.addMark(T,N,o.create({...E.attrs,...e}))}}))}),y&&(m!==void 0&&t.setNodeMarkup(m,void 0,{...y.attrs,...e}),o&&y.marks.length&&y.marks.forEach(S=>{o===S.type&&t.addMark(b,w,o.create({...S.attrs,...e}))}))}),!0):!1},X8=(n,e={})=>({state:t,dispatch:r})=>{const s=jn(n,t.schema);return pH(s,e)(t,r)},W8=(n,e={})=>({state:t,dispatch:r})=>{const s=jn(n,t.schema);return mH(s,e)(t,r)};var e7=Object.freeze({__proto__:null,blur:VH,clearContent:BH,clearNodes:IH,command:UH,createParagraphNear:FH,cut:$H,deleteCurrentNode:qH,deleteNode:HH,deleteRange:KH,deleteSelection:GH,enter:ZH,exitCode:YH,extendMarkRange:QH,first:JH,focus:WH,forEach:e8,insertContent:t8,insertContentAt:s8,joinBackward:o8,joinDown:a8,joinForward:l8,joinItemBackward:c8,joinItemForward:u8,joinTextblockBackward:d8,joinTextblockForward:f8,joinUp:i8,keyboardShortcut:p8,lift:m8,liftEmptyBlock:g8,liftListItem:y8,newlineInCode:v8,resetAttributes:b8,scrollIntoView:x8,selectAll:w8,selectNodeBackward:S8,selectNodeForward:k8,selectParentNode:_8,selectTextblockEnd:E8,selectTextblockStart:T8,setContent:C8,setMark:L8,setMeta:z8,setNode:V8,setNodeSelection:B8,setTextSelection:I8,sinkListItem:U8,splitBlock:F8,splitListItem:$8,toggleList:q8,toggleMark:H8,toggleNode:K8,toggleWrap:G8,undoInputRule:Z8,unsetAllMarks:Y8,unsetMark:Q8,updateAttributes:J8,wrapIn:X8,wrapInList:W8});const t7=hr.create({name:"commands",addCommands(){return{...e7}}}),n7=hr.create({name:"drop",addProseMirrorPlugins(){return[new Cr({key:new ai("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),r7=hr.create({name:"editable",addProseMirrorPlugins(){return[new Cr({key:new ai("editable"),props:{editable:()=>this.editor.options.editable}})]}}),s7=hr.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new Cr({key:new ai("focusEvents"),props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),i7=hr.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:c})=>{const{selection:u,doc:f}=c,{empty:p,$anchor:m}=u,{pos:y,parent:b}=m,w=m.parent.isTextblock&&y>0?c.doc.resolve(y-1):m,S=w.parent.type.spec.isolating,k=m.pos-m.parentOffset,E=S&&w.parent.childCount===1?k===m.pos:tt.atStart(f).from===y;return!p||!b.type.isTextblock||b.textContent.length||!E||E&&m.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},i={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Mw()||_R()?i:s},addProseMirrorPlugins(){return[new Cr({key:new ai("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(S=>S.getMeta("composition")))return;const r=n.some(S=>S.docChanged)&&!e.doc.eq(t.doc),s=n.some(S=>S.getMeta("preventClearDocument"));if(!r||s)return;const{empty:i,from:o,to:c}=e.selection,u=tt.atStart(e.doc).from,f=tt.atEnd(e.doc).to;if(i||!(o===u&&c===f)||!Ow(t.doc))return;const y=t.tr,b=tg({state:t,transaction:y}),{commands:w}=new ng({editor:this.editor,state:b});if(w.clearNodes(),!!y.steps.length)return y}})]}}),a7=hr.create({name:"paste",addProseMirrorPlugins(){return[new Cr({key:new ai("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),o7=hr.create({name:"tabindex",addProseMirrorPlugins(){return[new Cr({key:new ai("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Zo{get name(){return this.node.type.name}constructor(e,t,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=s}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new Zo(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Zo(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Zo(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const s=t.isBlock&&!t.isTextblock,i=t.isAtom&&!t.isText,o=this.pos+r+(i?0:1),c=this.resolvedPos.doc.resolve(o);if(!s&&c.depth<=this.depth)return;const u=new Zo(c,this.editor,s,s?t:null);s&&(u.actualDepth=this.depth+1),e.push(new Zo(c,this.editor,s,s?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===e)if(Object.keys(t).length>0){const i=s.node.attrs,o=Object.keys(t);for(let c=0;c<o.length;c+=1){const u=o[c];if(i[u]!==t[u])break}}else r=s;s=s.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const i=Object.keys(t);return this.children.forEach(o=>{r&&s.length>0||(o.node.type.name===e&&i.every(u=>t[u]===o.node.attrs[u])&&s.push(o),!(r&&s.length>0)&&(s=s.concat(o.querySelectorAll(e,t,r))))}),s}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const l7=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function c7(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(s),s}let u7=class extends SH{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:r,moved:s})=>this.options.onDrop(t,r,s)),this.on("paste",({event:t,slice:r})=>this.options.onPaste(t,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=c7(l7,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=yR(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],s=this.state.reconfigure({plugins:r});return this.view.updateState(s),s}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(i=>{const o=typeof i=="string"?`${i}$`:i.key;r=t.filter(c=>!c.key.startsWith(o))}),t.length===r.length)return;const s=this.state.reconfigure({plugins:r});return this.view.updateState(s),s}createExtensionManager(){var e,t;const s=[...this.options.enableCoreExtensions?[r7,zH.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),t7,s7,i7,o7,n7,a7].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new Vc(s,this)}createCommandManager(){this.commandManager=new ng({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=Ib(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(o){if(!(o instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(o.message))throw o;this.emit("contentError",{editor:this,error:o,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(c=>c.name!=="collaboration"),this.createExtensionManager()}}),t=Ib(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=SR(t,this.options.autofocus);this.view=new Kq(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:zc.create({doc:t,selection:r||void 0})});const s=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(s),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var c;return(c=this.capturedTransaction)===null||c===void 0?void 0:c.step(o)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const s=e.getMeta("focus"),i=e.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:e}),i&&this.emit("blur",{editor:this,event:i.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return j8(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,s=typeof e=="string"?t:e;return R8(this.state,r,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Tw(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return N8(this.state.doc,{blockSeparator:t,textSerializers:{...bR(this.schema),...r}})}get isEmpty(){return Ow(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Zo(t,this)}get $doc(){return this.$pos(0)}};function bu(n){return new sg({find:n.find,handler:({state:e,range:t,match:r})=>{const s=at(n.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:i}=e,o=r[r.length-1],c=r[0];if(o){const u=c.search(/\S/),f=t.from+c.indexOf(o),p=f+o.length;if(TR(t.from,t.to,e.doc).filter(b=>b.mark.type.excluded.find(S=>S===n.type&&S!==b.mark.type)).filter(b=>b.to>f).length)return null;p<t.to&&i.delete(p,t.to),f>t.from&&i.delete(t.from+u,f);const y=t.from+u+o.length;i.addMark(t.from+u,y,n.type.create(s||{})),i.removeStoredMark(n.type)}}})}function d7(n){return new sg({find:n.find,handler:({state:e,range:t,match:r})=>{const s=at(n.getAttributes,void 0,r)||{},{tr:i}=e,o=t.from;let c=t.to;const u=n.type.create(s);if(r[1]){const f=r[0].lastIndexOf(r[1]);let p=o+f;p>c?p=c:c=p+r[1].length;const m=r[0][r[0].length-1];i.insertText(m,o+r[0].length-1),i.replaceWith(p,c,u)}else if(r[0]){const f=n.type.isInline?o:o-1;i.insert(f,n.type.create(s)).delete(i.mapping.map(o),i.mapping.map(c))}i.scrollIntoView()}})}function Fb(n){return new sg({find:n.find,handler:({state:e,range:t,match:r})=>{const s=e.doc.resolve(t.from),i=at(n.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,i)}})}function _f(n){return new sg({find:n.find,handler:({state:e,range:t,match:r,chain:s})=>{const i=at(n.getAttributes,void 0,r)||{},o=e.tr.delete(t.from,t.to),u=o.doc.resolve(t.from).blockRange(),f=u&&uw(u,n.type,i);if(!f)return null;if(o.wrap(u,f),n.keepMarks&&n.editor){const{selection:m,storedMarks:y}=e,{splittableMarks:b}=n.editor.extensionManager,w=y||m.$to.parentOffset&&m.$from.marks();if(w){const S=w.filter(k=>b.includes(k.type.name));o.ensureMarks(S)}}if(n.keepAttributes){const m=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(m,i).run()}const p=o.doc.resolve(t.from-1).nodeBefore;p&&p.type===n.type&&ho(o.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,p))&&o.join(t.from-1)}})}class Tr{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=at(Ee(this,"addOptions",{name:this.name}))),this.storage=at(Ee(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Tr(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>ig(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Tr(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=at(Ee(t,"addOptions",{name:t.name})),t.storage=at(Ee(t,"addStorage",{name:t.name,options:t.options})),t}}function xu(n){return new OH({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:s})=>{const i=at(n.getAttributes,void 0,r,s);if(i===!1||i===null)return null;const{tr:o}=e,c=r[r.length-1],u=r[0];let f=t.to;if(c){const p=u.search(/\S/),m=t.from+u.indexOf(c),y=m+c.length;if(TR(t.from,t.to,e.doc).filter(w=>w.mark.type.excluded.find(k=>k===n.type&&k!==w.mark.type)).filter(w=>w.to>m).length)return null;y<t.to&&o.delete(y,t.to),m>t.from&&o.delete(t.from+p,m),f=t.from+p+c.length,o.addMark(t.from+p,f,n.type.create(i||{})),o.removeStoredMark(n.type)}}})}function f7(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var CR={exports:{}},lv={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WC;function h7(){if(WC)return lv;WC=1;var n=ze;function e(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,s=n.useEffect,i=n.useLayoutEffect,o=n.useDebugValue;function c(m,y){var b=y(),w=r({inst:{value:b,getSnapshot:y}}),S=w[0].inst,k=w[1];return i(function(){S.value=b,S.getSnapshot=y,u(S)&&k({inst:S})},[m,b,y]),s(function(){return u(S)&&k({inst:S}),m(function(){u(S)&&k({inst:S})})},[m]),o(b),b}function u(m){var y=m.getSnapshot;m=m.value;try{var b=y();return!t(m,b)}catch{return!0}}function f(m,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return lv.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:p,lv}CR.exports=h7();var jw=CR.exports;const p7=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},m7=({contentComponent:n})=>{const e=jw.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return ze.createElement(ze.Fragment,null,Object.values(e))};function g7(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:_4.createPortal(r.reactElement,r.element,t)},n.forEach(s=>s())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(s=>s())}}}class y7 extends ze.Component{constructor(e){var t;super(e),this.editorContentRef=ze.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=g7(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...r}=this.props;return ze.createElement(ze.Fragment,null,ze.createElement("div",{ref:p7(t,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&ze.createElement(m7,{contentComponent:e.contentComponent}))}}const v7=M.forwardRef((n,e)=>{const t=ze.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return ze.createElement(y7,{key:t,innerRef:e,...n})}),AR=ze.memo(v7);var b7=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(s=r;s--!==0;)if(!n(e[s],t[s]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s of e.entries())if(!t.has(s[0]))return!1;for(s of e.entries())if(!n(s[1],t.get(s[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s of e.entries())if(!t.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(s=r;s--!==0;)if(e[s]!==t[s])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[s]))return!1;for(s=r;s--!==0;){var o=i[s];if(!(o==="_owner"&&e.$$typeof)&&!n(e[o],t[o]))return!1}return!0}return e!==e&&t!==t},x7=f7(b7),MR={exports:{}},cv={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eA;function w7(){if(eA)return cv;eA=1;var n=ze,e=jw;function t(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,i=n.useRef,o=n.useEffect,c=n.useMemo,u=n.useDebugValue;return cv.useSyncExternalStoreWithSelector=function(f,p,m,y,b){var w=i(null);if(w.current===null){var S={hasValue:!1,value:null};w.current=S}else S=w.current;w=c(function(){function E(L){if(!T){if(T=!0,N=L,L=y(L),b!==void 0&&S.hasValue){var I=S.value;if(b(I,L))return U=I}return U=L}if(I=U,r(N,L))return I;var F=y(L);return b!==void 0&&b(I,F)?I:(N=L,U=F)}var T=!1,N,U,A=m===void 0?null:m;return[function(){return E(p())},A===null?void 0:function(){return E(A())}]},[p,m,y,b]);var k=s(f,w[0],w[1]);return o(function(){S.hasValue=!0,S.value=k},[k]),u(k),k},cv}MR.exports=w7();var S7=MR.exports;const k7=typeof window<"u"?M.useLayoutEffect:M.useEffect;class _7{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(s=>s())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}}function E7(n){var e;const[t]=M.useState(()=>new _7(n.editor)),r=S7.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!==null&&e!==void 0?e:x7);return k7(()=>t.watch(n.editor),[n.editor,t]),M.useDebugValue(r),r}const T7=!1,$b=typeof window>"u",C7=$b||!!(typeof window<"u"&&window.next);class Rw{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?$b||C7?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onBeforeCreate)===null||i===void 0?void 0:i.call(s,...r)},onBlur:(...r)=>{var s,i;return(i=(s=this.options.current).onBlur)===null||i===void 0?void 0:i.call(s,...r)},onCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onCreate)===null||i===void 0?void 0:i.call(s,...r)},onDestroy:(...r)=>{var s,i;return(i=(s=this.options.current).onDestroy)===null||i===void 0?void 0:i.call(s,...r)},onFocus:(...r)=>{var s,i;return(i=(s=this.options.current).onFocus)===null||i===void 0?void 0:i.call(s,...r)},onSelectionUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onSelectionUpdate)===null||i===void 0?void 0:i.call(s,...r)},onTransaction:(...r)=>{var s,i;return(i=(s=this.options.current).onTransaction)===null||i===void 0?void 0:i.call(s,...r)},onUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onUpdate)===null||i===void 0?void 0:i.call(s,...r)},onContentError:(...r)=>{var s,i;return(i=(s=this.options.current).onContentError)===null||i===void 0?void 0:i.call(s,...r)},onDrop:(...r)=>{var s,i;return(i=(s=this.options.current).onDrop)===null||i===void 0?void 0:i.call(s,...r)},onPaste:(...r)=>{var s,i;return(i=(s=this.options.current).onPaste)===null||i===void 0?void 0:i.call(s,...r)}};return new u7(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((s,i)=>{var o;return s===((o=t.extensions)===null||o===void 0?void 0:o[i])}):e[r]===t[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?Rw.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,s)=>r===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function NR(n={},e=[]){const t=M.useRef(n);t.current=n;const[r]=M.useState(()=>new Rw(t)),s=jw.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return M.useDebugValue(s),M.useEffect(r.onRender(e)),E7({editor:s,selector:({transactionNumber:i})=>n.shouldRerenderOnTransaction===!1?null:n.immediatelyRender&&i===0?0:i+1}),s}const A7=M.createContext({editor:null});A7.Consumer;const M7=M.createContext({onDragStart:void 0}),N7=()=>M.useContext(M7);ze.forwardRef((n,e)=>{const{onDragStart:t}=N7(),r=n.as||"div";return ze.createElement(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});const O7=/^\s*>\s$/,j7=Tr.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",fr(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[_f({find:O7,type:this.type})]}}),R7=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,D7=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,P7=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,L7=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,z7=ro.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",fr(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[bu({find:R7,type:this.type}),bu({find:P7,type:this.type})]},addPasteRules(){return[xu({find:D7,type:this.type}),xu({find:L7,type:this.type})]}}),V7="listItem",tA="textStyle",nA=/^\s*([-+*])\s$/,B7=Tr.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",fr(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(V7,this.editor.getAttributes(tA)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=_f({find:nA,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=_f({find:nA,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(tA),editor:this.editor})),[n]}}),I7=/(^|[^`])`([^`]+)`(?!`)/,U7=/(^|[^`])`([^`]+)`(?!`)/g,F7=ro.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",fr(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[bu({find:I7,type:this.type})]},addPasteRules(){return[xu({find:U7,type:this.type})]}}),$7=/^```([a-z]+)?[\s\n]$/,q7=/^~~~([a-z]+)?[\s\n]$/,H7=Tr.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,i=[...((e=n.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(t)).map(o=>o.replace(t,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",fr(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:s}=t;if(!s||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!i||!o?!1:n.chain().command(({tr:c})=>(c.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:s,empty:i}=t;if(!i||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const c=s.after();return c===void 0?!1:r.nodeAt(c)?n.commands.command(({tr:f})=>(f.setSelection(tt.near(r.resolve(c))),!0)):n.commands.exitCode()}}},addInputRules(){return[Fb({find:$7,type:this.type,getAttributes:n=>({language:n[1]})}),Fb({find:q7,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new Cr({key:new ai("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,i=s==null?void 0:s.mode;if(!t||!i)return!1;const{tr:o,schema:c}=n.state,u=c.text(t.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:i},u)),o.selection.$from.parent.type!==this.type&&o.setSelection(Ye.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),n.dispatch(o),!0}}})]}}),K7=Tr.create({name:"doc",topNode:!0,content:"block+"});function G7(n={}){return new Cr({view(e){return new Z7(e,n)}})}class Z7{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let i=o=>{this[s](o)};return e.dom.addEventListener(s,i),{name:s,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r;if(t){let c=e.nodeBefore,u=e.nodeAfter;if(c||u){let f=this.editorView.nodeDOM(this.cursorPos-(c?c.nodeSize:0));if(f){let p=f.getBoundingClientRect(),m=c?p.bottom:p.top;c&&u&&(m=(m+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:p.left,right:p.right,top:m-this.width/2,bottom:m+this.width/2}}}}if(!r){let c=this.editorView.coordsAtPos(this.cursorPos);r={left:c.left-this.width/2,right:c.left+this.width/2,top:c.top,bottom:c.bottom}}let s=this.editorView.dom.offsetParent;this.element||(this.element=s.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let i,o;if(!s||s==document.body&&getComputedStyle(s).position=="static")i=-pageXOffset,o=-pageYOffset;else{let c=s.getBoundingClientRect();i=c.left-s.scrollLeft,o=c.top-s.scrollTop}this.element.style.left=r.left-i+"px",this.element.style.top=r.top-o+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),s=r&&r.type.spec.disableDropCursor,i=typeof s=="function"?s(this.editorView,t,e):s;if(t&&!i){let o=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let c=yj(this.editorView.state.doc,o,this.editorView.dragging.slice);c!=null&&(o=c)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const Y7=hr.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[G7(this.options)]}});class tn extends tt{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return tn.valid(r)?new tn(r):tt.near(r)}content(){return ye.empty}eq(e){return e instanceof tn&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new tn(e.resolve(t.pos))}getBookmark(){return new Dw(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!Q7(e)||!J7(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let s=t.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&tn.valid(e))return e;let s=e.pos,i=null;for(let o=e.depth;;o--){let c=e.node(o);if(t>0?e.indexAfter(o)<c.childCount:e.index(o)>0){i=c.child(t>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;s+=t;let u=e.doc.resolve(s);if(tn.valid(u))return u}for(;;){let o=t>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!Pe.isSelectable(i)){e=e.doc.resolve(s+i.nodeSize*t),r=!1;continue e}break}i=o,s+=t;let c=e.doc.resolve(s);if(tn.valid(c))return c}return null}}}tn.prototype.visible=!1;tn.findFrom=tn.findGapCursorFrom;tt.jsonID("gapcursor",tn);class Dw{constructor(e){this.pos=e}map(e){return new Dw(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return tn.valid(t)?new tn(t):tt.near(t)}}function Q7(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(t-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function J7(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(t);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function X7(){return new Cr({props:{decorations:nK,createSelectionBetween(n,e,t){return e.pos==t.pos&&tn.valid(t)?new tn(t):null},handleClick:eK,handleKeyDown:W7,handleDOMEvents:{beforeinput:tK}}})}const W7=rR({ArrowLeft:zp("horiz",-1),ArrowRight:zp("horiz",1),ArrowUp:zp("vert",-1),ArrowDown:zp("vert",1)});function zp(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,i){let o=r.selection,c=e>0?o.$to:o.$from,u=o.empty;if(o instanceof Ye){if(!i.endOfTextblock(t)||c.depth==0)return!1;u=!1,c=r.doc.resolve(e>0?c.after():c.before())}let f=tn.findGapCursorFrom(c,e,u);return f?(s&&s(r.tr.setSelection(new tn(f))),!0):!1}}function eK(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!tn.valid(r))return!1;let s=n.posAtCoords({left:t.clientX,top:t.clientY});return s&&s.inside>-1&&Pe.isSelectable(n.state.doc.nodeAt(s.inside))?!1:(n.dispatch(n.state.tr.setSelection(new tn(r))),!0)}function tK(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof tn))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let s=ne.empty;for(let o=r.length-1;o>=0;o--)s=ne.from(r[o].createAndFill(null,s));let i=n.state.tr.replace(t.pos,t.pos,new ye(s,0,0));return i.setSelection(Ye.near(i.doc.resolve(t.pos+1))),n.dispatch(i),!1}function nK(n){if(!(n.selection instanceof tn))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",vn.create(n.doc,[hs.widget(n.selection.head,e,{key:"gapcursor"})])}const rK=hr.create({name:"gapCursor",addProseMirrorPlugins(){return[X7()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=at(Ee(n,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),sK=Tr.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",fr(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:s,storedMarks:i}=t;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:c}=r.extensionManager,u=i||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:f,dispatch:p})=>{if(p&&u&&o){const m=u.filter(y=>c.includes(y.type.name));f.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),iK=Tr.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,fr(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>Fb({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var Cm=200,Nn=function(){};Nn.prototype.append=function(e){return e.length?(e=Nn.from(e),!this.length&&e||e.length<Cm&&this.leafAppend(e)||this.length<Cm&&e.leafPrepend(this)||this.appendInner(e)):this};Nn.prototype.prepend=function(e){return e.length?Nn.from(e).append(this):this};Nn.prototype.appendInner=function(e){return new aK(this,e)};Nn.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?Nn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};Nn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Nn.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};Nn.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(i,o){return s.push(e(i,o))},t,r),s};Nn.from=function(e){return e instanceof Nn?e:e&&e.length?new OR(e):Nn.empty};var OR=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,i){return s==0&&i==this.length?this:new e(this.values.slice(s,i))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,i,o,c){for(var u=i;u<o;u++)if(s(this.values[u],c+u)===!1)return!1},e.prototype.forEachInvertedInner=function(s,i,o,c){for(var u=i-1;u>=o;u--)if(s(this.values[u],c+u)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=Cm)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=Cm)return new e(s.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(Nn);Nn.empty=new OR([]);var aK=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,i,o){var c=this.left.length;if(s<c&&this.left.forEachInner(r,s,Math.min(i,c),o)===!1||i>c&&this.right.forEachInner(r,Math.max(s-c,0),Math.min(this.length,i)-c,o+c)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,i,o){var c=this.left.length;if(s>c&&this.right.forEachInvertedInner(r,s-c,Math.max(i,c)-c,o+c)===!1||i<c&&this.left.forEachInvertedInner(r,Math.min(s,c),i,o)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var i=this.left.length;return s<=i?this.left.slice(r,s):r>=i?this.right.slice(r-i,s-i):this.left.slice(r,i).append(this.right.slice(0,s-i))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Nn);const oK=500;class As{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,i;t&&(s=this.remapping(r,this.items.length),i=s.maps.length);let o=e.tr,c,u,f=[],p=[];return this.items.forEach((m,y)=>{if(!m.step){s||(s=this.remapping(r,y+1),i=s.maps.length),i--,p.push(m);return}if(s){p.push(new Fs(m.map));let b=m.step.map(s.slice(i)),w;b&&o.maybeStep(b).doc&&(w=o.mapping.maps[o.mapping.maps.length-1],f.push(new Fs(w,void 0,void 0,f.length+p.length))),i--,w&&s.appendMap(w,i)}else o.maybeStep(m.step);if(m.selection)return c=s?m.selection.map(s.slice(i)):m.selection,u=new As(this.items.slice(0,r).append(p.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:u,transform:o,selection:c}}addTransform(e,t,r,s){let i=[],o=this.eventCount,c=this.items,u=!s&&c.length?c.get(c.length-1):null;for(let p=0;p<e.steps.length;p++){let m=e.steps[p].invert(e.docs[p]),y=new Fs(e.mapping.maps[p],m,t),b;(b=u&&u.merge(y))&&(y=b,p?i.pop():c=c.slice(0,c.length-1)),i.push(y),t&&(o++,t=void 0),s||(u=y)}let f=o-r.depth;return f>cK&&(c=lK(c,f),o-=f),new As(c.append(i),o)}remapping(e,t){let r=new vf;return this.items.forEach((s,i)=>{let o=s.mirrorOffset!=null&&i-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,o)},e,t),r}addMaps(e){return this.eventCount==0?this:new As(this.items.append(e.map(t=>new Fs(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-t),i=e.mapping,o=e.steps.length,c=this.eventCount;this.items.forEach(y=>{y.selection&&c--},s);let u=t;this.items.forEach(y=>{let b=i.getMirror(--u);if(b==null)return;o=Math.min(o,b);let w=i.maps[b];if(y.step){let S=e.steps[b].invert(e.docs[b]),k=y.selection&&y.selection.map(i.slice(u+1,b));k&&c++,r.push(new Fs(w,S,k))}else r.push(new Fs(w))},s);let f=[];for(let y=t;y<o;y++)f.push(new Fs(i.maps[y]));let p=this.items.slice(0,s).append(f).append(r),m=new As(p,c);return m.emptyItemCount()>oK&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,s=[],i=0;return this.items.forEach((o,c)=>{if(c>=e)s.push(o),o.selection&&i++;else if(o.step){let u=o.step.map(t.slice(r)),f=u&&u.getMap();if(r--,f&&t.appendMap(f,r),u){let p=o.selection&&o.selection.map(t.slice(r));p&&i++;let m=new Fs(f.invert(),u,p),y,b=s.length-1;(y=s.length&&s[b].merge(m))?s[b]=y:s.push(m)}}else o.map&&r--},this.items.length,0),new As(Nn.from(s.reverse()),i)}}As.empty=new As(Nn.empty,0);function lK(n,e){let t;return n.forEach((r,s)=>{if(r.selection&&e--==0)return t=s,!1}),n.slice(t)}class Fs{constructor(e,t,r,s){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Fs(t.getMap().invert(),t,this.selection)}}}class Ma{constructor(e,t,r,s,i){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=s,this.prevComposition=i}}const cK=20;function uK(n,e,t,r){let s=t.getMeta(gl),i;if(s)return s.historyState;t.getMeta(hK)&&(n=new Ma(n.done,n.undone,null,0,-1));let o=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(o&&o.getMeta(gl))return o.getMeta(gl).redo?new Ma(n.done.addTransform(t,void 0,r,Jp(e)),n.undone,rA(t.mapping.maps),n.prevTime,n.prevComposition):new Ma(n.done,n.undone.addTransform(t,void 0,r,Jp(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let c=t.getMeta("composition"),u=n.prevTime==0||!o&&n.prevComposition!=c&&(n.prevTime<(t.time||0)-r.newGroupDelay||!dK(t,n.prevRanges)),f=o?uv(n.prevRanges,t.mapping):rA(t.mapping.maps);return new Ma(n.done.addTransform(t,u?e.selection.getBookmark():void 0,r,Jp(e)),As.empty,f,t.time,c??n.prevComposition)}else return(i=t.getMeta("rebased"))?new Ma(n.done.rebased(t,i),n.undone.rebased(t,i),uv(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new Ma(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),uv(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function dK(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,s)=>{for(let i=0;i<e.length;i+=2)r<=e[i+1]&&s>=e[i]&&(t=!0)}),t}function rA(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,s,i,o)=>e.push(i,o));return e}function uv(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let s=e.map(n[r],1),i=e.map(n[r+1],-1);s<=i&&t.push(s,i)}return t}function fK(n,e,t){let r=Jp(e),s=gl.get(e).spec.config,i=(t?n.undone:n.done).popEvent(e,r);if(!i)return null;let o=i.selection.resolve(i.transform.doc),c=(t?n.done:n.undone).addTransform(i.transform,e.selection.getBookmark(),s,r),u=new Ma(t?c:i.remaining,t?i.remaining:c,null,0,-1);return i.transform.setSelection(o).setMeta(gl,{redo:t,historyState:u})}let dv=!1,sA=null;function Jp(n){let e=n.plugins;if(sA!=e){dv=!1,sA=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){dv=!0;break}}return dv}const gl=new ai("history"),hK=new ai("closeHistory");function pK(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new Cr({key:gl,state:{init(){return new Ma(As.empty,As.empty,null,0,-1)},apply(e,t,r){return uK(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,s=r=="historyUndo"?RR:r=="historyRedo"?DR:null;return s?(t.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function jR(n,e){return(t,r)=>{let s=gl.getState(t);if(!s||(n?s.undone:s.done).eventCount==0)return!1;if(r){let i=fK(s,t,n);i&&r(e?i.scrollIntoView():i)}return!0}}const RR=jR(!1,!0),DR=jR(!0,!0),mK=hr.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>RR(n,e),redo:()=>({state:n,dispatch:e})=>DR(n,e)}},addProseMirrorPlugins(){return[pK(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),gK=Tr.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",fr(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{const{selection:t}=e,{$from:r,$to:s}=t,i=n();return r.parentOffset===0?i.insertContentAt({from:Math.max(r.pos-1,0),to:s.pos},{type:this.name}):D8(t)?i.insertContentAt(s.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({tr:o,dispatch:c})=>{var u;if(c){const{$to:f}=o.selection,p=f.end();if(f.nodeAfter)f.nodeAfter.isTextblock?o.setSelection(Ye.create(o.doc,f.pos+1)):f.nodeAfter.isBlock?o.setSelection(Pe.create(o.doc,f.pos)):o.setSelection(Ye.create(o.doc,f.pos));else{const m=(u=f.parent.type.contentMatch.defaultType)===null||u===void 0?void 0:u.create();m&&(o.insert(p,m),o.setSelection(Ye.create(o.doc,p+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[d7({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),yK=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,vK=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,bK=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,xK=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,wK=ro.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",fr(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[bu({find:yK,type:this.type}),bu({find:bK,type:this.type})]},addPasteRules(){return[xu({find:vK,type:this.type}),xu({find:xK,type:this.type})]}}),SK=Tr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",fr(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),kK="listItem",iA="textStyle",aA=/^(\d+)\.\s$/,_K=Tr.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",fr(this.options.HTMLAttributes,t),0]:["ol",fr(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(kK,this.editor.getAttributes(iA)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=_f({find:aA,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=_f({find:aA,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(iA)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),EK=Tr.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",fr(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),TK=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,CK=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,AK=ro.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",fr(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[bu({find:TK,type:this.type})]},addPasteRules(){return[xu({find:CK,type:this.type})]}}),MK=Tr.create({name:"text",group:"inline"}),PR=hr.create({name:"starterKit",addExtensions(){var n,e,t,r,s,i,o,c,u,f,p,m,y,b,w,S,k,E;const T=[];return this.options.bold!==!1&&T.push(z7.configure((n=this.options)===null||n===void 0?void 0:n.bold)),this.options.blockquote!==!1&&T.push(j7.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&T.push(B7.configure((t=this.options)===null||t===void 0?void 0:t.bulletList)),this.options.code!==!1&&T.push(F7.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&T.push(H7.configure((s=this.options)===null||s===void 0?void 0:s.codeBlock)),this.options.document!==!1&&T.push(K7.configure((i=this.options)===null||i===void 0?void 0:i.document)),this.options.dropcursor!==!1&&T.push(Y7.configure((o=this.options)===null||o===void 0?void 0:o.dropcursor)),this.options.gapcursor!==!1&&T.push(rK.configure((c=this.options)===null||c===void 0?void 0:c.gapcursor)),this.options.hardBreak!==!1&&T.push(sK.configure((u=this.options)===null||u===void 0?void 0:u.hardBreak)),this.options.heading!==!1&&T.push(iK.configure((f=this.options)===null||f===void 0?void 0:f.heading)),this.options.history!==!1&&T.push(mK.configure((p=this.options)===null||p===void 0?void 0:p.history)),this.options.horizontalRule!==!1&&T.push(gK.configure((m=this.options)===null||m===void 0?void 0:m.horizontalRule)),this.options.italic!==!1&&T.push(wK.configure((y=this.options)===null||y===void 0?void 0:y.italic)),this.options.listItem!==!1&&T.push(SK.configure((b=this.options)===null||b===void 0?void 0:b.listItem)),this.options.orderedList!==!1&&T.push(_K.configure((w=this.options)===null||w===void 0?void 0:w.orderedList)),this.options.paragraph!==!1&&T.push(EK.configure((S=this.options)===null||S===void 0?void 0:S.paragraph)),this.options.strike!==!1&&T.push(AK.configure((k=this.options)===null||k===void 0?void 0:k.strike)),this.options.text!==!1&&T.push(MK.configure((E=this.options)===null||E===void 0?void 0:E.text)),T}}),NK=({content:n})=>{const e=NR({extensions:[PR],content:n,editable:!1,editorProps:{attributes:{class:"prose prose-sm sm:prose-base max-w-none"}}});return v.jsxs("div",{className:"mt-12",children:[v.jsx("h2",{className:"text-2xl font-bold text-center mb-8 underline text-slate-950",children:"Description"}),v.jsx(AR,{editor:e})]})},OK=({images:n})=>{const[e,t]=M.useState(n[0]),r=s=>{t(s)};return v.jsxs("div",{className:"flex-1 flex flex-col gap-3 relative",children:[v.jsx("div",{className:"bg-[#f2f2f2] h-[500px] p-4",children:v.jsx("img",{src:e,alt:"Image Product",className:"h-full w-full object-contain"})}),v.jsx("div",{className:"flex mt-4 gap-2",children:n.map((s,i)=>v.jsx("button",{onClick:()=>r(s),className:`w-16 h-16 p-1 border ${e===s?"border-black":"border-transparent"} rounded-lg 
                    hover:border-black focus:outline-none`,children:v.jsx("img",{src:s,alt:`Thumbail ${i+1} className='h-full w-full object-cover rounded-lg`})},i))})]})},jK=()=>{const{slug:n}=Kf(),[e,t]=M.useState(n),{product:r,isLoading:s,isError:i}=nN(e||""),[o,c]=M.useState(null),[u,f]=M.useState(null),[p,m]=M.useState(null),[y,b]=M.useState(1),w=()=>b(I=>I+1),S=()=>b(I=>Math.max(1,I-1)),k=_r(I=>I.addItem),E=bn(),T=M.useMemo(()=>r!=null&&r.variants?r.variants.reduce((I,F)=>{const{color:z,color_name:te,size:Ce}=F;return I[z]||(I[z]={name:te,size:[]}),I[z].size.includes(Ce)||I[z].size.push(Ce),I},{}):{},[r==null?void 0:r.variants]),N=Object.keys(T);M.useEffect(()=>{!o&&N.length>0&&c(N[0])},[N,o]),M.useEffect(()=>{o&&T[o]&&!u&&f(T[o].size[0])},[o,T,u]),M.useEffect(()=>{if(o&&u){const I=r==null?void 0:r.variants.find(F=>F.color===o&&F.size===u);m(I)}},[o,u,r==null?void 0:r.variants]);const U=(p==null?void 0:p.stock)===0,A=()=>{if(p){const I={variantId:p.id,productId:(r==null?void 0:r.id)||"",name:(r==null?void 0:r.name)||"",image:(r==null?void 0:r.images[0])||"",color:p.color_name,size:p.size,price:p.price,quantity:y};k(I),Vr.success("Product added to cart",{position:"bottom-right"})}},L=()=>{p&&(k({variantId:p.id,productId:(r==null?void 0:r.id)||"",name:(r==null?void 0:r.name)||"",image:(r==null?void 0:r.images[0])||"",color:p.color_name,size:p.size,price:p.price,quantity:y}),E("/checkout"))};return M.useEffect(()=>{t(n),c(null),f(null),m(null),b(1)},[n]),s?v.jsx(On,{}):!r||i?v.jsx("div",{className:"flex justify-center items-center h-[80vh]",children:v.jsx("p",{children:"Product not found"})}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"h-fit flex flex-col md:flex-row gap-16 mt-8",children:[v.jsx(OK,{images:r.images}),v.jsxs("div",{className:"flex-1 space-y-5",children:[v.jsx("h1",{className:"text-3xl font-bold tracking-tight text-black",children:r.name}),v.jsxs("div",{className:"flex gap-5 items-center",children:[v.jsx("span",{className:"tracking-wide text-lg font-semibold text-black",children:Ht((p==null?void 0:p.price)||r.variants[0].price)}),v.jsx("div",{className:"relative",children:U&&v.jsx(RO,{contentTag:"Sold Out"})})]}),v.jsx($O,{}),v.jsx("ul",{className:"space-y-2 ml-7 my-10",children:r.features.map(I=>v.jsxs("li",{className:"text-sm flex items-center gap-2 tracking-tight font-medium text-black",children:[v.jsx("span",{className:"w-[5px] rounded-full bg-black h-[5px]"}),I]},I))}),v.jsxs("div",{className:"flex gap-3 flex-col text-black",children:[v.jsxs("p",{children:["Color: ",o&&T[o]?T[o].name:"Select an color"]}),v.jsx("div",{className:"flex gap-3",children:N.map(I=>v.jsx("button",{className:`w-8 h-8 rounded-full flex justify-center items-center ${o===I?"border border-slate-800":""}`,onClick:()=>c(I),children:v.jsx("span",{className:"w-[26px] h-[26px] rounded-full",style:{backgroundColor:I}})},I))})]}),v.jsxs("div",{className:"flex flex-col gap-3",children:[v.jsx("p",{className:"text-xs font-medium text-black",children:"Available size"}),o&&v.jsx("div",{className:"flex gap-3",children:v.jsx("select",{className:"border border-gray-300 rounded-lg px-3 py-1",value:u||"",onChange:I=>f(I.target.value),children:T[o].size.map(I=>v.jsx("option",{value:I,children:I},I))})})]}),U?v.jsx("button",{className:"bg-[#f3f3f3] uppercase font-semibold tracking-widest text-xs py-4 rounded-full transition-all duration-300 hover:bg-[#e2e2e2] w-full text-slate-300",disabled:!0,children:"Sold Out"}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"space-y-3",children:[v.jsx("p",{className:"text-sm font-medium text-black",children:"Quantity:"}),v.jsxs("div",{className:"flex gap-8 px-5 py-3 border border-slate-200 w-fit rounded-full",children:[v.jsx("button",{onClick:S,disabled:y===1,children:v.jsx(iM,{size:15,className:"text-black"})}),v.jsx("span",{className:"text-slate-500 text-sm",children:y}),v.jsx("button",{onClick:w,children:v.jsx(fx,{size:15,className:"text-black"})})]})]}),v.jsxs("div",{className:"flex flex-col gap-3",children:[v.jsx("button",{className:"bg-[#f3f3f3] uppercase font-semibold tracking-widest text-xs py-4 rounded-full transition-all duration-300 hover:bg-[#e2e2e2] text-black",onClick:A,children:"Add to cart"}),v.jsx("button",{className:"bg-black hover:bg-slate-900 text-white uppercase font-semibold tracking-widest text-xs py-4 rounded-full",onClick:L,children:"Buy Now"})]})]}),v.jsxs("div",{className:"flex pt-2",children:[v.jsxs("div",{className:"flex flex-col gap-1 flex-1 items-center",children:[v.jsx(U4,{size:35,className:"text-slate-950"}),v.jsx("p",{className:"text-xs font-semibold text-black",children:"Free Shipping"})]}),v.jsxs(bt,{to:"#",className:"flex flex-col gap-1 flex-1 items-center justify-center",children:[v.jsx(L4,{size:30,className:"text-slate-950"}),v.jsxs("p",{className:"flex flex-col items-center text-xs text-black",children:[v.jsx("span",{className:"font-semibold text-slate-950",children:"Do you need help?"}),v.jsx(bt,{to:"/Contact US",className:"cursor-pointer text-slate-900 underline",children:"Contact us here"})]})]})]})]})]}),v.jsx(NK,{content:r.description})]})},RK=()=>{const[n,e]=M.useState(""),[t,r]=M.useState(""),{mutate:s,isPending:i}=GV(),{session:o,isLoading:c}=Ol(),u=f=>{f.preventDefault(),s({email:n,password:t})};return c?v.jsx(On,{}):o?v.jsx(nm,{to:"/"}):v.jsxs("div",{className:"h-full flex flex-col mt-12 gap-5 items-center",children:[v.jsx("h1",{className:"text-4xl font-bold capitalize text-black",children:"Login"}),v.jsx("p",{className:"text-sm font-medium text-black",children:"Please login to your account"}),i?v.jsx(On,{}):v.jsxs(v.Fragment,{children:[v.jsxs("form",{className:"flex flex-col items-center gap-4 w-full mt-10 sm:w-[400px] lg:w-[500px]",onSubmit:u,children:[v.jsx("input",{type:"email",placeholder:"Enter your email",className:"border border-slate-200 text-black px-5 py-4 placeholder:text-gray-600 text-sm rounded-full w-full",value:n,onChange:f=>e(f.target.value)}),v.jsx("input",{type:"password",placeholder:"Enter your password",className:"border border-slate-200 text-black px-5 py-4 placeholder:text-gray-600 text-sm rounded-full w-full",value:t,onChange:f=>r(f.target.value)}),v.jsx("button",{className:"bg-black text-white uppercase font-semibold tracking-widest text-xs py-4 rounded-full w-full mt-5",children:"Login"})]}),v.jsxs("p",{className:"text-sm font-medium text-stone-800",children:["Don't have an account?",v.jsx(bt,{to:"/register",className:"underline ml-2",children:"Register"})]})]})]})};var ih=n=>n.type==="checkbox",nl=n=>n instanceof Date,or=n=>n==null;const LR=n=>typeof n=="object";var on=n=>!or(n)&&!Array.isArray(n)&&LR(n)&&!nl(n),DK=n=>on(n)&&n.target?ih(n.target)?n.target.checked:n.target.value:n,PK=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,LK=(n,e)=>n.has(PK(e)),zK=n=>{const e=n.constructor&&n.constructor.prototype;return on(e)&&e.hasOwnProperty("isPrototypeOf")},Pw=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Wt(n){let e;const t=Array.isArray(n),r=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)e=new Date(n);else if(n instanceof Set)e=new Set(n);else if(!(Pw&&(n instanceof Blob||r))&&(t||on(n)))if(e=t?[]:{},!t&&!zK(n))e=n;else for(const s in n)n.hasOwnProperty(s)&&(e[s]=Wt(n[s]));else return n;return e}var ah=n=>Array.isArray(n)?n.filter(Boolean):[],Vt=n=>n===void 0,ge=(n,e,t)=>{if(!e||!on(n))return t;const r=ah(e.split(/[,[\].]+?/)).reduce((s,i)=>or(s)?s:s[i],n);return Vt(r)||r===n?Vt(n[e])?t:n[e]:r},$s=n=>typeof n=="boolean",Lw=n=>/^\w*$/.test(n),zR=n=>ah(n.replace(/["|']|\]/g,"").split(/\.|\[/)),_t=(n,e,t)=>{let r=-1;const s=Lw(e)?[e]:zR(e),i=s.length,o=i-1;for(;++r<i;){const c=s[r];let u=t;if(r!==o){const f=n[c];u=on(f)||Array.isArray(f)?f:isNaN(+s[r+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;n[c]=u,n=n[c]}};const oA={BLUR:"blur",FOCUS_OUT:"focusout"},fs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ni={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},VK=ze.createContext(null),VR=()=>ze.useContext(VK);var BK=(n,e,t,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in n)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==fs.all&&(e._proxyFormState[o]=!r||fs.all),n[o]}});return s},Ys=n=>typeof n=="string",BR=(n,e,t,r,s)=>Ys(n)?(r&&e.watch.add(n),ge(t,n,s)):Array.isArray(n)?n.map(i=>(r&&e.watch.add(i),ge(t,i))):(r&&(e.watchAll=!0),t);function lA(n){const e=VR(),{control:t=e.control,name:r,defaultValue:s,disabled:i,exact:o}=n||{},c=ze.useRef(r),u=ze.useRef(s);c.current=r,ze.useEffect(()=>t._subscribe({name:c.current,formState:{values:!0},exact:o,callback:m=>!i&&p(BR(c.current,t._names,m.values||t._formValues,!1,u.current))}),[t,i,o]);const[f,p]=ze.useState(t._getWatch(r,s));return ze.useEffect(()=>t._removeUnmounted()),f}var IR=(n,e,t,r,s)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[r]:s||!0}}:{},kr=n=>Array.isArray(n)?n:[n],cA=()=>{let n=[];return{get observers(){return n},next:s=>{for(const i of n)i.next&&i.next(s)},subscribe:s=>(n.push(s),{unsubscribe:()=>{n=n.filter(i=>i!==s)}}),unsubscribe:()=>{n=[]}}},qb=n=>or(n)||!LR(n);function Da(n,e){if(qb(n)||qb(e))return n===e;if(nl(n)&&nl(e))return n.getTime()===e.getTime();const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(const s of t){const i=n[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(nl(i)&&nl(o)||on(i)&&on(o)||Array.isArray(i)&&Array.isArray(o)?!Da(i,o):i!==o)return!1}}return!0}var Xn=n=>on(n)&&!Object.keys(n).length,zw=n=>n.type==="file",Ms=n=>typeof n=="function",Am=n=>{if(!Pw)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},UR=n=>n.type==="select-multiple",Vw=n=>n.type==="radio",IK=n=>Vw(n)||ih(n),fv=n=>Am(n)&&n.isConnected;function UK(n,e){const t=e.slice(0,-1).length;let r=0;for(;r<t;)n=Vt(n)?r++:n[e[r++]];return n}function FK(n){for(const e in n)if(n.hasOwnProperty(e)&&!Vt(n[e]))return!1;return!0}function hn(n,e){const t=Array.isArray(e)?e:Lw(e)?[e]:zR(e),r=t.length===1?n:UK(n,t),s=t.length-1,i=t[s];return r&&delete r[i],s!==0&&(on(r)&&Xn(r)||Array.isArray(r)&&FK(r))&&hn(n,t.slice(0,-1)),n}var FR=n=>{for(const e in n)if(Ms(n[e]))return!0;return!1};function Mm(n,e={}){const t=Array.isArray(n);if(on(n)||t)for(const r in n)Array.isArray(n[r])||on(n[r])&&!FR(n[r])?(e[r]=Array.isArray(n[r])?[]:{},Mm(n[r],e[r])):or(n[r])||(e[r]=!0);return e}function $R(n,e,t){const r=Array.isArray(n);if(on(n)||r)for(const s in n)Array.isArray(n[s])||on(n[s])&&!FR(n[s])?Vt(e)||qb(t[s])?t[s]=Array.isArray(n[s])?Mm(n[s],[]):{...Mm(n[s])}:$R(n[s],or(e)?{}:e[s],t[s]):t[s]=!Da(n[s],e[s]);return t}var Nd=(n,e)=>$R(n,e,Mm(e));const uA={value:!1,isValid:!1},dA={value:!0,isValid:!0};var qR=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!Vt(n[0].attributes.value)?Vt(n[0].value)||n[0].value===""?dA:{value:n[0].value,isValid:!0}:dA:uA}return uA},HR=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:r})=>Vt(n)?n:e?n===""?NaN:n&&+n:t&&Ys(n)?new Date(n):r?r(n):n;const fA={isValid:!1,value:null};var KR=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,fA):fA;function hA(n){const e=n.ref;return zw(e)?e.files:Vw(e)?KR(n.refs).value:UR(e)?[...e.selectedOptions].map(({value:t})=>t):ih(e)?qR(n.refs).value:HR(Vt(e.value)?n.ref.value:e.value,n)}var $K=(n,e,t,r)=>{const s={};for(const i of n){const o=ge(e,i);o&&_t(s,i,o._f)}return{criteriaMode:t,names:[...n],fields:s,shouldUseNativeValidation:r}},Nm=n=>n instanceof RegExp,Od=n=>Vt(n)?n:Nm(n)?n.source:on(n)?Nm(n.value)?n.value.source:n.value:n,Bc=n=>({isOnSubmit:!n||n===fs.onSubmit,isOnBlur:n===fs.onBlur,isOnChange:n===fs.onChange,isOnAll:n===fs.all,isOnTouch:n===fs.onTouched});const pA="AsyncFunction";var qK=n=>!!n&&!!n.validate&&!!(Ms(n.validate)&&n.validate.constructor.name===pA||on(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===pA)),HK=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),Hb=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(r=>n.startsWith(r)&&/^\.\w+/.test(n.slice(r.length))));const Hc=(n,e,t,r)=>{for(const s of t||Object.keys(n)){const i=ge(n,s);if(i){const{_f:o,...c}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Hc(c,e))break}else if(on(c)&&Hc(c,e))break}}};function mA(n,e,t){const r=ge(n,t);if(r||Lw(t))return{error:r,name:t};const s=t.split(".");for(;s.length;){const i=s.join("."),o=ge(e,i),c=ge(n,i);if(o&&!Array.isArray(o)&&t!==i)return{name:t};if(c&&c.type)return{name:i,error:c};s.pop()}return{name:t}}var KK=(n,e,t,r)=>{t(n);const{name:s,...i}=n;return Xn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||fs.all))},GK=(n,e,t)=>!n||!e||n===e||kr(n).some(r=>r&&(t?r===e:r.startsWith(e)||e.startsWith(r))),ZK=(n,e,t,r,s)=>s.isOnAll?!1:!t&&s.isOnTouch?!(e||n):(t?r.isOnBlur:s.isOnBlur)?!n:(t?r.isOnChange:s.isOnChange)?n:!0,YK=(n,e)=>!ah(ge(n,e)).length&&hn(n,e),GR=(n,e,t)=>{const r=kr(ge(n,t));return _t(r,"root",e[t]),_t(n,t,r),n},Xp=n=>Ys(n);function gA(n,e,t="validate"){if(Xp(n)||Array.isArray(n)&&n.every(Xp)||$s(n)&&!n)return{type:t,message:Xp(n)?n:"",ref:e}}var Cc=n=>on(n)&&!Nm(n)?n:{value:n,message:""},Kb=async(n,e,t,r,s,i)=>{const{ref:o,refs:c,required:u,maxLength:f,minLength:p,min:m,max:y,pattern:b,validate:w,name:S,valueAsNumber:k,mount:E}=n._f,T=ge(t,S);if(!E||e.has(S))return{};const N=c?c[0]:o,U=Oe=>{s&&N.reportValidity&&(N.setCustomValidity($s(Oe)?"":Oe||""),N.reportValidity())},A={},L=Vw(o),I=ih(o),F=L||I,z=(k||zw(o))&&Vt(o.value)&&Vt(T)||Am(o)&&o.value===""||T===""||Array.isArray(T)&&!T.length,te=IR.bind(null,S,r,A),Ce=(Oe,De,st,Fe=Ni.maxLength,ie=Ni.minLength)=>{const ue=Oe?De:st;A[S]={type:Oe?Fe:ie,message:ue,ref:o,...te(Oe?Fe:ie,ue)}};if(i?!Array.isArray(T)||!T.length:u&&(!F&&(z||or(T))||$s(T)&&!T||I&&!qR(c).isValid||L&&!KR(c).isValid)){const{value:Oe,message:De}=Xp(u)?{value:!!u,message:u}:Cc(u);if(Oe&&(A[S]={type:Ni.required,message:De,ref:N,...te(Ni.required,De)},!r))return U(De),A}if(!z&&(!or(m)||!or(y))){let Oe,De;const st=Cc(y),Fe=Cc(m);if(!or(T)&&!isNaN(T)){const ie=o.valueAsNumber||T&&+T;or(st.value)||(Oe=ie>st.value),or(Fe.value)||(De=ie<Fe.value)}else{const ie=o.valueAsDate||new Date(T),ue=D=>new Date(new Date().toDateString()+" "+D),fe=o.type=="time",Ge=o.type=="week";Ys(st.value)&&T&&(Oe=fe?ue(T)>ue(st.value):Ge?T>st.value:ie>new Date(st.value)),Ys(Fe.value)&&T&&(De=fe?ue(T)<ue(Fe.value):Ge?T<Fe.value:ie<new Date(Fe.value))}if((Oe||De)&&(Ce(!!Oe,st.message,Fe.message,Ni.max,Ni.min),!r))return U(A[S].message),A}if((f||p)&&!z&&(Ys(T)||i&&Array.isArray(T))){const Oe=Cc(f),De=Cc(p),st=!or(Oe.value)&&T.length>+Oe.value,Fe=!or(De.value)&&T.length<+De.value;if((st||Fe)&&(Ce(st,Oe.message,De.message),!r))return U(A[S].message),A}if(b&&!z&&Ys(T)){const{value:Oe,message:De}=Cc(b);if(Nm(Oe)&&!T.match(Oe)&&(A[S]={type:Ni.pattern,message:De,ref:o,...te(Ni.pattern,De)},!r))return U(De),A}if(w){if(Ms(w)){const Oe=await w(T,t),De=gA(Oe,N);if(De&&(A[S]={...De,...te(Ni.validate,De.message)},!r))return U(De.message),A}else if(on(w)){let Oe={};for(const De in w){if(!Xn(Oe)&&!r)break;const st=gA(await w[De](T,t),N,De);st&&(Oe={...st,...te(De,st.message)},U(st.message),r&&(A[S]=Oe))}if(!Xn(Oe)&&(A[S]={ref:N,...Oe},!r))return A}}return U(!0),A};const QK={mode:fs.onSubmit,reValidateMode:fs.onChange,shouldFocusError:!0};function JK(n={}){let e={...QK,...n},t={submitCount:0,isDirty:!1,isLoading:Ms(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let s=on(e.defaultValues)||on(e.values)?Wt(e.values||e.defaultValues)||{}:{},i=e.shouldUnregister?{}:Wt(s),o={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,f=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...p};const y={array:cA(),state:cA()},b=Bc(e.mode),w=Bc(e.reValidateMode),S=e.criteriaMode===fs.all,k=R=>K=>{clearTimeout(f),f=setTimeout(R,K)},E=async R=>{if(!e.disabled&&(p.isValid||m.isValid||R)){const K=e.resolver?Xn((await z()).errors):await Ce(r,!0);K!==t.isValid&&y.state.next({isValid:K})}},T=(R,K)=>{!e.disabled&&(p.isValidating||p.validatingFields||m.isValidating||m.validatingFields)&&((R||Array.from(c.mount)).forEach(Y=>{Y&&(K?_t(t.validatingFields,Y,K):hn(t.validatingFields,Y))}),y.state.next({validatingFields:t.validatingFields,isValidating:!Xn(t.validatingFields)}))},N=(R,K=[],Y,ce,oe=!0,ae=!0)=>{if(ce&&Y&&!e.disabled){if(o.action=!0,ae&&Array.isArray(ge(r,R))){const me=Y(ge(r,R),ce.argA,ce.argB);oe&&_t(r,R,me)}if(ae&&Array.isArray(ge(t.errors,R))){const me=Y(ge(t.errors,R),ce.argA,ce.argB);oe&&_t(t.errors,R,me),YK(t.errors,R)}if((p.touchedFields||m.touchedFields)&&ae&&Array.isArray(ge(t.touchedFields,R))){const me=Y(ge(t.touchedFields,R),ce.argA,ce.argB);oe&&_t(t.touchedFields,R,me)}(p.dirtyFields||m.dirtyFields)&&(t.dirtyFields=Nd(s,i)),y.state.next({name:R,isDirty:De(R,K),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else _t(i,R,K)},U=(R,K)=>{_t(t.errors,R,K),y.state.next({errors:t.errors})},A=R=>{t.errors=R,y.state.next({errors:t.errors,isValid:!1})},L=(R,K,Y,ce)=>{const oe=ge(r,R);if(oe){const ae=ge(i,R,Vt(Y)?ge(s,R):Y);Vt(ae)||ce&&ce.defaultChecked||K?_t(i,R,K?ae:hA(oe._f)):ie(R,ae),o.mount&&E()}},I=(R,K,Y,ce,oe)=>{let ae=!1,me=!1;const ct={name:R};if(!e.disabled){if(!Y||ce){(p.isDirty||m.isDirty)&&(me=t.isDirty,t.isDirty=ct.isDirty=De(),ae=me!==ct.isDirty);const xt=Da(ge(s,R),K);me=!!ge(t.dirtyFields,R),xt?hn(t.dirtyFields,R):_t(t.dirtyFields,R,!0),ct.dirtyFields=t.dirtyFields,ae=ae||(p.dirtyFields||m.dirtyFields)&&me!==!xt}if(Y){const xt=ge(t.touchedFields,R);xt||(_t(t.touchedFields,R,Y),ct.touchedFields=t.touchedFields,ae=ae||(p.touchedFields||m.touchedFields)&&xt!==Y)}ae&&oe&&y.state.next(ct)}return ae?ct:{}},F=(R,K,Y,ce)=>{const oe=ge(t.errors,R),ae=(p.isValid||m.isValid)&&$s(K)&&t.isValid!==K;if(e.delayError&&Y?(u=k(()=>U(R,Y)),u(e.delayError)):(clearTimeout(f),u=null,Y?_t(t.errors,R,Y):hn(t.errors,R)),(Y?!Da(oe,Y):oe)||!Xn(ce)||ae){const me={...ce,...ae&&$s(K)?{isValid:K}:{},errors:t.errors,name:R};t={...t,...me},y.state.next(me)}},z=async R=>{T(R,!0);const K=await e.resolver(i,e.context,$K(R||c.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return T(R),K},te=async R=>{const{errors:K}=await z(R);if(R)for(const Y of R){const ce=ge(K,Y);ce?_t(t.errors,Y,ce):hn(t.errors,Y)}else t.errors=K;return K},Ce=async(R,K,Y={valid:!0})=>{for(const ce in R){const oe=R[ce];if(oe){const{_f:ae,...me}=oe;if(ae){const ct=c.array.has(ae.name),xt=oe._f&&qK(oe._f);xt&&p.validatingFields&&T([ce],!0);const rn=await Kb(oe,c.disabled,i,S,e.shouldUseNativeValidation&&!K,ct);if(xt&&p.validatingFields&&T([ce]),rn[ae.name]&&(Y.valid=!1,K))break;!K&&(ge(rn,ae.name)?ct?GR(t.errors,rn,ae.name):_t(t.errors,ae.name,rn[ae.name]):hn(t.errors,ae.name))}!Xn(me)&&await Ce(me,K,Y)}}return Y.valid},Oe=()=>{for(const R of c.unMount){const K=ge(r,R);K&&(K._f.refs?K._f.refs.every(Y=>!fv(Y)):!fv(K._f.ref))&&nt(R)}c.unMount=new Set},De=(R,K)=>!e.disabled&&(R&&K&&_t(i,R,K),!Da(ke(),s)),st=(R,K,Y)=>BR(R,c,{...o.mount?i:Vt(K)?s:Ys(R)?{[R]:K}:K},Y,K),Fe=R=>ah(ge(o.mount?i:s,R,e.shouldUnregister?ge(s,R,[]):[])),ie=(R,K,Y={})=>{const ce=ge(r,R);let oe=K;if(ce){const ae=ce._f;ae&&(!ae.disabled&&_t(i,R,HR(K,ae)),oe=Am(ae.ref)&&or(K)?"":K,UR(ae.ref)?[...ae.ref.options].forEach(me=>me.selected=oe.includes(me.value)):ae.refs?ih(ae.ref)?ae.refs.length>1?ae.refs.forEach(me=>(!me.defaultChecked||!me.disabled)&&(me.checked=Array.isArray(oe)?!!oe.find(ct=>ct===me.value):oe===me.value)):ae.refs[0]&&(ae.refs[0].checked=!!oe):ae.refs.forEach(me=>me.checked=me.value===oe):zw(ae.ref)?ae.ref.value="":(ae.ref.value=oe,ae.ref.type||y.state.next({name:R,values:Wt(i)})))}(Y.shouldDirty||Y.shouldTouch)&&I(R,oe,Y.shouldTouch,Y.shouldDirty,!0),Y.shouldValidate&&W(R)},ue=(R,K,Y)=>{for(const ce in K){const oe=K[ce],ae=`${R}.${ce}`,me=ge(r,ae);(c.array.has(R)||on(oe)||me&&!me._f)&&!nl(oe)?ue(ae,oe,Y):ie(ae,oe,Y)}},fe=(R,K,Y={})=>{const ce=ge(r,R),oe=c.array.has(R),ae=Wt(K);_t(i,R,ae),oe?(y.array.next({name:R,values:Wt(i)}),(p.isDirty||p.dirtyFields||m.isDirty||m.dirtyFields)&&Y.shouldDirty&&y.state.next({name:R,dirtyFields:Nd(s,i),isDirty:De(R,ae)})):ce&&!ce._f&&!or(ae)?ue(R,ae,Y):ie(R,ae,Y),Hb(R,c)&&y.state.next({...t}),y.state.next({name:o.mount?R:void 0,values:Wt(i)})},Ge=async R=>{o.mount=!0;const K=R.target;let Y=K.name,ce=!0;const oe=ge(r,Y),ae=me=>{ce=Number.isNaN(me)||nl(me)&&isNaN(me.getTime())||Da(me,ge(i,Y,me))};if(oe){let me,ct;const xt=K.type?hA(oe._f):DK(R),rn=R.type===oA.BLUR||R.type===oA.FOCUS_OUT,Pl=!HK(oe._f)&&!e.resolver&&!ge(t.errors,Y)&&!oe._f.deps||ZK(rn,ge(t.touchedFields,Y),t.isSubmitted,w,b),Ir=Hb(Y,c,rn);_t(i,Y,xt),rn?(oe._f.onBlur&&oe._f.onBlur(R),u&&u(0)):oe._f.onChange&&oe._f.onChange(R);const mn=I(Y,xt,rn),Ll=!Xn(mn)||Ir;if(!rn&&y.state.next({name:Y,type:R.type,values:Wt(i)}),Pl)return(p.isValid||m.isValid)&&(e.mode==="onBlur"?rn&&E():rn||E()),Ll&&y.state.next({name:Y,...Ir?{}:mn});if(!rn&&Ir&&y.state.next({...t}),e.resolver){const{errors:Kn}=await z([Y]);if(ae(xt),ce){const wn=mA(t.errors,r,Y),Xi=mA(Kn,r,wn.name||Y);me=Xi.error,Y=Xi.name,ct=Xn(Kn)}}else T([Y],!0),me=(await Kb(oe,c.disabled,i,S,e.shouldUseNativeValidation))[Y],T([Y]),ae(xt),ce&&(me?ct=!1:(p.isValid||m.isValid)&&(ct=await Ce(r,!0)));ce&&(oe._f.deps&&W(oe._f.deps),F(Y,ct,me,mn))}},D=(R,K)=>{if(ge(t.errors,K)&&R.focus)return R.focus(),1},W=async(R,K={})=>{let Y,ce;const oe=kr(R);if(e.resolver){const ae=await te(Vt(R)?R:oe);Y=Xn(ae),ce=R?!oe.some(me=>ge(ae,me)):Y}else R?(ce=(await Promise.all(oe.map(async ae=>{const me=ge(r,ae);return await Ce(me&&me._f?{[ae]:me}:me)}))).every(Boolean),!(!ce&&!t.isValid)&&E()):ce=Y=await Ce(r);return y.state.next({...!Ys(R)||(p.isValid||m.isValid)&&Y!==t.isValid?{}:{name:R},...e.resolver||!R?{isValid:Y}:{},errors:t.errors}),K.shouldFocus&&!ce&&Hc(r,D,R?oe:c.mount),ce},ke=R=>{const K={...o.mount?i:s};return Vt(R)?K:Ys(R)?ge(K,R):R.map(Y=>ge(K,Y))},Te=(R,K)=>({invalid:!!ge((K||t).errors,R),isDirty:!!ge((K||t).dirtyFields,R),error:ge((K||t).errors,R),isValidating:!!ge(t.validatingFields,R),isTouched:!!ge((K||t).touchedFields,R)}),pe=R=>{R&&kr(R).forEach(K=>hn(t.errors,K)),y.state.next({errors:R?t.errors:{}})},Ze=(R,K,Y)=>{const ce=(ge(r,R,{_f:{}})._f||{}).ref,oe=ge(t.errors,R)||{},{ref:ae,message:me,type:ct,...xt}=oe;_t(t.errors,R,{...xt,...K,ref:ce}),y.state.next({name:R,errors:t.errors,isValid:!1}),Y&&Y.shouldFocus&&ce&&ce.focus&&ce.focus()},Je=(R,K)=>Ms(R)?y.state.subscribe({next:Y=>R(st(void 0,K),Y)}):st(R,K,!0),ln=R=>y.state.subscribe({next:K=>{GK(R.name,K.name,R.exact)&&KK(K,R.formState||p,go,R.reRenderRoot)&&R.callback({values:{...i},...t,...K})}}).unsubscribe,pt=R=>(o.mount=!0,m={...m,...R.formState},ln({...R,formState:m})),nt=(R,K={})=>{for(const Y of R?kr(R):c.mount)c.mount.delete(Y),c.array.delete(Y),K.keepValue||(hn(r,Y),hn(i,Y)),!K.keepError&&hn(t.errors,Y),!K.keepDirty&&hn(t.dirtyFields,Y),!K.keepTouched&&hn(t.touchedFields,Y),!K.keepIsValidating&&hn(t.validatingFields,Y),!e.shouldUnregister&&!K.keepDefaultValue&&hn(s,Y);y.state.next({values:Wt(i)}),y.state.next({...t,...K.keepDirty?{isDirty:De()}:{}}),!K.keepIsValid&&E()},mt=({disabled:R,name:K})=>{($s(R)&&o.mount||R||c.disabled.has(K))&&(R?c.disabled.add(K):c.disabled.delete(K))},Rn=(R,K={})=>{let Y=ge(r,R);const ce=$s(K.disabled)||$s(e.disabled);return _t(r,R,{...Y||{},_f:{...Y&&Y._f?Y._f:{ref:{name:R}},name:R,mount:!0,...K}}),c.mount.add(R),Y?mt({disabled:$s(K.disabled)?K.disabled:e.disabled,name:R}):L(R,!0,K.value),{...ce?{disabled:K.disabled||e.disabled}:{},...e.progressive?{required:!!K.required,min:Od(K.min),max:Od(K.max),minLength:Od(K.minLength),maxLength:Od(K.maxLength),pattern:Od(K.pattern)}:{},name:R,onChange:Ge,onBlur:Ge,ref:oe=>{if(oe){Rn(R,K),Y=ge(r,R);const ae=Vt(oe.value)&&oe.querySelectorAll&&oe.querySelectorAll("input,select,textarea")[0]||oe,me=IK(ae),ct=Y._f.refs||[];if(me?ct.find(xt=>xt===ae):ae===Y._f.ref)return;_t(r,R,{_f:{...Y._f,...me?{refs:[...ct.filter(fv),ae,...Array.isArray(ge(s,R))?[{}]:[]],ref:{type:ae.type,name:R}}:{ref:ae}}}),L(R,!1,void 0,ae)}else Y=ge(r,R,{}),Y._f&&(Y._f.mount=!1),(e.shouldUnregister||K.shouldUnregister)&&!(LK(c.array,R)&&o.action)&&c.unMount.add(R)}}},Ps=()=>e.shouldFocusError&&Hc(r,D,c.mount),xn=R=>{$s(R)&&(y.state.next({disabled:R}),Hc(r,(K,Y)=>{const ce=ge(r,Y);ce&&(K.disabled=ce._f.disabled||R,Array.isArray(ce._f.refs)&&ce._f.refs.forEach(oe=>{oe.disabled=ce._f.disabled||R}))},0,!1))},oi=(R,K)=>async Y=>{let ce;Y&&(Y.preventDefault&&Y.preventDefault(),Y.persist&&Y.persist());let oe=Wt(i);if(y.state.next({isSubmitting:!0}),e.resolver){const{errors:ae,values:me}=await z();t.errors=ae,oe=me}else await Ce(r);if(c.disabled.size)for(const ae of c.disabled)_t(oe,ae,void 0);if(hn(t.errors,"root"),Xn(t.errors)){y.state.next({errors:{}});try{await R(oe,Y)}catch(ae){ce=ae}}else K&&await K({...t.errors},Y),Ps(),setTimeout(Ps);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Xn(t.errors)&&!ce,submitCount:t.submitCount+1,errors:t.errors}),ce)throw ce},Yi=(R,K={})=>{ge(r,R)&&(Vt(K.defaultValue)?fe(R,Wt(ge(s,R))):(fe(R,K.defaultValue),_t(s,R,Wt(K.defaultValue))),K.keepTouched||hn(t.touchedFields,R),K.keepDirty||(hn(t.dirtyFields,R),t.isDirty=K.defaultValue?De(R,Wt(ge(s,R))):De()),K.keepError||(hn(t.errors,R),p.isValid&&E()),y.state.next({...t}))},Br=(R,K={})=>{const Y=R?Wt(R):s,ce=Wt(Y),oe=Xn(R),ae=oe?s:ce;if(K.keepDefaultValues||(s=Y),!K.keepValues){if(K.keepDirtyValues){const me=new Set([...c.mount,...Object.keys(Nd(s,i))]);for(const ct of Array.from(me))ge(t.dirtyFields,ct)?_t(ae,ct,ge(i,ct)):fe(ct,ge(ae,ct))}else{if(Pw&&Vt(R))for(const me of c.mount){const ct=ge(r,me);if(ct&&ct._f){const xt=Array.isArray(ct._f.refs)?ct._f.refs[0]:ct._f.ref;if(Am(xt)){const rn=xt.closest("form");if(rn){rn.reset();break}}}}for(const me of c.mount)fe(me,ge(ae,me))}i=Wt(ae),y.array.next({values:{...ae}}),y.state.next({values:{...ae}})}c={mount:K.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!p.isValid||!!K.keepIsValid||!!K.keepDirtyValues,o.watch=!!e.shouldUnregister,y.state.next({submitCount:K.keepSubmitCount?t.submitCount:0,isDirty:oe?!1:K.keepDirty?t.isDirty:!!(K.keepDefaultValues&&!Da(R,s)),isSubmitted:K.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:oe?{}:K.keepDirtyValues?K.keepDefaultValues&&i?Nd(s,i):t.dirtyFields:K.keepDefaultValues&&R?Nd(s,R):K.keepDirty?t.dirtyFields:{},touchedFields:K.keepTouched?t.touchedFields:{},errors:K.keepErrors?t.errors:{},isSubmitSuccessful:K.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Qi=(R,K)=>Br(Ms(R)?R(i):R,K),Ji=(R,K={})=>{const Y=ge(r,R),ce=Y&&Y._f;if(ce){const oe=ce.refs?ce.refs[0]:ce.ref;oe.focus&&(oe.focus(),K.shouldSelect&&Ms(oe.select)&&oe.select())}},go=R=>{t={...t,...R}},mr={control:{register:Rn,unregister:nt,getFieldState:Te,handleSubmit:oi,setError:Ze,_subscribe:ln,_runSchema:z,_getWatch:st,_getDirty:De,_setValid:E,_setFieldArray:N,_setDisabledField:mt,_setErrors:A,_getFieldArray:Fe,_reset:Br,_resetDefaultValues:()=>Ms(e.defaultValues)&&e.defaultValues().then(R=>{Qi(R,e.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:Oe,_disableForm:xn,_subjects:y,_proxyFormState:p,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(R){o=R},get _defaultValues(){return s},get _names(){return c},set _names(R){c=R},get _formState(){return t},get _options(){return e},set _options(R){e={...e,...R}}},subscribe:pt,trigger:W,register:Rn,handleSubmit:oi,watch:Je,setValue:fe,getValues:ke,reset:Qi,resetField:Yi,clearErrors:pe,unregister:nt,setError:Ze,setFocus:Ji,getFieldState:Te};return{...mr,formControl:mr}}var xa=()=>{const n=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=(Math.random()*16+n)%16|0;return(e=="x"?t:t&3|8).toString(16)})},hv=(n,e,t={})=>t.shouldFocus||Vt(t.shouldFocus)?t.focusName||`${n}.${Vt(t.focusIndex)?e:t.focusIndex}.`:"",pv=(n,e)=>[...n,...kr(e)],mv=n=>Array.isArray(n)?n.map(()=>{}):void 0;function gv(n,e,t){return[...n.slice(0,e),...kr(t),...n.slice(e)]}var yv=(n,e,t)=>Array.isArray(n)?(Vt(n[t])&&(n[t]=void 0),n.splice(t,0,n.splice(e,1)[0]),n):[],vv=(n,e)=>[...kr(e),...kr(n)];function XK(n,e){let t=0;const r=[...n];for(const s of e)r.splice(s-t,1),t++;return ah(r).length?r:[]}var bv=(n,e)=>Vt(e)?[]:XK(n,kr(e).sort((t,r)=>t-r)),xv=(n,e,t)=>{[n[e],n[t]]=[n[t],n[e]]},yA=(n,e,t)=>(n[e]=t,n);function ZR(n){const e=VR(),{control:t=e.control,name:r,keyName:s="id",shouldUnregister:i,rules:o}=n,[c,u]=ze.useState(t._getFieldArray(r)),f=ze.useRef(t._getFieldArray(r).map(xa)),p=ze.useRef(c),m=ze.useRef(r),y=ze.useRef(!1);m.current=r,p.current=c,t._names.array.add(r),o&&t.register(r,o),ze.useEffect(()=>t._subjects.array.subscribe({next:({values:L,name:I})=>{if(I===m.current||!I){const F=ge(L,m.current);Array.isArray(F)&&(u(F),f.current=F.map(xa))}}}).unsubscribe,[t]);const b=ze.useCallback(L=>{y.current=!0,t._setFieldArray(r,L)},[t,r]),w=(L,I)=>{const F=kr(Wt(L)),z=pv(t._getFieldArray(r),F);t._names.focus=hv(r,z.length-1,I),f.current=pv(f.current,F.map(xa)),b(z),u(z),t._setFieldArray(r,z,pv,{argA:mv(L)})},S=(L,I)=>{const F=kr(Wt(L)),z=vv(t._getFieldArray(r),F);t._names.focus=hv(r,0,I),f.current=vv(f.current,F.map(xa)),b(z),u(z),t._setFieldArray(r,z,vv,{argA:mv(L)})},k=L=>{const I=bv(t._getFieldArray(r),L);f.current=bv(f.current,L),b(I),u(I),!Array.isArray(ge(t._fields,r))&&_t(t._fields,r,void 0),t._setFieldArray(r,I,bv,{argA:L})},E=(L,I,F)=>{const z=kr(Wt(I)),te=gv(t._getFieldArray(r),L,z);t._names.focus=hv(r,L,F),f.current=gv(f.current,L,z.map(xa)),b(te),u(te),t._setFieldArray(r,te,gv,{argA:L,argB:mv(I)})},T=(L,I)=>{const F=t._getFieldArray(r);xv(F,L,I),xv(f.current,L,I),b(F),u(F),t._setFieldArray(r,F,xv,{argA:L,argB:I},!1)},N=(L,I)=>{const F=t._getFieldArray(r);yv(F,L,I),yv(f.current,L,I),b(F),u(F),t._setFieldArray(r,F,yv,{argA:L,argB:I},!1)},U=(L,I)=>{const F=Wt(I),z=yA(t._getFieldArray(r),L,F);f.current=[...z].map((te,Ce)=>!te||Ce===L?xa():f.current[Ce]),b(z),u([...z]),t._setFieldArray(r,z,yA,{argA:L,argB:F},!0,!1)},A=L=>{const I=kr(Wt(L));f.current=I.map(xa),b([...I]),u([...I]),t._setFieldArray(r,[...I],F=>F,{},!0,!1)};return ze.useEffect(()=>{if(t._state.action=!1,Hb(r,t._names)&&t._subjects.state.next({...t._formState}),y.current&&(!Bc(t._options.mode).isOnSubmit||t._formState.isSubmitted)&&!Bc(t._options.reValidateMode).isOnSubmit)if(t._options.resolver)t._runSchema([r]).then(L=>{const I=ge(L.errors,r),F=ge(t._formState.errors,r);(F?!I&&F.type||I&&(F.type!==I.type||F.message!==I.message):I&&I.type)&&(I?_t(t._formState.errors,r,I):hn(t._formState.errors,r),t._subjects.state.next({errors:t._formState.errors}))});else{const L=ge(t._fields,r);L&&L._f&&!(Bc(t._options.reValidateMode).isOnSubmit&&Bc(t._options.mode).isOnSubmit)&&Kb(L,t._names.disabled,t._formValues,t._options.criteriaMode===fs.all,t._options.shouldUseNativeValidation,!0).then(I=>!Xn(I)&&t._subjects.state.next({errors:GR(t._formState.errors,I,r)}))}t._subjects.state.next({name:r,values:Wt(t._formValues)}),t._names.focus&&Hc(t._fields,(L,I)=>{if(t._names.focus&&I.startsWith(t._names.focus)&&L.focus)return L.focus(),1}),t._names.focus="",t._setValid(),y.current=!1},[c,r,t]),ze.useEffect(()=>(!ge(t._formValues,r)&&t._setFieldArray(r),()=>{const L=(I,F)=>{const z=ge(t._fields,I);z&&z._f&&(z._f.mount=F)};t._options.shouldUnregister||i?t.unregister(r):L(r,!1)}),[r,t,s,i]),{swap:ze.useCallback(T,[b,r,t]),move:ze.useCallback(N,[b,r,t]),prepend:ze.useCallback(S,[b,r,t]),append:ze.useCallback(w,[b,r,t]),remove:ze.useCallback(k,[b,r,t]),insert:ze.useCallback(E,[b,r,t]),update:ze.useCallback(U,[b,r,t]),replace:ze.useCallback(A,[b,r,t]),fields:ze.useMemo(()=>c.map((L,I)=>({...L,[s]:f.current[I]||xa()})),[c,s])}}function Bw(n={}){const e=ze.useRef(void 0),t=ze.useRef(void 0),[r,s]=ze.useState({isDirty:!1,isValidating:!1,isLoading:Ms(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,defaultValues:Ms(n.defaultValues)?void 0:n.defaultValues});e.current||(e.current={...n.formControl?n.formControl:JK(n),formState:r},n.formControl&&n.defaultValues&&!Ms(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions));const i=e.current.control;return i._options=n,ze.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0}),[i]),ze.useEffect(()=>i._disableForm(n.disabled),[i,n.disabled]),ze.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),ze.useEffect(()=>{n.values&&!Da(n.values,t.current)?(i._reset(n.values,i._options.resetOptions),t.current=n.values,s(o=>({...o}))):i._resetDefaultValues()},[n.values,i]),ze.useEffect(()=>{n.errors&&!Xn(n.errors)&&i._setErrors(n.errors)},[n.errors,i]),ze.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),ze.useEffect(()=>{n.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[n.shouldUnregister,i]),e.current.formState=BK(r,i),e.current}const vA=(n,e,t)=>{if(n&&"reportValidity"in n){const r=ge(t,e);n.setCustomValidity(r&&r.message||""),n.reportValidity()}},YR=(n,e)=>{for(const t in e.fields){const r=e.fields[t];r&&r.ref&&"reportValidity"in r.ref?vA(r.ref,t,n):r&&r.refs&&r.refs.forEach(s=>vA(s,t,n))}},WK=(n,e)=>{e.shouldUseNativeValidation&&YR(n,e);const t={};for(const r in n){const s=ge(e.fields,r),i=Object.assign(n[r]||{},{ref:s&&s.ref});if(eG(e.names||Object.keys(n),r)){const o=Object.assign({},ge(t,r));_t(o,"root",i),_t(t,r,o)}else _t(t,r,i)}return t},eG=(n,e)=>{const t=bA(e);return n.some(r=>bA(r).match(`^${t}\\.\\d+`))};function bA(n){return n.replace(/\]|\[/g,"")}function tG(n,e){for(var t={};n.length;){var r=n[0],s=r.code,i=r.message,o=r.path.join(".");if(!t[o])if("unionErrors"in r){var c=r.unionErrors[0].errors[0];t[o]={message:c.message,type:c.code}}else t[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(p){return p.errors.forEach(function(m){return n.push(m)})}),e){var u=t[o].types,f=u&&u[r.code];t[o]=IR(o,e,t,s,f?[].concat(f,r.message):r.message)}n.shift()}return t}function Iw(n,e,t){return t===void 0&&(t={}),function(r,s,i){try{return Promise.resolve(function(o,c){try{var u=Promise.resolve(n[t.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(f){return i.shouldUseNativeValidation&&YR({},i),{errors:{},values:t.raw?Object.assign({},r):f}})}catch(f){return c(f)}return u&&u.then?u.then(void 0,c):u}(0,function(o){if(function(c){return Array.isArray(c==null?void 0:c.errors)}(o))return{values:{},errors:WK(tG(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}}var vt;(function(n){n.assertEqual=s=>s;function e(s){}n.assertIs=e;function t(s){throw new Error}n.assertNever=t,n.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},n.getValidEnumValues=s=>{const i=n.objectKeys(s).filter(c=>typeof s[s[c]]!="number"),o={};for(const c of i)o[c]=s[c];return n.objectValues(o)},n.objectValues=s=>n.objectKeys(s).map(function(i){return s[i]}),n.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},n.find=(s,i)=>{for(const o of s)if(i(o))return o},n.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}n.joinValues=r,n.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(vt||(vt={}));var Gb;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(Gb||(Gb={}));const ve=vt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Pi=n=>{switch(typeof n){case"undefined":return ve.undefined;case"string":return ve.string;case"number":return isNaN(n)?ve.nan:ve.number;case"boolean":return ve.boolean;case"function":return ve.function;case"bigint":return ve.bigint;case"symbol":return ve.symbol;case"object":return Array.isArray(n)?ve.array:n===null?ve.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?ve.promise:typeof Map<"u"&&n instanceof Map?ve.map:typeof Set<"u"&&n instanceof Set?ve.set:typeof Date<"u"&&n instanceof Date?ve.date:ve.object;default:return ve.unknown}},se=vt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),nG=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class zr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(t(o));else{let c=r,u=0;for(;u<o.path.length;){const f=o.path[u];u===o.path.length-1?(c[f]=c[f]||{_errors:[]},c[f]._errors.push(t(o))):c[f]=c[f]||{_errors:[]},c=c[f],u++}}};return s(this),r}static assert(e){if(!(e instanceof zr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,vt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const s of this.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}zr.create=n=>new zr(n);const wu=(n,e)=>{let t;switch(n.code){case se.invalid_type:n.received===ve.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case se.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,vt.jsonStringifyReplacer)}`;break;case se.unrecognized_keys:t=`Unrecognized key(s) in object: ${vt.joinValues(n.keys,", ")}`;break;case se.invalid_union:t="Invalid input";break;case se.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${vt.joinValues(n.options)}`;break;case se.invalid_enum_value:t=`Invalid enum value. Expected ${vt.joinValues(n.options)}, received '${n.received}'`;break;case se.invalid_arguments:t="Invalid function arguments";break;case se.invalid_return_type:t="Invalid function return type";break;case se.invalid_date:t="Invalid date";break;case se.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:vt.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case se.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case se.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case se.custom:t="Invalid input";break;case se.invalid_intersection_types:t="Intersection results could not be merged";break;case se.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case se.not_finite:t="Number must be finite";break;default:t=e.defaultError,vt.assertNever(n)}return{message:t}};let QR=wu;function rG(n){QR=n}function Om(){return QR}const jm=n=>{const{data:e,path:t,errorMaps:r,issueData:s}=n,i=[...t,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let c="";const u=r.filter(f=>!!f).slice().reverse();for(const f of u)c=f(o,{data:e,defaultError:c}).message;return{...s,path:i,message:c}},sG=[];function de(n,e){const t=Om(),r=jm({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===wu?void 0:wu].filter(s=>!!s)});n.common.issues.push(r)}class tr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const s of t){if(s.status==="aborted")return He;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const s of t){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return tr.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const s of t){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return He;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const He=Object.freeze({status:"aborted"}),Ic=n=>({status:"dirty",value:n}),pr=n=>({status:"valid",value:n}),Zb=n=>n.status==="aborted",Yb=n=>n.status==="dirty",kl=n=>n.status==="valid",Ef=n=>typeof Promise<"u"&&n instanceof Promise;function Rm(n,e,t,r){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}function JR(n,e,t,r,s){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var Ae;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ae||(Ae={}));var $d,qd;class ri{constructor(e,t,r,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const xA=(n,e)=>{if(kl(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new zr(n.common.issues);return this._error=t,this._error}}};function Xe(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:s}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,c)=>{var u,f;const{message:p}=n;return o.code==="invalid_enum_value"?{message:p??c.defaultError}:typeof c.data>"u"?{message:(u=p??r)!==null&&u!==void 0?u:c.defaultError}:o.code!=="invalid_type"?{message:c.defaultError}:{message:(f=p??t)!==null&&f!==void 0?f:c.defaultError}},description:s}}class rt{get description(){return this._def.description}_getType(e){return Pi(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Pi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new tr,ctx:{common:e.parent.common,data:e.data,parsedType:Pi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Ef(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const s={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Pi(e)},i=this._parseSync({data:e,path:s.path,parent:s});return xA(s,i)}"~validate"(e){var t,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Pi(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:s});return kl(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((r=(t=i==null?void 0:i.message)===null||t===void 0?void 0:t.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(i=>kl(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Pi(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Ef(s)?s:Promise.resolve(s));return xA(r,i)}refine(e,t){const r=s=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(s):t;return this._refinement((s,i)=>{const o=e(s),c=()=>i.addIssue({code:se.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(e,t){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof t=="function"?t(r,s):t),!1))}_refinement(e){return new Rs({schema:this,typeName:qe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return ei.create(this,this._def)}nullable(){return oo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Os.create(this)}promise(){return ku.create(this,this._def)}or(e){return Mf.create([this,e],this._def)}and(e){return Nf.create(this,e,this._def)}transform(e){return new Rs({...Xe(this._def),schema:this,typeName:qe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Pf({...Xe(this._def),innerType:this,defaultValue:t,typeName:qe.ZodDefault})}brand(){return new Uw({typeName:qe.ZodBranded,type:this,...Xe(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Lf({...Xe(this._def),innerType:this,catchValue:t,typeName:qe.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return oh.create(this,e)}readonly(){return zf.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const iG=/^c[^\s-]{8,}$/i,aG=/^[0-9a-z]+$/,oG=/^[0-9A-HJKMNP-TV-Z]{26}$/i,lG=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,cG=/^[a-z0-9_-]{21}$/i,uG=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,dG=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,fG=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,hG="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let wv;const pG=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,mG=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,gG=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,yG=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,vG=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,bG=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,XR="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",xG=new RegExp(`^${XR}$`);function WR(n){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`),e}function wG(n){return new RegExp(`^${WR(n)}$`)}function eD(n){let e=`${XR}T${WR(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function SG(n,e){return!!((e==="v4"||!e)&&pG.test(n)||(e==="v6"||!e)&&gG.test(n))}function kG(n,e){if(!uG.test(n))return!1;try{const[t]=n.split("."),r=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function _G(n,e){return!!((e==="v4"||!e)&&mG.test(n)||(e==="v6"||!e)&&yG.test(n))}class Ns extends rt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ve.string){const i=this._getOrReturnCtx(e);return de(i,{code:se.invalid_type,expected:ve.string,received:i.parsedType}),He}const r=new tr;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),de(s,{code:se.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),de(s,{code:se.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,c=e.data.length<i.value;(o||c)&&(s=this._getOrReturnCtx(e,s),o?de(s,{code:se.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):c&&de(s,{code:se.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")fG.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"email",code:se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")wv||(wv=new RegExp(hG,"u")),wv.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"emoji",code:se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")lG.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"uuid",code:se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")cG.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"nanoid",code:se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")iG.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"cuid",code:se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")aG.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"cuid2",code:se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")oG.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"ulid",code:se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),de(s,{validation:"url",code:se.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"regex",code:se.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),de(s,{code:se.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),de(s,{code:se.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),de(s,{code:se.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?eD(i).test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{code:se.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?xG.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{code:se.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?wG(i).test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{code:se.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?dG.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"duration",code:se.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?SG(e.data,i.version)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"ip",code:se.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?kG(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"jwt",code:se.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?_G(e.data,i.version)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"cidr",code:se.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?vG.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"base64",code:se.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?bG.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"base64url",code:se.invalid_string,message:i.message}),r.dirty()):vt.assertNever(i);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(s=>e.test(s),{validation:t,code:se.invalid_string,...Ae.errToObj(r)})}_addCheck(e){return new Ns({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ae.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ae.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ae.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ae.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ae.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ae.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ae.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ae.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ae.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ae.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ae.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ae.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ae.errToObj(e)})}datetime(e){var t,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...Ae.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ae.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ae.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Ae.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...Ae.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Ae.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Ae.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Ae.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Ae.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Ae.errToObj(t)})}nonempty(e){return this.min(1,Ae.errToObj(e))}trim(){return new Ns({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ns({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ns({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Ns.create=n=>{var e;return new Ns({checks:[],typeName:qe.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...Xe(n)})};function EG(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=t>r?t:r,i=parseInt(n.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class so extends rt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ve.number){const i=this._getOrReturnCtx(e);return de(i,{code:se.invalid_type,expected:ve.number,received:i.parsedType}),He}let r;const s=new tr;for(const i of this._def.checks)i.kind==="int"?vt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{code:se.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),de(r,{code:se.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),de(r,{code:se.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?EG(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),de(r,{code:se.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{code:se.not_finite,message:i.message}),s.dirty()):vt.assertNever(i);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Ae.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Ae.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Ae.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Ae.toString(t))}setLimit(e,t,r,s){return new so({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Ae.toString(s)}]})}_addCheck(e){return new so({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ae.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ae.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ae.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ae.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ae.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Ae.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Ae.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ae.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ae.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&vt.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}so.create=n=>new so({checks:[],typeName:qe.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...Xe(n)});class io extends rt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ve.bigint)return this._getInvalidInput(e);let r;const s=new tr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),de(r,{code:se.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),de(r,{code:se.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),de(r,{code:se.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):vt.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return de(t,{code:se.invalid_type,expected:ve.bigint,received:t.parsedType}),He}gte(e,t){return this.setLimit("min",e,!0,Ae.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Ae.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Ae.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Ae.toString(t))}setLimit(e,t,r,s){return new io({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Ae.toString(s)}]})}_addCheck(e){return new io({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ae.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ae.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ae.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ae.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Ae.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}io.create=n=>{var e;return new io({checks:[],typeName:qe.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...Xe(n)})};class Tf extends rt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ve.boolean){const r=this._getOrReturnCtx(e);return de(r,{code:se.invalid_type,expected:ve.boolean,received:r.parsedType}),He}return pr(e.data)}}Tf.create=n=>new Tf({typeName:qe.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...Xe(n)});class _l extends rt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ve.date){const i=this._getOrReturnCtx(e);return de(i,{code:se.invalid_type,expected:ve.date,received:i.parsedType}),He}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return de(i,{code:se.invalid_date}),He}const r=new tr;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),de(s,{code:se.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),de(s,{code:se.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):vt.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new _l({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Ae.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Ae.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}_l.create=n=>new _l({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:qe.ZodDate,...Xe(n)});class Dm extends rt{_parse(e){if(this._getType(e)!==ve.symbol){const r=this._getOrReturnCtx(e);return de(r,{code:se.invalid_type,expected:ve.symbol,received:r.parsedType}),He}return pr(e.data)}}Dm.create=n=>new Dm({typeName:qe.ZodSymbol,...Xe(n)});class Cf extends rt{_parse(e){if(this._getType(e)!==ve.undefined){const r=this._getOrReturnCtx(e);return de(r,{code:se.invalid_type,expected:ve.undefined,received:r.parsedType}),He}return pr(e.data)}}Cf.create=n=>new Cf({typeName:qe.ZodUndefined,...Xe(n)});class Af extends rt{_parse(e){if(this._getType(e)!==ve.null){const r=this._getOrReturnCtx(e);return de(r,{code:se.invalid_type,expected:ve.null,received:r.parsedType}),He}return pr(e.data)}}Af.create=n=>new Af({typeName:qe.ZodNull,...Xe(n)});class Su extends rt{constructor(){super(...arguments),this._any=!0}_parse(e){return pr(e.data)}}Su.create=n=>new Su({typeName:qe.ZodAny,...Xe(n)});class yl extends rt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return pr(e.data)}}yl.create=n=>new yl({typeName:qe.ZodUnknown,...Xe(n)});class Ki extends rt{_parse(e){const t=this._getOrReturnCtx(e);return de(t,{code:se.invalid_type,expected:ve.never,received:t.parsedType}),He}}Ki.create=n=>new Ki({typeName:qe.ZodNever,...Xe(n)});class Pm extends rt{_parse(e){if(this._getType(e)!==ve.undefined){const r=this._getOrReturnCtx(e);return de(r,{code:se.invalid_type,expected:ve.void,received:r.parsedType}),He}return pr(e.data)}}Pm.create=n=>new Pm({typeName:qe.ZodVoid,...Xe(n)});class Os extends rt{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),s=this._def;if(t.parsedType!==ve.array)return de(t,{code:se.invalid_type,expected:ve.array,received:t.parsedType}),He;if(s.exactLength!==null){const o=t.data.length>s.exactLength.value,c=t.data.length<s.exactLength.value;(o||c)&&(de(t,{code:o?se.too_big:se.too_small,minimum:c?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(de(t,{code:se.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(de(t,{code:se.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((o,c)=>s.type._parseAsync(new ri(t,o,t.path,c)))).then(o=>tr.mergeArray(r,o));const i=[...t.data].map((o,c)=>s.type._parseSync(new ri(t,o,t.path,c)));return tr.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new Os({...this._def,minLength:{value:e,message:Ae.toString(t)}})}max(e,t){return new Os({...this._def,maxLength:{value:e,message:Ae.toString(t)}})}length(e,t){return new Os({...this._def,exactLength:{value:e,message:Ae.toString(t)}})}nonempty(e){return this.min(1,e)}}Os.create=(n,e)=>new Os({type:n,minLength:null,maxLength:null,exactLength:null,typeName:qe.ZodArray,...Xe(e)});function Oc(n){if(n instanceof qt){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=ei.create(Oc(r))}return new qt({...n._def,shape:()=>e})}else return n instanceof Os?new Os({...n._def,type:Oc(n.element)}):n instanceof ei?ei.create(Oc(n.unwrap())):n instanceof oo?oo.create(Oc(n.unwrap())):n instanceof si?si.create(n.items.map(e=>Oc(e))):n}class qt extends rt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=vt.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==ve.object){const f=this._getOrReturnCtx(e);return de(f,{code:se.invalid_type,expected:ve.object,received:f.parsedType}),He}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof Ki&&this._def.unknownKeys==="strip"))for(const f in s.data)o.includes(f)||c.push(f);const u=[];for(const f of o){const p=i[f],m=s.data[f];u.push({key:{status:"valid",value:f},value:p._parse(new ri(s,m,s.path,f)),alwaysSet:f in s.data})}if(this._def.catchall instanceof Ki){const f=this._def.unknownKeys;if(f==="passthrough")for(const p of c)u.push({key:{status:"valid",value:p},value:{status:"valid",value:s.data[p]}});else if(f==="strict")c.length>0&&(de(s,{code:se.unrecognized_keys,keys:c}),r.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const p of c){const m=s.data[p];u.push({key:{status:"valid",value:p},value:f._parse(new ri(s,m,s.path,p)),alwaysSet:p in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const f=[];for(const p of u){const m=await p.key,y=await p.value;f.push({key:m,value:y,alwaysSet:p.alwaysSet})}return f}).then(f=>tr.mergeObjectSync(r,f)):tr.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return Ae.errToObj,new qt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var s,i,o,c;const u=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,t,r).message)!==null&&o!==void 0?o:r.defaultError;return t.code==="unrecognized_keys"?{message:(c=Ae.errToObj(e).message)!==null&&c!==void 0?c:u}:{message:u}}}:{}})}strip(){return new qt({...this._def,unknownKeys:"strip"})}passthrough(){return new qt({...this._def,unknownKeys:"passthrough"})}extend(e){return new qt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new qt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:qe.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new qt({...this._def,catchall:e})}pick(e){const t={};return vt.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new qt({...this._def,shape:()=>t})}omit(e){const t={};return vt.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new qt({...this._def,shape:()=>t})}deepPartial(){return Oc(this)}partial(e){const t={};return vt.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?t[r]=s:t[r]=s.optional()}),new qt({...this._def,shape:()=>t})}required(e){const t={};return vt.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof ei;)i=i._def.innerType;t[r]=i}}),new qt({...this._def,shape:()=>t})}keyof(){return tD(vt.objectKeys(this.shape))}}qt.create=(n,e)=>new qt({shape:()=>n,unknownKeys:"strip",catchall:Ki.create(),typeName:qe.ZodObject,...Xe(e)});qt.strictCreate=(n,e)=>new qt({shape:()=>n,unknownKeys:"strict",catchall:Ki.create(),typeName:qe.ZodObject,...Xe(e)});qt.lazycreate=(n,e)=>new qt({shape:n,unknownKeys:"strip",catchall:Ki.create(),typeName:qe.ZodObject,...Xe(e)});class Mf extends rt{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function s(i){for(const c of i)if(c.result.status==="valid")return c.result;for(const c of i)if(c.result.status==="dirty")return t.common.issues.push(...c.ctx.common.issues),c.result;const o=i.map(c=>new zr(c.ctx.common.issues));return de(t,{code:se.invalid_union,unionErrors:o}),He}if(t.common.async)return Promise.all(r.map(async i=>{const o={...t,common:{...t.common,issues:[]},parent:null};return{result:await i._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const u of r){const f={...t,common:{...t.common,issues:[]},parent:null},p=u._parseSync({data:t.data,path:t.path,parent:f});if(p.status==="valid")return p;p.status==="dirty"&&!i&&(i={result:p,ctx:f}),f.common.issues.length&&o.push(f.common.issues)}if(i)return t.common.issues.push(...i.ctx.common.issues),i.result;const c=o.map(u=>new zr(u));return de(t,{code:se.invalid_union,unionErrors:c}),He}}get options(){return this._def.options}}Mf.create=(n,e)=>new Mf({options:n,typeName:qe.ZodUnion,...Xe(e)});const ji=n=>n instanceof jf?ji(n.schema):n instanceof Rs?ji(n.innerType()):n instanceof Rf?[n.value]:n instanceof ao?n.options:n instanceof Df?vt.objectValues(n.enum):n instanceof Pf?ji(n._def.innerType):n instanceof Cf?[void 0]:n instanceof Af?[null]:n instanceof ei?[void 0,...ji(n.unwrap())]:n instanceof oo?[null,...ji(n.unwrap())]:n instanceof Uw||n instanceof zf?ji(n.unwrap()):n instanceof Lf?ji(n._def.innerType):[];class og extends rt{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ve.object)return de(t,{code:se.invalid_type,expected:ve.object,received:t.parsedType}),He;const r=this.discriminator,s=t.data[r],i=this.optionsMap.get(s);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(de(t,{code:se.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),He)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const s=new Map;for(const i of t){const o=ji(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const c of o){if(s.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);s.set(c,i)}}return new og({typeName:qe.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:s,...Xe(r)})}}function Qb(n,e){const t=Pi(n),r=Pi(e);if(n===e)return{valid:!0,data:n};if(t===ve.object&&r===ve.object){const s=vt.objectKeys(e),i=vt.objectKeys(n).filter(c=>s.indexOf(c)!==-1),o={...n,...e};for(const c of i){const u=Qb(n[c],e[c]);if(!u.valid)return{valid:!1};o[c]=u.data}return{valid:!0,data:o}}else if(t===ve.array&&r===ve.array){if(n.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<n.length;i++){const o=n[i],c=e[i],u=Qb(o,c);if(!u.valid)return{valid:!1};s.push(u.data)}return{valid:!0,data:s}}else return t===ve.date&&r===ve.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class Nf extends rt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(Zb(i)||Zb(o))return He;const c=Qb(i.value,o.value);return c.valid?((Yb(i)||Yb(o))&&t.dirty(),{status:t.value,value:c.data}):(de(r,{code:se.invalid_intersection_types}),He)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Nf.create=(n,e,t)=>new Nf({left:n,right:e,typeName:qe.ZodIntersection,...Xe(t)});class si extends rt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.array)return de(r,{code:se.invalid_type,expected:ve.array,received:r.parsedType}),He;if(r.data.length<this._def.items.length)return de(r,{code:se.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),He;!this._def.rest&&r.data.length>this._def.items.length&&(de(r,{code:se.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const i=[...r.data].map((o,c)=>{const u=this._def.items[c]||this._def.rest;return u?u._parse(new ri(r,o,r.path,c)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>tr.mergeArray(t,o)):tr.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new si({...this._def,rest:e})}}si.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new si({items:n,typeName:qe.ZodTuple,rest:null,...Xe(e)})};class Of extends rt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.object)return de(r,{code:se.invalid_type,expected:ve.object,received:r.parsedType}),He;const s=[],i=this._def.keyType,o=this._def.valueType;for(const c in r.data)s.push({key:i._parse(new ri(r,c,r.path,c)),value:o._parse(new ri(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?tr.mergeObjectAsync(t,s):tr.mergeObjectSync(t,s)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof rt?new Of({keyType:e,valueType:t,typeName:qe.ZodRecord,...Xe(r)}):new Of({keyType:Ns.create(),valueType:e,typeName:qe.ZodRecord,...Xe(t)})}}class Lm extends rt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.map)return de(r,{code:se.invalid_type,expected:ve.map,received:r.parsedType}),He;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([c,u],f)=>({key:s._parse(new ri(r,c,r.path,[f,"key"])),value:i._parse(new ri(r,u,r.path,[f,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const u of o){const f=await u.key,p=await u.value;if(f.status==="aborted"||p.status==="aborted")return He;(f.status==="dirty"||p.status==="dirty")&&t.dirty(),c.set(f.value,p.value)}return{status:t.value,value:c}})}else{const c=new Map;for(const u of o){const f=u.key,p=u.value;if(f.status==="aborted"||p.status==="aborted")return He;(f.status==="dirty"||p.status==="dirty")&&t.dirty(),c.set(f.value,p.value)}return{status:t.value,value:c}}}}Lm.create=(n,e,t)=>new Lm({valueType:e,keyType:n,typeName:qe.ZodMap,...Xe(t)});class El extends rt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.set)return de(r,{code:se.invalid_type,expected:ve.set,received:r.parsedType}),He;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(de(r,{code:se.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(de(r,{code:se.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());const i=this._def.valueType;function o(u){const f=new Set;for(const p of u){if(p.status==="aborted")return He;p.status==="dirty"&&t.dirty(),f.add(p.value)}return{status:t.value,value:f}}const c=[...r.data.values()].map((u,f)=>i._parse(new ri(r,u,r.path,f)));return r.common.async?Promise.all(c).then(u=>o(u)):o(c)}min(e,t){return new El({...this._def,minSize:{value:e,message:Ae.toString(t)}})}max(e,t){return new El({...this._def,maxSize:{value:e,message:Ae.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}El.create=(n,e)=>new El({valueType:n,minSize:null,maxSize:null,typeName:qe.ZodSet,...Xe(e)});class Kc extends rt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ve.function)return de(t,{code:se.invalid_type,expected:ve.function,received:t.parsedType}),He;function r(c,u){return jm({data:c,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Om(),wu].filter(f=>!!f),issueData:{code:se.invalid_arguments,argumentsError:u}})}function s(c,u){return jm({data:c,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Om(),wu].filter(f=>!!f),issueData:{code:se.invalid_return_type,returnTypeError:u}})}const i={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof ku){const c=this;return pr(async function(...u){const f=new zr([]),p=await c._def.args.parseAsync(u,i).catch(b=>{throw f.addIssue(r(u,b)),f}),m=await Reflect.apply(o,this,p);return await c._def.returns._def.type.parseAsync(m,i).catch(b=>{throw f.addIssue(s(m,b)),f})})}else{const c=this;return pr(function(...u){const f=c._def.args.safeParse(u,i);if(!f.success)throw new zr([r(u,f.error)]);const p=Reflect.apply(o,this,f.data),m=c._def.returns.safeParse(p,i);if(!m.success)throw new zr([s(p,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Kc({...this._def,args:si.create(e).rest(yl.create())})}returns(e){return new Kc({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new Kc({args:e||si.create([]).rest(yl.create()),returns:t||yl.create(),typeName:qe.ZodFunction,...Xe(r)})}}class jf extends rt{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}jf.create=(n,e)=>new jf({getter:n,typeName:qe.ZodLazy,...Xe(e)});class Rf extends rt{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return de(t,{received:t.data,code:se.invalid_literal,expected:this._def.value}),He}return{status:"valid",value:e.data}}get value(){return this._def.value}}Rf.create=(n,e)=>new Rf({value:n,typeName:qe.ZodLiteral,...Xe(e)});function tD(n,e){return new ao({values:n,typeName:qe.ZodEnum,...Xe(e)})}class ao extends rt{constructor(){super(...arguments),$d.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return de(t,{expected:vt.joinValues(r),received:t.parsedType,code:se.invalid_type}),He}if(Rm(this,$d)||JR(this,$d,new Set(this._def.values)),!Rm(this,$d).has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return de(t,{received:t.data,code:se.invalid_enum_value,options:r}),He}return pr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return ao.create(e,{...this._def,...t})}exclude(e,t=this._def){return ao.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}$d=new WeakMap;ao.create=tD;class Df extends rt{constructor(){super(...arguments),qd.set(this,void 0)}_parse(e){const t=vt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ve.string&&r.parsedType!==ve.number){const s=vt.objectValues(t);return de(r,{expected:vt.joinValues(s),received:r.parsedType,code:se.invalid_type}),He}if(Rm(this,qd)||JR(this,qd,new Set(vt.getValidEnumValues(this._def.values))),!Rm(this,qd).has(e.data)){const s=vt.objectValues(t);return de(r,{received:r.data,code:se.invalid_enum_value,options:s}),He}return pr(e.data)}get enum(){return this._def.values}}qd=new WeakMap;Df.create=(n,e)=>new Df({values:n,typeName:qe.ZodNativeEnum,...Xe(e)});class ku extends rt{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ve.promise&&t.common.async===!1)return de(t,{code:se.invalid_type,expected:ve.promise,received:t.parsedType}),He;const r=t.parsedType===ve.promise?t.data:Promise.resolve(t.data);return pr(r.then(s=>this._def.type.parseAsync(s,{path:t.path,errorMap:t.common.contextualErrorMap})))}}ku.create=(n,e)=>new ku({type:n,typeName:qe.ZodPromise,...Xe(e)});class Rs extends rt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===qe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{de(r,o),o.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async c=>{if(t.value==="aborted")return He;const u=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return u.status==="aborted"?He:u.status==="dirty"||t.value==="dirty"?Ic(u.value):u});{if(t.value==="aborted")return He;const c=this._def.schema._parseSync({data:o,path:r.path,parent:r});return c.status==="aborted"?He:c.status==="dirty"||t.value==="dirty"?Ic(c.value):c}}if(s.type==="refinement"){const o=c=>{const u=s.refinement(c,i);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?He:(c.status==="dirty"&&t.dirty(),o(c.value),{status:t.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?He:(c.status==="dirty"&&t.dirty(),o(c.value).then(()=>({status:t.value,value:c.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!kl(o))return o;const c=s.transform(o.value,i);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>kl(o)?Promise.resolve(s.transform(o.value,i)).then(c=>({status:t.value,value:c})):o);vt.assertNever(s)}}Rs.create=(n,e,t)=>new Rs({schema:n,typeName:qe.ZodEffects,effect:e,...Xe(t)});Rs.createWithPreprocess=(n,e,t)=>new Rs({schema:e,effect:{type:"preprocess",transform:n},typeName:qe.ZodEffects,...Xe(t)});class ei extends rt{_parse(e){return this._getType(e)===ve.undefined?pr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ei.create=(n,e)=>new ei({innerType:n,typeName:qe.ZodOptional,...Xe(e)});class oo extends rt{_parse(e){return this._getType(e)===ve.null?pr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}oo.create=(n,e)=>new oo({innerType:n,typeName:qe.ZodNullable,...Xe(e)});class Pf extends rt{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===ve.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Pf.create=(n,e)=>new Pf({innerType:n,typeName:qe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Xe(e)});class Lf extends rt{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Ef(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new zr(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new zr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Lf.create=(n,e)=>new Lf({innerType:n,typeName:qe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Xe(e)});class zm extends rt{_parse(e){if(this._getType(e)!==ve.nan){const r=this._getOrReturnCtx(e);return de(r,{code:se.invalid_type,expected:ve.nan,received:r.parsedType}),He}return{status:"valid",value:e.data}}}zm.create=n=>new zm({typeName:qe.ZodNaN,...Xe(n)});const TG=Symbol("zod_brand");class Uw extends rt{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class oh extends rt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?He:i.status==="dirty"?(t.dirty(),Ic(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?He:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,t){return new oh({in:e,out:t,typeName:qe.ZodPipeline})}}class zf extends rt{_parse(e){const t=this._def.innerType._parse(e),r=s=>(kl(s)&&(s.value=Object.freeze(s.value)),s);return Ef(t)?t.then(s=>r(s)):r(t)}unwrap(){return this._def.innerType}}zf.create=(n,e)=>new zf({innerType:n,typeName:qe.ZodReadonly,...Xe(e)});function wA(n,e){const t=typeof n=="function"?n(e):typeof n=="string"?{message:n}:n;return typeof t=="string"?{message:t}:t}function nD(n,e={},t){return n?Su.create().superRefine((r,s)=>{var i,o;const c=n(r);if(c instanceof Promise)return c.then(u=>{var f,p;if(!u){const m=wA(e,r),y=(p=(f=m.fatal)!==null&&f!==void 0?f:t)!==null&&p!==void 0?p:!0;s.addIssue({code:"custom",...m,fatal:y})}});if(!c){const u=wA(e,r),f=(o=(i=u.fatal)!==null&&i!==void 0?i:t)!==null&&o!==void 0?o:!0;s.addIssue({code:"custom",...u,fatal:f})}}):Su.create()}const CG={object:qt.lazycreate};var qe;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(qe||(qe={}));const AG=(n,e={message:`Input not instance of ${n.name}`})=>nD(t=>t instanceof n,e),rD=Ns.create,sD=so.create,MG=zm.create,NG=io.create,iD=Tf.create,OG=_l.create,jG=Dm.create,RG=Cf.create,DG=Af.create,PG=Su.create,LG=yl.create,zG=Ki.create,VG=Pm.create,BG=Os.create,IG=qt.create,UG=qt.strictCreate,FG=Mf.create,$G=og.create,qG=Nf.create,HG=si.create,KG=Of.create,GG=Lm.create,ZG=El.create,YG=Kc.create,QG=jf.create,JG=Rf.create,XG=ao.create,WG=Df.create,eZ=ku.create,SA=Rs.create,tZ=ei.create,nZ=oo.create,rZ=Rs.createWithPreprocess,sZ=oh.create,iZ=()=>rD().optional(),aZ=()=>sD().optional(),oZ=()=>iD().optional(),lZ={string:n=>Ns.create({...n,coerce:!0}),number:n=>so.create({...n,coerce:!0}),boolean:n=>Tf.create({...n,coerce:!0}),bigint:n=>io.create({...n,coerce:!0}),date:n=>_l.create({...n,coerce:!0})},cZ=He;var Et=Object.freeze({__proto__:null,defaultErrorMap:wu,setErrorMap:rG,getErrorMap:Om,makeIssue:jm,EMPTY_PATH:sG,addIssueToContext:de,ParseStatus:tr,INVALID:He,DIRTY:Ic,OK:pr,isAborted:Zb,isDirty:Yb,isValid:kl,isAsync:Ef,get util(){return vt},get objectUtil(){return Gb},ZodParsedType:ve,getParsedType:Pi,ZodType:rt,datetimeRegex:eD,ZodString:Ns,ZodNumber:so,ZodBigInt:io,ZodBoolean:Tf,ZodDate:_l,ZodSymbol:Dm,ZodUndefined:Cf,ZodNull:Af,ZodAny:Su,ZodUnknown:yl,ZodNever:Ki,ZodVoid:Pm,ZodArray:Os,ZodObject:qt,ZodUnion:Mf,ZodDiscriminatedUnion:og,ZodIntersection:Nf,ZodTuple:si,ZodRecord:Of,ZodMap:Lm,ZodSet:El,ZodFunction:Kc,ZodLazy:jf,ZodLiteral:Rf,ZodEnum:ao,ZodNativeEnum:Df,ZodPromise:ku,ZodEffects:Rs,ZodTransformer:Rs,ZodOptional:ei,ZodNullable:oo,ZodDefault:Pf,ZodCatch:Lf,ZodNaN:zm,BRAND:TG,ZodBranded:Uw,ZodPipeline:oh,ZodReadonly:zf,custom:nD,Schema:rt,ZodSchema:rt,late:CG,get ZodFirstPartyTypeKind(){return qe},coerce:lZ,any:PG,array:BG,bigint:NG,boolean:iD,date:OG,discriminatedUnion:$G,effect:SA,enum:XG,function:YG,instanceof:AG,intersection:qG,lazy:QG,literal:JG,map:GG,nan:MG,nativeEnum:WG,never:zG,null:DG,nullable:nZ,number:sD,object:IG,oboolean:oZ,onumber:aZ,optional:tZ,ostring:iZ,pipeline:sZ,preprocess:rZ,promise:eZ,record:KG,set:ZG,strictObject:UG,string:rD,symbol:jG,transformer:SA,tuple:HG,undefined:RG,union:FG,unknown:LG,void:VG,NEVER:cZ,ZodIssueCode:se,quotelessJson:nG,ZodError:zr});const uZ=Et.object({email:Et.string().email("Invalid email address"),password:Et.string().min(6,"Password must be at least 6 characters long"),fullname:Et.string().min(1,"Full name is required"),phone:Et.string().optional()}),dZ=Et.object({addressLine1:Et.string().min(1,"Address line 1 is required").max(100,"Address line 1 must be less than 100 characters long"),addressLine2:Et.string().max(100,"Address line 1 must be less than 100 characters long").optional(),state:Et.string().min(1,"State is required").max(50,"State must be less than 100 characters long"),postalCode:Et.string().max(10,"State must be less than 100 characters long").optional(),city:Et.string().min(1,"City is required").max(25,"City must be less than 25 characters long"),country:Et.string().min(1,"Country is required").max(25,"country must be less than 25 characters long")}),fZ=n=>!n||!Array.isArray(n.content)||n.content.length==0?!0:!n.content.some(e=>e.type==="paragraph"&&e.content&&Array.isArray(e.content)&&e.content.some(t=>t.type==="text"&&t.text&&t.text.trim()!=="")),hZ=Et.object({name:Et.string().min(1,"name is required").max(30,"name must be less than 30 characters long"),brand:Et.string().min(1,"brand is required").max(30,"brand must be less than 30 characters long"),slug:Et.string().min(1,"slug is required").regex(/^[a-z0-9]+(?:[-_][a-z0-9]+)*$/,"slug must be a valid slug"),features:Et.array(Et.object({value:Et.string().min(1,"Caracteristic value is required")})),description:Et.custom(n=>!fZ(n),{message:"Description is required"}),variants:Et.array(Et.object({id:Et.string().optional(),stock:Et.number().min(0,"Stock must be greater than or equal to 0"),price:Et.number().min(1,"Price must be greater than 0"),size:Et.string().min(1,"Size is required"),color:Et.string().regex(/^(#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})|(rgb|hsl)a?\(\s*([0-9]{1,3}\s*,\s*){2}[0-9]{1,3}\s*(,\s*(0|1|0?\.\d+))?\s*\))$/,"El color debe ser un valor válido en formato hexadecimal, RGB o HSL"),colorName:Et.string().min(1,"color name is required")})).min(1,"Variant is required"),images:Et.array(Et.any()).min(1,"Images are required")}),pZ=()=>{const{register:n,handleSubmit:e,formState:{errors:t}}=Bw({defaultValues:{email:"",password:"",fullname:"",phone:""},resolver:Iw(uZ)}),{mutate:r,isPending:s}=ZV(),{session:i,isLoading:o}=Ol(),c=e(u=>{const{email:f,password:p,fullname:m,phone:y}=u;r({email:f,password:p,fullname:m,phone:y})});return o?v.jsx(On,{}):i?v.jsx(nm,{to:"/"}):v.jsxs("div",{className:"h-full flex flex-col items-center mt-12 gap-5",children:[v.jsx("h1",{className:"text-4xl font-bold capitalize text-black",children:"Register"}),v.jsx("p",{className:"text-sm font-medium text-black",children:"Please register to create an account"}),s?v.jsx(On,{}):v.jsxs(v.Fragment,{children:[v.jsxs("form",{className:"flex flex-col items-center gap-4 w-full mt-10 sm:w-[400px] lg:w-[500px]",onSubmit:c,children:[v.jsx("input",{type:"text",placeholder:"Enter your full name",className:"border border-slate-200 text-black px-5 py-4 placeholder:text-gray-600 text-sm rounded-full w-full",...n("fullname")}),t.fullname&&v.jsx("p",{className:"text-red-500",children:t.fullname.message}),v.jsx("input",{type:"text",placeholder:"Enter your phone number",className:"border border-slate-200 text-black px-5 py-4 placeholder:text-gray-600 text-sm rounded-full w-full",...n("phone")}),t.phone&&v.jsx("p",{className:"text-red-500",children:t.phone.message}),v.jsx("input",{type:"email",placeholder:"Enter your email",className:"border border-slate-200 text-black px-5 py-4 placeholder:text-gray-600 text-sm rounded-full w-full",...n("email")}),t.email&&v.jsx("p",{className:"text-red-500",children:t.email.message}),v.jsx("input",{type:"password",placeholder:"Enter your password",className:"border border-slate-200 text-black px-5 py-4 placeholder:text-gray-600 text-sm rounded-full w-full",...n("password")}),t.password&&v.jsx("p",{className:"text-red-500",children:t.password.message}),v.jsx("button",{className:"bg-black text-white uppercase font-semibold tracking-widest text-xs py-4 rounded-full w-full mt-5",children:"Register"})]}),v.jsxs("p",{className:"text-sm font-medium text-stone-800",children:["Already have an account?",v.jsx(bt,{to:"/login",className:"underline ml-2",children:"Login"})]})]})]})},mZ=()=>{const{session:n,isLoading:e}=Ol(),{data:t,isLoading:r}=YV(n==null?void 0:n.user.id),s=bn();if(M.useEffect(()=>{Ue.auth.onAuthStateChange(async(o,c)=>{(o==="SIGNED_OUT"||!c)&&s("/login",{replace:!0})})},[s]),e||r)return v.jsx(On,{});const i=async()=>{await ZM()};return v.jsxs("div",{className:"flex flex-col gap-5",children:[v.jsxs("nav",{className:"flex justify-center gap-10 text-sm font-medium text-gray-950",children:[v.jsx(cu,{to:"/account/orders",className:({isActive:o})=>`${o?"underline hover:text-gray-500":"hover:underline hover:text-gray-500"}`,children:"Orders"}),t==="admin"&&v.jsxs(cu,{to:"/dashboard/product",className:"flex items-center gap-1 hover:underline text-gray-950",children:["Dashboard",v.jsx(sM,{size:16,className:"inline-block"})]}),v.jsx("button",{className:"hover:underline ",onClick:i,children:"Logout"})]}),v.jsx("main",{className:"container mt-12 flex-1",children:v.jsx(ix,{})})]})},gZ=["Order ID","Date","Status","Total"],yZ=({orders:n})=>{const e=bn();return v.jsx("div",{className:"relative w-full h-full ",children:v.jsxs("table",{className:"text-sm w-full caption-bottom overflow-auto",children:[v.jsx("thead",{className:"border border-gray-200 pb-3",children:v.jsx("tr",{className:"text-sm font-bold text-stone-900",children:gZ.map((t,r)=>v.jsx("th",{className:"h-12 px-4 text-left",children:t},r))})}),v.jsx("tbody",{className:"[&_tr:last-child]:border-0",children:n.map(t=>v.jsxs("tr",{className:"cursor-pointer hover:bg-gray-100 transition-colors duration-200",onClick:()=>e(`/account/orders/${t.id}`),children:[v.jsx("td",{className:"p-4 font-medium -tracking-tighter text-stone-600",children:t.id}),v.jsx("td",{className:"p-4 font-medium -tracking-tighter text-stone-600",children:Zf(t.created_at)}),v.jsx("td",{className:"p-4 font-medium -tracking-tighter text-stone-600",children:t.status}),v.jsx("td",{className:"p-4 font-medium -tracking-tighter text-stone-600",children:Ht(t.total_amount)})]},t.id))})]})})},vZ=()=>{const{data:n,isLoading:e}=JV();return e||!n?v.jsx(On,{}):v.jsxs("div",{className:"w-full max-w-7xl mx-auto px-5 lg:px-12 flex flex-col gap-6 items-center",children:[v.jsxs("div",{className:"flex gap-2",children:[v.jsx("h1",{className:"text-3xl font-bold text-black",children:"Orders"}),v.jsx("span",{className:`w-5 h-5 rounded-full bg-black text-white text-[11px] flex justify-center
            items-center mt-1 font-semibold`,children:n.length})]}),n.length===0?v.jsxs(v.Fragment,{children:[v.jsx("p",{className:"text-slate-600 text-[13px]",children:"You don't have any orders yet"}),v.jsx(bt,{to:"/Shop All",className:"bg-black text-white uppercase font-semibold tracking-widest text-xs py-4 rounded-full px-8 ",children:"Start Shopping"})]}):v.jsx(yZ,{orders:n})]})},jd=({register:n,errors:e,name:t,classname:r,placeholder:s})=>v.jsxs(v.Fragment,{children:[v.jsx("div",{className:`border border-slate-200 rounded-md overflow-hidden py-2 ${e[t]&&"border-red-500"}  ${r}`,children:v.jsx("input",{type:"text",className:"w-full px-3 py-1 text-sm focus:outline-none",placeholder:s,...n(t)})}),e[t]&&v.jsx("p",{className:"text-red-500 text-xs",children:e[t].message})]}),aD=()=>{const n=_r(t=>t.items),e=_r(t=>t.totalAmount);return v.jsxs("div",{children:[v.jsx("ul",{className:"space-y-5",children:n.map(t=>v.jsxs("li",{className:"flex justify-between items-center gap-5",children:[v.jsxs("div",{className:"flex relative border border-stone-300 bg-stone-200 rounded-md",children:[v.jsx("img",{src:t.image,alt:t.name,className:"w-20 h-20 object-contain"}),v.jsx("span",{className:`w-5 h-5 rounded-full bg-gray-500 text-white flex items-center justify-center 
                            text-xs absolute -right-1 -top-2 font-medium`,children:t.quantity})]}),v.jsxs("div",{className:"flex-1 space-y-3",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("p",{className:"font-semibold text-stone-950",children:t.name}),v.jsx("p",{className:"font-medium text-sm text-stone-600 mt-2",children:Ht(t.price*t.quantity)})]}),v.jsx("div",{className:"flex gap-3",children:v.jsxs("p",{className:"text-[13px] text-gray-600",children:[t.size," / ",t.color]})})]})]},t.variantId))}),v.jsxs("div",{className:"mt-4 p-7 space-y-5",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("p",{className:"text-sm font-medium text-stone-700",children:"Delivery"}),v.jsx("p",{className:"text-sm font-medium text-stone-600 uppercase",children:"Free"})]}),v.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[v.jsx("p",{className:"text-black",children:"Total:"}),v.jsx("p",{className:"text-black",children:Ht(e)})]})]})]})},bZ=()=>{const{register:n,formState:{errors:e},handleSubmit:t}=Bw({resolver:Iw(dZ)}),r=t(f=>{const p={address:f,cartItems:i.map(m=>({variantId:m.variantId,quantity:m.quantity,price:m.price})),totalAmount:o};c(p,{onSuccess:()=>{s()}}),console.log(f)}),s=_r(f=>f.clearCart),i=_r(f=>f.items),o=_r(f=>f.totalAmount),{mutate:c,isPending:u}=QV();return u?v.jsxs("div",{className:"flex flex-col gap-3 h-screen items-center justify-center",children:[v.jsx(On,{}),v.jsx("p",{className:"text-sm font-medium text-stone-500",children:"We are processing your order"})]}):v.jsx("div",{children:v.jsxs("form",{className:"flex flex-col gap-6",onSubmit:r,children:[v.jsxs("div",{className:"flex flex-col gap-3",children:[v.jsx("h3",{className:"text-lg font-semibold tracking-normal text-slate-950",children:"Delivery"}),v.jsx(jd,{register:n,errors:e,name:"addressLine1",placeholder:"Address line 1",classname:"text-black"}),v.jsx(jd,{register:n,errors:e,name:"addressLine2",placeholder:"Address line 2 (optional)",classname:"text-black"}),v.jsx(jd,{register:n,errors:e,name:"state",placeholder:"State",classname:"text-black"}),v.jsx(jd,{register:n,errors:e,name:"postalCode",placeholder:"Postal code (optional)",classname:"text-black"}),v.jsx(jd,{register:n,errors:e,name:"city",placeholder:"City",classname:"text-black"}),v.jsxs("select",{className:"border border-slate-200 rounded-md p-3",...n("country"),children:[v.jsx("option",{value:"USA",children:"USA"}),v.jsx("option",{value:"Canada",children:"Canada"}),v.jsx("option",{value:"Dominican Republic",children:"Dominican Republic"})]})]}),v.jsxs("div",{className:"flex flex-col gap-3",children:[v.jsx("p",{className:"text-sm font-medium text-slate-950",children:"Shipping method"}),v.jsxs("div",{className:"flex items-center justify-between text-sm border border-slate-600 bg-stone-100 py-4 rounded-md px-6",children:[v.jsx("span",{className:"font-normal text-slate-600",children:"Standard"}),v.jsx("span",{className:"font-semibold text-slate-950",children:"Free"})]})]}),v.jsxs("div",{className:"flex flex-col ",children:[v.jsx("div",{className:`flex justify-between items-center text-sm border border-slate-600 bg-stone-100 py-4 rounded-ss-md rounded-se-md
                px-6`,children:v.jsx("span",{className:"text-black",children:"Cash money "})}),v.jsxs("div",{className:"bg-stone-100 text-[13px] p-5 space-y-0.5 border border-gray-200 rounded-ee-md text-black",children:[v.jsx("p",{children:"Purchase with cash"}),v.jsx("p",{children:"Cash money"}),v.jsx("p",{children:"Promo code: 1245335543"}),v.jsx("p",{children:"method of payment: Cash"}),v.jsx("p",{children:Ht(o)})]})]}),v.jsxs("div",{className:"flex flex-col gap-6",children:[v.jsx("h3",{className:"font-semibold text-3xl text-slate-950",children:"Summary"}),v.jsx(aD,{})]}),v.jsx("button",{className:"bg-black text-white py-3.5 font-bold tracking-wide rounded-md mt-2",type:"submit",children:"finalize the purchase"})]})})},xZ=()=>{const n=_r(r=>r.totalItemsInCart),{isLoading:e}=Ol(),t=bn();return M.useEffect(()=>{Ue.auth.onAuthStateChange(async(r,s)=>{(r==="SIGNED_OUT"||!s)&&t("/login")})},[t]),e?v.jsx(On,{}):v.jsxs("div",{style:{minHeight:"calc(100vh - 100px)"},children:[v.jsx("header",{className:"h-[100px] bg-white text-black flex justify-center items-center flex-col px-10 border-b border-slate-200",children:v.jsx(bt,{to:"/",className:"md:self-start",children:v.jsx(px,{})})}),v.jsx("main",{className:"w-full h-full flex relative",children:n===0?v.jsxs("div",{className:"flex flex-col items-center justify-center gap-5 w-full",style:{minHeight:"calc(100vh - 100px)"},children:[v.jsx("p",{className:"text-sm font-medium tracking-tight text-slate-500",children:"Cart is empty"}),v.jsx(bt,{to:"/shop all",className:"py-4 bg-black text-white rounded-full px-7 text-xs uppercase tracking-widest font-semibold",children:"Go shopping"})]}):v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"w-full md:w-[50%] p-10",children:v.jsx(bZ,{})}),v.jsx("div",{className:"bg-stone-100 w-[50%] sticky top-0 right-0 p-10 hidden md:block",style:{minHeight:"calc(100vh - 100px)"},children:v.jsx(aD,{})})]})})]})},wZ=()=>{const{id:n}=Kf(),{data:e,isLoading:t,isError:r}=rN(Number(n)),{isLoading:s}=Ol(),i=bn();return M.useEffect(()=>{Ue.auth.onAuthStateChange(async(o,c)=>{(o==="SIGNED_OUT"||!c)&&i("/login")})},[i]),r?v.jsx("div",{className:"text-red-500 text-3xl",children:"Order not found"}):t||!e||s?v.jsx(On,{}):v.jsxs("div",{className:"flex flex-col h-screen",children:[v.jsx("header",{className:"text-black flex items-center justify-center flex-col py-12",children:v.jsx(bt,{to:"/",className:"self-center",children:v.jsx(px,{})})}),v.jsxs("main",{className:"w-full max-w-7xl mx-auto px-5 lg:px-12 flex-1 flex flex-col items-center gap-10",children:[v.jsxs("div",{className:"flex gap-3 items-center",children:[v.jsx(N4,{size:40,className:"text-black"}),v.jsxs("p",{className:"text-4xl text-black",children:["Thank you, ",e.customer.full_name,"!"]})]}),v.jsxs("div",{className:"w-full border border-slate-200 p-5 rounded-md space-y-3 md:w-[600px]",children:[v.jsx("h3",{className:"font-medium text-3xl text-stone-950",children:"Your order has been confirmed "}),v.jsx("p",{className:"text-sm text-stone-800",children:"Thank you for your order in A&N E-commerce. For payments via transfer we share the following information with you"}),v.jsxs("div",{className:"space-y-0.5 text-sm text-stone-950",children:[v.jsx("p",{children:"Purchase with cash"}),v.jsx("p",{children:"Cash money"}),v.jsx("p",{children:"Promo code: 1245335543"}),v.jsx("p",{children:"method of payment: Cash"})]}),v.jsxs("p",{className:"text-sm text-stone-800",children:["Once the transfer is made, send proof to the email ",v.jsx(bt,{to:"/Contact Us",className:"font-bold",children:v.jsx("strong",{children:"angelemilioaquino6@gmail.com"})})]})]}),v.jsxs("div",{className:"w-full border border-slate-200 p-5 rounded-md space-y-3 md:w-[600px]",children:[v.jsx("h3",{className:"font-semibold text-sm text-stone-950",children:"Detail for your orders"}),v.jsxs("div",{className:"flex flex-col gap-5",children:[v.jsx("ul",{className:"space-y-3",children:e.orderItems.map((o,c)=>v.jsxs("li",{className:"flex justify-between items-center gap-3",children:[v.jsx("div",{className:"flex",children:v.jsx("img",{src:o.productImage,alt:o.productName,className:"w-16 h-16 object-contain"})}),v.jsxs("div",{className:"flex-1 space-y-2",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("p",{className:"font-semibold text-stone-950",children:o.productName}),v.jsx("p",{className:"text-sm text-stone-600 mt-1 font-medium",children:Ht(o.price)})]}),v.jsx("div",{className:"flex gap-3 ",children:v.jsxs("p",{className:"text-[13px] text-stone-600",children:[o.size," / ",o.color_name]})})]})]},c))}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"font-semibold text-stone-950",children:"Total:"}),v.jsx("span",{className:"font-semibold text-stone-950",children:Ht(e.totalAmount)})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[v.jsxs("div",{className:"flex flex-col text-sm",children:[v.jsx("p",{className:"font-semibold text-stone-950",children:"Contact information:"}),v.jsx("p",{className:"text-stone-500 text-sm",children:e.customer.email})]}),v.jsxs("div",{className:"flex flex-col text-sm",children:[v.jsx("p",{className:"font-semibold text-stone-950",children:"Method of payment:"}),v.jsxs("p",{className:"text-stone-500 text-sm",children:["Bank deposit - ",Ht(e.totalAmount)]})]}),v.jsxs("div",{className:"flex flex-col text-sm",children:[v.jsx("p",{className:"font-semibold text-stone-950",children:"Shipping address"}),v.jsx("p",{children:e.address.addressLine1}),v.jsxs("p",{className:"text-stone-500 text-sm",children:[" ",e.address.addressLine2&&e.address.addressLine2]}),v.jsx("p",{className:"text-stone-500 text-sm",children:e.address.city}),v.jsx("p",{className:"text-stone-500 text-sm",children:e.address.state}),v.jsx("p",{className:"text-stone-500 text-sm",children:e.address.country})]}),v.jsxs("div",{className:"flex flex-col text-sm",children:[v.jsx("p",{className:"font-semibold text-stone-950",children:"Method of delivery"}),v.jsx("p",{className:"text-stone-500 text-sm",children:"Standard"})]})]})]}),v.jsxs("div",{className:"flex flex-col justify-between items-center w-full mb-5 gap-3 sm:flex-row md:w-[600px] md:gap-0",children:[v.jsxs("p",{className:"text-sm text-stone-950",children:["Need help? ",v.jsx(bt,{to:"/Contact Us",className:"text-stone-950 underline hover:text-stone-500",children:"Contact us"})]}),v.jsx(bt,{to:"/Shop All",className:"text-white bg-black py-4 text-sm rounded-md px-5 tracking-tight font-semibold",children:"Go shopping"})]})]})]})},SZ=["Product","Quantity","Total"],kZ=()=>{const{id:n}=Kf(),{data:e,isLoading:t}=rN(Number(n)),r=bn();return t||!e?v.jsx(On,{}):v.jsxs("div",{children:[v.jsxs("div",{className:"w-full max-w-7xl mx-auto px-5 lg:px-12",children:[v.jsxs("button",{className:`border rounded-full border-slate-200 px-5 flex items-center justify-center gap-2 text-xs font-medium 
            uppercase tracking-widest hover:bg-stone-100 transition-all text-stone-950`,onClick:()=>r(-1),children:[v.jsx(A4,{size:18}),"Return to orders"]}),v.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[v.jsxs("h1",{className:"text-3xl font-bold text-stone-950",children:["Order #",n]}),v.jsx("p",{className:"text-sm text-stone-600",children:Zf(e.created_at)})]}),v.jsx("div",{}),v.jsx("div",{})]}),v.jsxs("div",{className:"flex flex-col mt-10 mb-5 gap-10",children:[v.jsxs("table",{className:"text-sm w-full caption-bottom overflow-auto",children:[v.jsx("thead",{children:v.jsx("tr",{children:SZ.map((s,i)=>v.jsx("th",{className:"h-12 text-center uppercase tracking-widest text-stone-600 font-medium",children:s},i))})}),v.jsx("tbody",{children:e.orderItems.map((s,i)=>v.jsxs("tr",{className:"border-b border-gray-200",children:[v.jsxs("td",{className:"p-4 font-medium tracking-tighter flex gap-3 items-center",children:[v.jsx("img",{src:s.productImage,alt:s.productName,className:"h-20 w-20 object-contain rounded-lg"}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("h3",{className:"text-stone-500 text-xs",children:s.productName}),v.jsxs("p",{className:"text-stone-500 text-xs",children:[s.color_name," / ",s.size]}),v.jsx("p",{className:"text-stone-500 text-xs",children:Ht(s.price)})]})]}),v.jsx("td",{className:"p-4 font-medium tracking-tighter text-center text-stone-600",children:s.quantity}),v.jsx("td",{className:"p-4 font-medium tracking-tighter text-center text-stone-600",children:Ht(s.price*s.quantity)})]},i))})]}),v.jsxs("div",{className:"flex flex-col gap-3 text-slate-600 text-sm self-end w-1/2",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("p",{className:"text-sm text-stone-600",children:"Subtotal"}),v.jsx("p",{className:"text-sm  text-stone-600",children:Ht(e.totalAmount)})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("p",{className:"text-sm text-stone-600",children:"Delivery (Standard)"}),v.jsx("p",{className:"text-sm text-stone-600",children:Ht(0)})]}),v.jsxs("div",{className:"flex justify-between text-black font-semibold",children:[v.jsx("p",{className:"text-md font-extrabold text-stone-950",children:"Total"}),v.jsxs("p",{className:"text-md font-bold text-stone-950",children:[" ",Ht(e.totalAmount)]})]})]}),v.jsxs("div",{className:"flex flex-col gap-3",children:[v.jsx("h2",{className:"text-lg font-bold text-black",children:" Address"}),v.jsxs("div",{className:"border border-slate-200 p-5 flex flex-col gap-5",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("h3",{className:"font-medium text-black text-sm",children:"Client:"}),v.jsx("p",{className:"text-stone-600 text-sm",children:e.customer.full_name})]}),v.jsxs("div",{className:"flex flex-col gap-1 text-sm",children:[v.jsx("h3",{className:"font-medium text-black text-base",children:"Delivery"}),v.jsx("p",{className:"text-stone-600 text-sm",children:e.address.addressLine1}),v.jsx("p",{className:"text-stone-600 text-sm",children:e.address.addressLine2&&e.address.addressLine2}),v.jsx("p",{className:"text-stone-600 text-sm",children:e.address.city}),v.jsx("p",{className:"text-stone-600 text-sm",children:e.address.state}),v.jsx("p",{className:"text-stone-600 text-sm",children:e.address.postalCode}),v.jsx("p",{className:"text-stone-600 text-sm",children:e.address.country})]})]})]})]})]})},_Z=()=>v.jsx(bt,{to:"/",className:"flex items-center",children:v.jsx("img",{src:"/logoRemove.png",alt:"Logo",height:100,width:100})}),EZ=()=>{const n=async()=>{await ZM()},e=bn();return v.jsxs("div",{className:"w-[120px] bg-stone-800 text-white flex flex-col gap-10 items-center p-5 fixed h-screen lg:w-[250px]",children:[v.jsx(_Z,{}),v.jsx("nav",{className:"w-full space-y-5 flex-1",children:Y4.map(t=>v.jsxs(cu,{to:t.href,className:({isActive:r})=>`flex items-center justify-center gap-3 pl-0 py-3 transition-all duration-300 rounded-md ${r?"text-white bg-stone-700":"hover:text-white hover:bg-stone-700"} lg:pl-5 lg:justify-start `,children:[t.icon,v.jsx("p",{className:"font-semibold text-white hidden lg:block",children:t.title})]},t.id))}),v.jsxs("button",{className:`bg-red-500 w-full py-[10px] rounded-md flex items-center justify-center gap-2 font-semibold text-sm
      hover:underline`,onClick:async()=>{await n(),e("/login")},children:[v.jsx("span",{className:"hidden lg:block",children:"Log Out "}),v.jsx(D4,{size:20,className:"inline-block text-white"})]})]})},TZ=["Client","Date","Status","Total"],CZ=[{value:"Pending",label:"Pending"},{value:"Paid",label:"Paid"},{value:"Shipped",label:"Shipped"},{value:"Delivered",label:"Delivered"}],AZ=({orders:n})=>{const e=bn(),{mutate:t}=XV(),r=(s,i)=>{t({id:s,status:i})};return v.jsx("div",{className:"relative w-full h-full",children:v.jsxs("table",{className:"text-sm w-full caption-bottom overflow-auto",children:[v.jsx("thead",{className:"border-b border-gray-200 pb-3",children:v.jsx("tr",{className:"text-sm font-bold text-gray-900",children:TZ.map((s,i)=>v.jsx("th",{className:"h-12 px-4 text-left",children:s},i))})}),v.jsx("tbody",{className:"[&_tr:last-child]:border-0",children:n.map(s=>{var i,o;return v.jsxs("tr",{className:"cursor-pointer hover:bg-gray-200 transition-colors duration-200",onClick:()=>e(`/dashboard/order/${s.id}`),children:[v.jsxs("td",{className:"p-4 font-medium tracking-tighter flex flex-col gap-1 text-gray-600",children:[v.jsx("span",{className:"font-semibold text-gray-600",children:(i=s.customers)==null?void 0:i.full_name}),v.jsx("span",{children:(o=s.customers)==null?void 0:o.email})]}),v.jsx("td",{className:"p-4 font-medium tracking-tighter text-gray-600",children:Zf(s.created_at)}),v.jsx("td",{className:"p-4 font-medium tracking-tighter text-gray-600",children:v.jsx("select",{value:s.status,onClick:c=>c.stopPropagation(),className:"border border-gray-300 p-2 rounded text-gray-600",onChange:c=>r(s.id,c.target.value),children:CZ.map(c=>v.jsx("option",{value:c.value,children:c.label},c.value))})}),v.jsx("td",{className:"p-4 font-medium tracking-tighter text-gray-600",children:Ht(s.total_amount)})]},s.id)})})]})})},Vp=({content:n})=>v.jsx("td",{className:"p-4 font-medium tracking-tighter text-gray-600",children:n}),MZ=["","Name","Variants","Price","Stock","Date Added",""],NZ=()=>{const[n,e]=M.useState(null),[t,r]=M.useState({}),[s,i]=M.useState(1),{products:o,isLoading:c,totalProducts:u}=J5({page:s}),{mutate:f,isPending:p}=HV(),m=w=>{e(n===w?null:w)},y=(w,S)=>{r({...t,[w]:S})},b=w=>{f(w),e(null)};return!o||c||!u||p?v.jsx(On,{}):v.jsxs("div",{className:"flex flex-col flex-1 border border-gray-200 rounded-lg p-5 bg-white",children:[v.jsx("h1",{className:"font-bold text-xl text-stone-950",children:"Products"}),v.jsx("p",{className:"text-sm mt-1 mb-8 font-regular text-gray-500",children:"Manage your products and view your sales statistics."}),v.jsx("div",{className:"relative w-full h-full",children:v.jsxs("table",{className:"text-sm w-full caption-bottom overflow-auto",children:[v.jsx("thead",{children:v.jsx("tr",{className:"text-sm font-bold text-gray-950",children:MZ.map((w,S)=>v.jsx("th",{className:"h-12 px-4 text-left",children:w},S))})}),v.jsx("tbody",{children:o.map((w,S)=>{const k=t[w.id]??0,E=w.variants[k]||{};return v.jsxs("tr",{children:[v.jsx("td",{className:"p-4 align-middle sm:table-cell",children:v.jsx("img",{src:w.images[0]||"https://ui.shadcn.com/placeholder.svg",alt:"Imagen Product",loading:"lazy",decoding:"async",className:"w-16 h-16 aspect-square rounded-md object-contain"})}),v.jsx(Vp,{content:w.name}),v.jsx("td",{className:"p-4 font-medium tracking-tighter text-gray-600",children:v.jsx("select",{className:"border border-gray-300 rounded-md p-1 w-full",onChange:T=>y(w.id,Number(T.target.value)),value:k,children:w.variants.map((T,N)=>v.jsxs("option",{value:N,children:[T.color_name," - ",T.size]},T.id))})}),v.jsx(Vp,{content:Ht(E==null?void 0:E.price)}),v.jsx(Vp,{content:(E.stock||0).toString()}),v.jsx(Vp,{content:Zf(w.created_at)}),v.jsxs("td",{className:"relative",children:[v.jsx("button",{className:"text-slate-900",onClick:()=>m(S),children:v.jsx(j4,{})}),n===S&&v.jsxs("div",{className:"absolute right-0 mt-2 bg-white border border-gray-200 rounded-md shadow-xl z-10 w-[120px]",role:"menu",children:[v.jsxs(bt,{to:`/dashboard/product/edit/${w.slug}`,className:"flex items-center gap-1 w-full text-left px-4 py-2 text-xs font-medium text-gray-700 hover:bg-gray-100",children:["Edit",v.jsx(sM,{size:13,className:"inline-block"})]}),v.jsx("button",{className:"block w-full text-left px-4 py-2 text-xs font-medium text-gray-700 hover:bg-gray-100",onClick:()=>b(w.id),children:"Delete"})]})]})]},S)})})]})}),v.jsx(qO,{page:s,setPage:i,totalItems:u})]})},Rd=({className:n,titleSection:e,children:t})=>v.jsxs("div",{className:`bg-white border border-gray-300 shadow-sm flex flex-col gap-4 p-7 h-fit
        ${n}`,children:[e&&v.jsxs("h2",{className:"font-bold tracking-tight text-xl text-stone-950",children:[e,":"]}),t]}),Sv=({className:n,label:e,placeholder:t,type:r,name:s,register:i,errors:o,required:c})=>v.jsxs("div",{className:"flex flex-col gap-2 ",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("label",{htmlFor:s,className:"text-xs font-bold tracking-tight capitalize text-slate-900",children:[e,":"]}),c&&v.jsx("span",{className:`${c&&"text-red-500 text-sm mr-3"} font-bold self-end`,children:"*"})]}),v.jsx("div",{className:`border border-gray-300 rounded-md overflow-hidden gap-5 items-center ${o[s]?"border-red-500":""}`,children:v.jsx("input",{type:r,placeholder:t,id:s,className:`py-1.5 text-sm px-3 font-medium tracking-tighter w-full text-slate-600 outline-none focus:outline-none ${n}`,autoComplete:"off",...i(s)})})]}),OZ=({control:n,errors:e})=>{const{fields:t,append:r,remove:s}=ZR({control:n,name:"features"}),[i,o]=M.useState(""),c=()=>{i.trim()!==""&&(r({value:i}),o(""))},u=f=>{f.key==="Enter"&&(f.preventDefault(),c())};return v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsx("label",{className:"text-xs font-bold tracking-tight capitalize text-gray-900",children:"Features:"}),v.jsx("ul",{className:"space-y-3 pl-5",children:t.map((f,p)=>v.jsxs("li",{className:"flex items-center justify-between gap-2",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"bg-slate-500 h-2 w-2 rounded-full"}),v.jsx("span",{className:"text-sm text-slate-600 font-medium",children:f.value})]}),v.jsx("button",{type:"button",onClick:()=>s(p),className:"text-sm text-red-500 font-bold pr-2 hover:scale-110",children:"X"})]},f.id))}),v.jsx("input",{type:"text",placeholder:"Example: 100% cotton",className:`border border-gray-300 py-1.5 text-sm rounded-md px-3 font-medium tracking-tighter text-slate-600
                outline-none focus:outline-none ${e.features?"border-red-500":""} `,autoComplete:"off",value:i,onChange:f=>o(f.target.value),onKeyDown:u}),e.features&&v.jsx("p",{className:"text-red-500 text-xs mt-1",children:e.features.message})]})},jZ=["Stock","Price","Size","Color",""],RZ=({control:n,errors:e,register:t})=>{const{fields:r,append:s,remove:i}=ZR({control:n,name:"variants"}),[o,c]=M.useState([]),u=()=>{s({stock:0,price:0,size:"",color:"",colorName:""})},f=w=>{i(w)},p=w=>{c(S=>S.map((k,E)=>E===w?!k:k))},m=lA({control:n,name:r.map((w,S)=>`variants.${S}.color`)}),y=lA({control:n,name:r.map((w,S)=>`variants.${S}.colorName`)}),b=w=>{var S;if(w){const k=Object.keys(w);if(k.length>0)return(S=w[k[0]])==null?void 0:S.message}};return M.useEffect(()=>{c(w=>r.map((S,k)=>w[k]||!1))},[r]),v.jsxs("div",{className:"flex flex-col gap-3",children:[v.jsxs("div",{className:"space-y-4 border-b border-slate-200 pb-6",children:[v.jsx("div",{className:"grid grid-cols-5 gap-4 justify-start",children:jZ.map((w,S)=>v.jsx("p",{className:"text-xs font-semibold text-slate-800",children:w},S))}),r.map((w,S)=>v.jsxs("div",{children:[v.jsxs("div",{className:"grid grid-cols-5 gap-4 items-center",children:[v.jsx("input",{type:"number",placeholder:"Stock",...t(`variants.${S}.stock`,{valueAsNumber:!0}),className:"border border-slate-300 rounded-md px-3 py-1.5 text-xs font-semibold placeholder:font-normal focus:outline-none focus:ring-2 focus:ring-slate-400 appearance-none"}),v.jsx("input",{type:"number",step:.01,placeholder:"Price",...t(`variants.${S}.price`,{valueAsNumber:!0}),className:"border border-slate-300 rounded-md px-3 py-1.5 text-xs font-semibold placeholder:font-normal focus:outline-none focus:ring-2 focus:ring-slate-400 appearance-none"}),v.jsx("input",{type:"text",placeholder:"Size: S, M, L",...t(`variants.${S}.size`,{}),className:"border border-slate-300 rounded-md px-3 py-1.5 text-xs font-semibold placeholder:font-normal focus:outline-none focus:ring-2 focus:ring-slate-400 appearance-none"}),v.jsxs("div",{className:"flex relative",children:[o[S]&&v.jsxs("div",{className:`absolute bg-stone-100 rounded-md bottom-8 left-[40px] p-1
                                            w-[100px] h-fit space-y-2 `,children:[v.jsx("input",{type:"color",...t(`variants.${S}.color`),className:"rounded-md px-3 py-1.5 w-full"}),v.jsx("input",{type:"text",placeholder:"Blue",...t(`variants.${S}.colorName`),className:"rounded-md px-3 py-1.5 w-full text-xs focus:outline-none font-semibold placeholder:font-normal"})]}),v.jsx("button",{className:"border border-slate-300 w-full h-8 cursor-pointer rounded text-xs font-medium flex items-center justify-center",type:"button",onClick:()=>p(S),children:m[S]&&y[S]?v.jsx("span",{className:"inline-block w-4 h-4 rounded-full bg-block",style:{backgroundColor:m[S]}}):"Add"})]}),v.jsx("div",{className:"flex justify-end",children:v.jsx("button",{type:"button",onClick:()=>f(S),className:"p-1",children:v.jsx(nM,{size:20})})})]}),e.variants&&e.variants[S]&&v.jsx("p",{className:"text-red-500 text-xs mt-1",children:b(e.variants[S])})]},w.id))]}),v.jsxs("button",{type:"button",onClick:u,className:"px-4 py-2 text-slate-800 rounded-md text-sm font-semibold tracking-tight flex items-center gap-1 self-center hover:bg-slate-100",children:[v.jsx(rM,{size:16}),"Add Variant"]}),r.length===0&&e.variants&&v.jsx("p",{className:"text-red-500 text-xs mt-1",children:"At least one variant is required"})]})},DZ=({setValue:n,watch:e,errors:t})=>{const[r,s]=M.useState([]),i=e("images");M.useEffect(()=>{if(i&&i.length>0&&r.length===0){const u=i.map(f=>({previewUrl:f}));s(u),n("images",i)}},[i,n,r.length]);const o=u=>{if(u.target.files){const f=Array.from(u.target.files).map(m=>({file:m,previewUrl:URL.createObjectURL(m)})),p=[...r,...f];s(p),n("images",p.map(m=>m.file||m.previewUrl))}},c=u=>{const f=r.filter((p,m)=>m!==u);s(f),n("images",f.map(p=>p.file||p.previewUrl))};return v.jsxs(v.Fragment,{children:[v.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:o,className:`block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0
    file:text-sm file:font-semibold file:bg-slate-100 file:text-slate-700 hover:file:bg-slate-200`}),v.jsx("div",{className:"grid gird-cols-4 lg:grid-cols-2 gap-4",children:r.map((u,f)=>v.jsxs("div",{className:"border border-gray-200 w-full h-20 rounded-md p-1 relative lg:h-28",children:[v.jsx("img",{src:u.previewUrl,alt:`Preview ${f}`,className:"rounded-md w-full h-full object-contain"}),v.jsx("button",{type:"button",onClick:()=>c(f),className:"flex justify-end absolute -top-3 -right-4 hover:scale-110 transition-all z-10",children:v.jsx(nM,{size:22,className:"text-red-500"})})]},f))}),(i==null?void 0:i.length)===0&&t.images&&v.jsx("p",{className:"text-red-500 text-xs mt-1",children:t.images.message})]})},PZ=({editor:n})=>{const e=t=>`w-8 h-7 grid place-items-center  border text-sm rounded transition-all ${t?"border-blue-500 bg-blue-100 text-blue-700":"border-gray-300 bg-white text-gray-600 hover:bg-gray-100"}`;return n?v.jsxs("div",{className:"flex flex-wrap gap-3",children:[v.jsx("button",{onClick:()=>n.chain().focus().toggleHeading({level:1}).run(),className:e(n.isActive("heading",{level:1})),type:"button",children:"H1"}),v.jsx("button",{onClick:()=>n.chain().focus().toggleHeading({level:2}).run(),className:e(n.isActive("heading",{level:2})),type:"button",children:"H2"}),v.jsx("button",{onClick:()=>n.chain().focus().toggleHeading({level:3}).run(),className:e(n.isActive("heading",{level:3})),type:"button",children:"H3"}),v.jsx("button",{onClick:()=>n.chain().focus().toggleBold().run(),className:e(n.isActive("bold")),type:"button",children:"N"}),v.jsx("button",{onClick:()=>n.chain().focus().toggleItalic().run(),className:e(n.isActive("italic")),type:"button",children:"K"}),v.jsx("button",{onClick:()=>n.chain().focus().toggleStrike().run(),className:e(n.isActive("strike")),type:"button",children:"S"})]}):null},LZ=({setValue:n,errors:e,initialContent:t})=>{const r=NR({extensions:[PR],content:t,onUpdate:({editor:s})=>{const i=s.getJSON();n("description",i,{shouldValidate:!0})},editorProps:{attributes:{class:"focus:outline-none min-h-[150px] prose prose-sm sm:prose-base"}}});return M.useEffect(()=>{t&&r&&r.commands.setContent(t)},[t,r]),v.jsxs("div",{className:"space-y-3",children:[v.jsx(PZ,{editor:r}),v.jsx(AR,{editor:r}),e.description&&v.jsx("p",{className:"text-red-500 text-sm mt-1",children:e.description.message||"Description is required"})]})},oD=({titleForm:n})=>{const{register:e,handleSubmit:t,formState:{errors:r},setValue:s,watch:i,control:o}=Bw({resolver:Iw(hZ)}),{slug:c}=Kf(),{product:u,isLoading:f}=nN(c||""),{mutate:p,isPending:m}=qV(),{mutate:y,isPending:b}=KV((u==null?void 0:u.id)||""),w=bn();M.useEffect(()=>{u&&!f&&(s("name",u.name),s("slug",u.slug),s("brand",u.brand),s("features",u.features.map(E=>({value:E}))),s("variants",u.variants.map(E=>({id:E.id,stock:E.stock,price:E.price,color:E.color,size:E.size,colorName:E.color_name}))),s("images",u.images),s("description",u.description))},[u,s,f]);const S=t(E=>{const T=E.features.map(N=>N.value);c?y({name:E.name,brand:E.brand,slug:E.slug,variants:E.variants,images:E.images,description:E.description,features:T}):p({name:E.name,brand:E.brand,slug:E.slug,variants:E.variants,images:E.images,description:E.description,features:T})}),k=i("name");return M.useEffect(()=>{if(!k)return;const E=O3(k);s("slug",E,{shouldValidate:!0})},[k,s]),m||b||f?v.jsx(On,{}):v.jsxs("div",{className:"flex flex-col gap-6 relative",children:[v.jsx("div",{className:"flex justify-between items-center",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("button",{className:`bg-white p-1.5 rounded-md shadow-sm border border-slate-200 transition-all 
                        group-hover:scale-105`,onClick:()=>w(-1),children:v.jsx(C4,{size:18,className:"text-gray-950 transition-all group-hover:scale-125"})}),v.jsx("h2",{className:"font-bold tracking-tight capitalize text-gray-950",children:n})]})}),v.jsxs("form",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 auto-rows-max flex-1",onSubmit:S,children:[v.jsxs(Rd,{titleSection:"Products details",className:"lg:col-span-2 lg:rows-span-2",children:[v.jsx(Sv,{type:"text",placeholder:"Example: T-shirt Nike",label:"Name",name:"name",register:e,errors:r,required:!0}),v.jsx(OZ,{control:o,errors:r})]}),v.jsxs(Rd,{children:[v.jsx(Sv,{type:"text",label:"Slug",placeholder:"t-shirt-nike",name:"slug",register:e,errors:r}),v.jsx(Sv,{type:"text",label:"Brand",placeholder:"Nike",name:"brand",register:e,errors:r,required:!0})]}),v.jsx(Rd,{titleSection:"Product Variants",className:"lg:col-span-2 h-fit",children:v.jsx(RZ,{control:o,errors:r,register:e})}),v.jsx(Rd,{titleSection:"Product Images",children:v.jsx(DZ,{errors:r,setValue:s,watch:i})}),v.jsx(Rd,{titleSection:"Product Description",className:"col-span-full",children:v.jsx(LZ,{setValue:s,errors:r,initialContent:u==null?void 0:u.description})}),v.jsxs("div",{className:"flex gap-3 absolute top-0 right-0 ",children:[v.jsx("button",{className:"btn-secondary-outline",type:"button",onClick:()=>w(-1),children:"Cancel"}),v.jsx("button",{className:"btn-primary",type:"submit",children:"Save product"})]})]})]})},zZ=()=>{const n=bn(),{isLoading:e,session:t}=Ol(),[r,s]=M.useState(!0);return M.useEffect(()=>{(async()=>{var u;s(!0);const o=await YM();o||n("/login"),await QM((u=o.session)==null?void 0:u.user.id)!=="admin"&&n("/",{replace:!0}),s(!1)})(),Ue.auth.onAuthStateChange(async(o,c)=>{(o==="SIGNED_OUT"||!c)&&n("/login",{replace:!0})})},[n]),e||r||!t?v.jsx(On,{}):v.jsxs("div",{className:"flex bg-gray-100 min-h-screen",children:[v.jsx(EZ,{}),v.jsx("main",{className:"container m-5 mt-7 flex-1 text-slate-800 ml-[140px] lg:ml-[270px]",children:v.jsx(ix,{})})]})},VZ=()=>{const[n,e]=M.useState(null),t=r=>{e(s=>s===r?null:r)};return v.jsx("div",{className:"bg-[#fdfdfd] min-h-screen px-4 py-10",children:v.jsxs("div",{className:"max-w-3xl mx-auto",children:[v.jsx("h1",{className:"text-[150px] font-bold text-[#090922] leading-none mb-4",children:"FAQs"}),v.jsx("h3",{className:"text-black text-xl font-semibold mb-6",children:"Answering Your Questions"}),v.jsx("div",{className:"border border-[#1b1919] rounded-xl p-4 mb-3 cursor-pointer transition-transform hover:bg-[#18286e] hover:text-white hover:scale-[1.02]",onClick:()=>t("answer1"),children:v.jsx("h5",{className:"text-lg font-medium text-stone-950 hover:text-white",children:"What brands do you offer?"})}),n==="answer1"&&v.jsx("div",{className:"bg-[#e1e8ed] border border-black text-stone-950 rounded-xl p-4 mb-4",children:v.jsx("p",{children:"We work with well-known brands like Nike, Adidas, Zara, H&M, and many more."})}),v.jsx("div",{className:"border border-[#1b1919] rounded-xl p-4 mb-3 cursor-pointer transition-transform hover:bg-[#18286e] hover:text-white hover:scale-[1.02]",onClick:()=>t("answer2"),children:v.jsx("h5",{className:"text-lg font-medium text-stone-950 hover:text-white",children:"How can I make a purchase?"})}),n==="answer2"&&v.jsx("div",{className:"bg-[#e1e8ed] border border-black text-stone-950 rounded-xl p-4 mb-4",children:v.jsx("p",{children:"Just add the products to your cart and follow the secure checkout steps on our platform."})}),v.jsx("div",{className:"border border-[#1b1919] rounded-xl p-4 mb-3 cursor-pointer transition-transform hover:bg-[#18286e] hover:text-white hover:scale-[1.02]",onClick:()=>t("answer3"),children:v.jsx("h5",{className:"text-lg font-medium text-stone-950 hover:text-white",children:"How long does shipping take?"})}),n==="answer3"&&v.jsx("div",{className:"bg-[#e1e8ed] border border-black text-stone-950 rounded-xl p-4 mb-4",children:v.jsx("p",{children:"Delivery time depends on your location but typically ranges from 3 to 7 business days."})}),v.jsx("div",{className:"border border-[#1b1919] rounded-xl p-4 mb-3 cursor-pointer transition-transform hover:bg-[#18286e] hover:text-white hover:scale-[1.02]",onClick:()=>t("answer4"),children:v.jsx("h5",{className:"text-lg font-medium text-stone-950 hover:text-white",children:"Can I return a product if it doesn’t fit?"})}),n==="answer4"&&v.jsx("div",{className:"bg-[#e1e8ed] border border-black text-stone-950 rounded-xl p-4 mb-4",children:v.jsx("p",{children:"Yes, we accept returns within the first 30 days after your purchase."})}),v.jsx("div",{className:"border border-[#1b1919] rounded-xl p-4 mb-3 cursor-pointer transition-transform hover:bg-[#18286e] hover:text-white hover:scale-[1.02]",onClick:()=>t("answer5"),children:v.jsx("h5",{className:"text-lg font-medium text-stone-950 hover:text-white",children:"Do you offer discounts or promotions?"})}),n==="answer5"&&v.jsx("div",{className:"bg-[#e1e8ed] border border-black text-stone-950 rounded-xl p-4 mb-4",children:v.jsx("p",{children:"Yes, check our deals section and subscribe to our newsletter to get exclusive discounts."})})]})})},BZ=()=>{const[n,e]=M.useState(null),t=r=>{e(s=>s===r?null:r)};return v.jsx("div",{className:"bg-[#fdfdfd] min-h-screen px-4 py-10",children:v.jsxs("div",{className:"max-w-3xl mx-auto",children:[v.jsx("h1",{className:"text-[140px] font-bold text-[#090922] leading-none mb-4",children:"RETURN"}),v.jsx("h4",{className:"text-black text-xl font-semibold mb-2",children:"Return Policies"}),v.jsx("h5",{className:"text-lg mb-6 text-stone-700",children:"At AN&Co., we want you to be completely satisfied with your purchase. If you need to return a product, please follow these guidelines:"}),v.jsx("div",{className:"border border-[#1b1919] rounded-xl p-4 mb-3 cursor-pointer transition-transform hover:bg-[#18286e] hover:text-white hover:scale-[1.02]",onClick:()=>t("answer1"),children:v.jsx("h5",{className:"text-lg font-medium text-stone-950 hover:text-white",children:"Return Period"})}),n==="answer1"&&v.jsx("div",{className:"bg-[#e1e8ed] border border-black text-stone-950 rounded-xl p-4 mb-4",children:v.jsx("p",{children:"You have up to 30 days from the purchase date to return a product."})}),v.jsx("div",{className:"border border-[#1b1919] rounded-xl p-4 mb-3 cursor-pointer transition-transform hover:bg-[#18286e] hover:text-white hover:scale-[1.02]",onClick:()=>t("answer2"),children:v.jsx("h5",{className:"text-lg font-medium text-stone-950 hover:text-white",children:"Product Condition"})}),n==="answer2"&&v.jsx("div",{className:"bg-[#e1e8ed] border border-black text-stone-950 rounded-xl p-4 mb-4",children:v.jsx("p",{children:"The product must be in its original condition, unused, and with tags attached."})}),v.jsx("div",{className:"border border-[#1b1919] rounded-xl p-4 mb-3 cursor-pointer transition-transform hover:bg-[#18286e] hover:text-white hover:scale-[1.02]",onClick:()=>t("answer3"),children:v.jsx("h5",{className:"text-lg font-medium text-stone-950 hover:text-white",children:"Return Process"})}),n==="answer3"&&v.jsx("div",{className:"bg-[#e1e8ed] border border-black text-stone-950 rounded-xl p-4 mb-4",children:v.jsx("p",{children:"Returns can be made at our physical stores or by mail."})})]})})},IZ=()=>{const[n,e]=M.useState(null),t=r=>{e(s=>s===r?null:r)};return v.jsx("div",{className:"bg-[#fdfdfd] min-h-screen px-4 py-10",children:v.jsxs("div",{className:"max-w-3xl mx-auto",children:[v.jsx("h1",{className:"text-[140px] font-bold text-[#090922] leading-none mb-4",children:"Shipping"}),v.jsx("h4",{className:"text-black text-xl font-semibold mb-2",children:"Shipping Policies"}),v.jsx("h5",{className:"text-lg mb-6 text-stone-700",children:"Learn about our different shipping options to suit your needs:"}),v.jsx("div",{className:"border border-[#1b1919] rounded-xl p-4 mb-3 cursor-pointer transition-transform hover:bg-[#18286e] hover:text-white hover:scale-[1.02]",onClick:()=>t("answer1"),children:v.jsx("h5",{className:"text-lg font-medium text-stone-950 hover:text-white",children:"Standard Shipping"})}),n==="answer1"&&v.jsx("div",{className:"bg-[#e1e8ed] border border-black text-stone-950 rounded-xl p-4 mb-4",children:v.jsx("p",{children:"Standard shipping has a fixed cost and is delivered within 3 to 7 business days."})}),v.jsx("div",{className:"border border-[#1b1919] rounded-xl p-4 mb-3 cursor-pointer text-stone-950 transition-transform hover:bg-[#18286e] hover:text-white hover:scale-[1.02]",onClick:()=>t("answer2"),children:v.jsx("h5",{className:"text-lg font-medium",children:"Express Shipping"})}),n==="answer2"&&v.jsx("div",{className:"bg-[#e1e8ed] border border-black text-stone-950 rounded-xl p-4 mb-4",children:v.jsx("p",{children:"Express shipping guarantees fast delivery within 1 to 3 business days for an additional cost."})}),v.jsx("div",{className:"border border-[#1b1919] rounded-xl p-4 mb-3 cursor-pointer transition-transform hover:bg-[#18286e] hover:text-white hover:scale-[1.02]",onClick:()=>t("answer3"),children:v.jsx("h5",{className:"text-lg font-medium text-stone-950 hover:text-white",children:"International Shipping"})}),n==="answer3"&&v.jsx("div",{className:"bg-[#e1e8ed] border border-black text-stone-950 rounded-xl p-4 mb-4",children:v.jsx("p",{children:"International shipping is available for most countries and takes 7 to 15 business days."})})]})})},UZ=()=>v.jsxs("div",{className:"h-full flex flex-col gap-2",children:[v.jsxs(bt,{to:"/dashboard/product/new",className:"bg-black text-white flex items-center self-end py-[6px] px-2 rounded-md text-sm gap-1 font-semibold",children:[v.jsx(rM,{className:"inline-block"}),"New Product"]}),v.jsx(NZ,{})]}),FZ=()=>v.jsx("div",{children:v.jsx(oD,{titleForm:"Add Product"})}),$Z=()=>v.jsx("div",{children:v.jsx(oD,{titleForm:"Edit Product"})}),qZ=()=>{const{data:n,isLoading:e}=Zi({queryKey:["orders","admin"],queryFn:Y5});return{data:n,isLoading:e}},HZ=()=>{const{data:n,isLoading:e}=qZ();if(e||!n)return v.jsx(On,{});const t=n.map(r=>({...r,customers:Array.isArray(r.customers)?r.customers[0]:r.customers}));return v.jsxs("div",{className:"space-y-5",children:[v.jsx("h1",{className:"text-2xl font-bold",children:"Orders"}),v.jsx(AZ,{orders:t})]})},KZ=["Product","Quantity","Total"],GZ=()=>{const n=bn(),{id:e}=Kf(),{data:t,isLoading:r}=WV(Number(e));return r||!t?v.jsx(On,{}):v.jsxs("div",{children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("button",{className:"border rounded-full py-2 border-slate-200 px-5 flex items-center justify-center gap-2 text-xs font-medium uppercase tracking-widest hover:bg-stone-100 transition-all",onClick:()=>n(-1),children:[v.jsx(M4,{size:16}),"Back to Orders"]}),v.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[v.jsxs("h1",{className:"text-3xl font-bold",children:["Order #",e]}),v.jsx("p",{className:"text-sm",children:Zf(t.created_at)})]}),v.jsx("div",{}),v.jsx("div",{})]}),v.jsxs("div",{className:"flex flex-col mt-10 mb-5 gap-10",children:[v.jsxs("table",{className:"text-sm w-full caption-bottom overflow-auto",children:[v.jsx("thead",{className:"border-b border-gray-200 pb-3",children:v.jsx("tr",{className:"text-sm font-bold",children:KZ.map((s,i)=>v.jsx("th",{className:`h-12 px-4 ${s==="Product"?"text-left":"text-center"}`,children:s},i))})}),v.jsx("tbody",{className:"[&_tr:last-child]:border-0",children:Array.isArray(t.orderItems)&&t.orderItems.map((s,i)=>v.jsxs("tr",{className:"border-b border-gray-200",children:[v.jsxs("td",{className:"p-4 font-medium tracking-tighter flex gap-3 items-center",children:[v.jsx("img",{src:s.productImage||"https://ui.shadcn.com/placeholder.svg",alt:s.productName||"Product",className:"h-20 w-20 object-contain rounded-lg"}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("h3",{children:s.productName||"Unknown Product"}),v.jsxs("p",{className:"text-xs",children:[s.color_name||"No color"," / ",s.size||"No size"]}),v.jsx("p",{className:"text-sm",children:Ht(s.price||0)})]})]}),v.jsx("td",{className:"p-4 font-medium tracking-tighter text-center",children:s.quantity||0}),v.jsx("td",{className:"p-4 font-medium tracking-tighter text-center",children:Ht((s.price||0)*(s.quantity||0))})]},i))})]}),v.jsxs("div",{className:"flex flex-col gap-3 text-slate-600 text-sm self-end w-1/2",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("p",{children:"Subtotal"}),v.jsx("p",{children:Ht(t.totalAmount)})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("p",{children:"Delivery (Standard)"}),v.jsx("p",{children:Ht(0)})]}),v.jsxs("div",{className:"flex justify-between text-black font-semibold",children:[v.jsx("p",{children:"Total"}),v.jsx("p",{children:Ht(t.totalAmount)})]})]}),v.jsxs("div",{className:"flex flex-col gap-3",children:[v.jsx("h2",{className:"text-lg font-bold",children:"Address"}),v.jsxs("div",{className:"border border-stone-300 p-5 flex flex-col gap-5",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("h3",{className:"font-medium",children:"Client:"}),v.jsx("p",{children:t.customer.full_name})]}),v.jsxs("div",{className:"flex flex-col gap-1 text-sm",children:[v.jsx("h3",{className:"font-medium text-base",children:"Delivery:"}),v.jsx("p",{children:t.address.addressLine1}),v.jsx("p",{children:t.address.addressLine2&&t.address.addressLine2}),v.jsx("p",{children:t.address.city}),v.jsx("p",{children:t.address.state}),v.jsx("p",{children:t.address.postalCode}),v.jsx("p",{children:t.address.country})]})]})]})]})]})},ZZ=h4([{path:"/",element:v.jsx(G6,{}),children:[{index:!0,element:v.jsx(X6,{})},{path:"about",element:v.jsx(t$,{})},{path:"Contact Us",element:v.jsx(m$,{})},{path:"Shop All",element:v.jsx(v$,{})},{path:"products/:slug",element:v.jsx(jK,{})},{path:"login",element:v.jsx(RK,{})},{path:"register",element:v.jsx(pZ,{})},{path:"account",element:v.jsx(mZ,{}),children:[{path:"",element:v.jsx(nm,{to:"/account/orders"})},{path:"orders",element:v.jsx(vZ,{})},{path:"orders/:id",element:v.jsx(kZ,{})}]},{path:"faq",element:v.jsx(VZ,{})},{path:"shipping",element:v.jsx(IZ,{})},{path:"returns",element:v.jsx(BZ,{})}]},{path:"/checkout",element:v.jsx(xZ,{})},{path:"/checkout/:id/thank-you",element:v.jsx(wZ,{})},{path:"/dashboard",element:v.jsx(zZ,{}),children:[{index:!0,element:v.jsx(nm,{to:"/dashboard/product"})},{path:"product",element:v.jsx(UZ,{})},{path:"product/new",element:v.jsx(FZ,{})},{path:"product/edit/:slug",element:v.jsx($Z,{})},{path:"order",element:v.jsx(HZ,{})},{path:"order/:id",element:v.jsx(GZ,{})}]}]),YZ=new x3;SP.createRoot(document.getElementById("root")).render(v.jsx(M.StrictMode,{children:v.jsxs(T3,{client:YZ,children:[v.jsx(E4,{router:ZZ}),v.jsx($V,{})]})}));export{Jb as g};
